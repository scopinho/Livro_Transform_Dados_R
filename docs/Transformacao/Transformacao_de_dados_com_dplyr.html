<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Transformação e Manipulação de Dados com a linguagem R - 4&nbsp; Transformação de Dados com DPLYR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Manipulacao_Strings/Manipulacao de strings com stringr.html" rel="next">
<link href="../Organizacao/Organizacao_de_dados_com_tidyr.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>

<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transformação de Dados com DPLYR</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Transformação e Manipulação de Dados com a linguagem R</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Bem-Vindo</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Importacao/Importacao_de_dados_com_tidyverse.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Importação de Dados com TIDYVERSE</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Organizacao/Organizacao_de_dados_com_tidyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Organização de Dados com TIDYR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Transformacao/Transformacao_de_dados_com_dplyr.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transformação de Dados com DPLYR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Manipulacao_Strings/Manipulacao de strings com stringr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulacao de Strings com STRINGR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DataHora/Datas_e_horas_com_lubridate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Datas e horas com LUBRIDATE</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Visualizacao/Visualizacao_de_dados_com_ggplot2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Visualização de Dados com GGPLOT2</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"> <span class="header-section-number">4.1</span> Introdução</a>
  <ul class="collapse">
  <li><a href="#exemplos-da-folha-de-referência" id="toc-exemplos-da-folha-de-referência" class="nav-link" data-scroll-target="#exemplos-da-folha-de-referência"> <span class="header-section-number">4.1.1</span> Exemplos da Folha de Referência</a></li>
  <li><a href="#dados-organizados-e-canalização" id="toc-dados-organizados-e-canalização" class="nav-link" data-scroll-target="#dados-organizados-e-canalização"> <span class="header-section-number">4.1.2</span> Dados Organizados e Canalização</a></li>
  </ul></li>
  <li><a href="#resumindo-observações" id="toc-resumindo-observações" class="nav-link" data-scroll-target="#resumindo-observações"> <span class="header-section-number">4.2</span> Resumindo Observações</a>
  <ul class="collapse">
  <li><a href="#summarise" id="toc-summarise" class="nav-link" data-scroll-target="#summarise"> <span class="header-section-number">4.2.0.1</span> summarise</a></li>
  <li><a href="#count" id="toc-count" class="nav-link" data-scroll-target="#count"> <span class="header-section-number">4.2.0.2</span> count</a></li>
  </ul></li>
  <li><a href="#agrupando-observações" id="toc-agrupando-observações" class="nav-link" data-scroll-target="#agrupando-observações"> <span class="header-section-number">4.3</span> Agrupando Observações</a>
  <ul class="collapse">
  <li><a href="#group_by" id="toc-group_by" class="nav-link" data-scroll-target="#group_by"> <span class="header-section-number">4.3.0.1</span> group_by</a></li>
  <li><a href="#rowwise" id="toc-rowwise" class="nav-link" data-scroll-target="#rowwise"> <span class="header-section-number">4.3.0.2</span> rowwise</a></li>
  </ul></li>
  <li><a href="#manipulando-observações" id="toc-manipulando-observações" class="nav-link" data-scroll-target="#manipulando-observações"> <span class="header-section-number">4.4</span> Manipulando Observações</a>
  <ul class="collapse">
  <li><a href="#extração-de-observações" id="toc-extração-de-observações" class="nav-link" data-scroll-target="#extração-de-observações"> <span class="header-section-number">4.4.1</span> Extração de Observações</a>
  <ul class="collapse">
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"> <span class="header-section-number">4.4.1.1</span> filter</a></li>
  <li><a href="#distinct" id="toc-distinct" class="nav-link" data-scroll-target="#distinct"> <span class="header-section-number">4.4.1.2</span> distinct</a></li>
  <li><a href="#slice" id="toc-slice" class="nav-link" data-scroll-target="#slice"> <span class="header-section-number">4.4.1.3</span> slice</a></li>
  <li><a href="#slice_sample" id="toc-slice_sample" class="nav-link" data-scroll-target="#slice_sample"> <span class="header-section-number">4.4.1.4</span> slice_sample</a></li>
  <li><a href="#slice_min" id="toc-slice_min" class="nav-link" data-scroll-target="#slice_min"> <span class="header-section-number">4.4.1.5</span> slice_min</a></li>
  <li><a href="#slice_head" id="toc-slice_head" class="nav-link" data-scroll-target="#slice_head"> <span class="header-section-number">4.4.1.6</span> slice_head</a></li>
  </ul></li>
  <li><a href="#arranjar-observações" id="toc-arranjar-observações" class="nav-link" data-scroll-target="#arranjar-observações"> <span class="header-section-number">4.4.2</span> Arranjar Observações</a>
  <ul class="collapse">
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange"> <span class="header-section-number">4.4.2.1</span> arrange</a></li>
  </ul></li>
  <li><a href="#adicionar-observações" id="toc-adicionar-observações" class="nav-link" data-scroll-target="#adicionar-observações"> <span class="header-section-number">4.4.3</span> Adicionar Observações</a>
  <ul class="collapse">
  <li><a href="#add_row" id="toc-add_row" class="nav-link" data-scroll-target="#add_row"> <span class="header-section-number">4.4.3.1</span> add_row</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#manipulando-variáveis" id="toc-manipulando-variáveis" class="nav-link" data-scroll-target="#manipulando-variáveis"> <span class="header-section-number">4.5</span> Manipulando Variáveis</a>
  <ul class="collapse">
  <li><a href="#extração-de-variáveis" id="toc-extração-de-variáveis" class="nav-link" data-scroll-target="#extração-de-variáveis"> <span class="header-section-number">4.5.1</span> Extração de Variáveis</a>
  <ul class="collapse">
  <li><a href="#pull" id="toc-pull" class="nav-link" data-scroll-target="#pull"> <span class="header-section-number">4.5.1.1</span> pull</a></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"> <span class="header-section-number">4.5.1.2</span> select</a></li>
  <li><a href="#relocate" id="toc-relocate" class="nav-link" data-scroll-target="#relocate"> <span class="header-section-number">4.5.1.3</span> relocate</a></li>
  </ul></li>
  <li><a href="#manipular-várias-variáveis-de-uma-vez" id="toc-manipular-várias-variáveis-de-uma-vez" class="nav-link" data-scroll-target="#manipular-várias-variáveis-de-uma-vez"> <span class="header-section-number">4.5.2</span> Manipular Várias Variáveis de Uma Vez</a>
  <ul class="collapse">
  <li><a href="#across" id="toc-across" class="nav-link" data-scroll-target="#across"> <span class="header-section-number">4.5.2.1</span> across</a></li>
  <li><a href="#c_across" id="toc-c_across" class="nav-link" data-scroll-target="#c_across"> <span class="header-section-number">4.5.2.2</span> c_across</a></li>
  </ul></li>
  <li><a href="#criando-novas-variáveis" id="toc-criando-novas-variáveis" class="nav-link" data-scroll-target="#criando-novas-variáveis"> <span class="header-section-number">4.5.3</span> Criando novas variáveis</a>
  <ul class="collapse">
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate"> <span class="header-section-number">4.5.3.1</span> mutate</a></li>
  <li><a href="#transmutate" id="toc-transmutate" class="nav-link" data-scroll-target="#transmutate"> <span class="header-section-number">4.5.3.2</span> transmutate</a></li>
  <li><a href="#rename" id="toc-rename" class="nav-link" data-scroll-target="#rename"> <span class="header-section-number">4.5.3.3</span> rename</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#funções-vetorizadas" id="toc-funções-vetorizadas" class="nav-link" data-scroll-target="#funções-vetorizadas"> <span class="header-section-number">4.6</span> Funções Vetorizadas</a>
  <ul class="collapse">
  <li><a href="#deslocamento" id="toc-deslocamento" class="nav-link" data-scroll-target="#deslocamento"> <span class="header-section-number">4.6.1</span> Deslocamento</a>
  <ul class="collapse">
  <li><a href="#lag" id="toc-lag" class="nav-link" data-scroll-target="#lag"> <span class="header-section-number">4.6.1.1</span> lag</a></li>
  <li><a href="#lead" id="toc-lead" class="nav-link" data-scroll-target="#lead"> <span class="header-section-number">4.6.1.2</span> lead</a></li>
  </ul></li>
  <li><a href="#agregação-acumulada" id="toc-agregação-acumulada" class="nav-link" data-scroll-target="#agregação-acumulada"> <span class="header-section-number">4.6.2</span> Agregação Acumulada</a>
  <ul class="collapse">
  <li><a href="#cumall" id="toc-cumall" class="nav-link" data-scroll-target="#cumall"> <span class="header-section-number">4.6.2.1</span> cumall</a></li>
  <li><a href="#cumany" id="toc-cumany" class="nav-link" data-scroll-target="#cumany"> <span class="header-section-number">4.6.2.2</span> cumany</a></li>
  <li><a href="#cummean" id="toc-cummean" class="nav-link" data-scroll-target="#cummean"> <span class="header-section-number">4.6.2.3</span> cummean</a></li>
  <li><a href="#cummax" id="toc-cummax" class="nav-link" data-scroll-target="#cummax"> <span class="header-section-number">4.6.2.4</span> cummax</a></li>
  <li><a href="#cummin" id="toc-cummin" class="nav-link" data-scroll-target="#cummin"> <span class="header-section-number">4.6.2.5</span> cummin</a></li>
  <li><a href="#cumprod" id="toc-cumprod" class="nav-link" data-scroll-target="#cumprod"> <span class="header-section-number">4.6.2.6</span> cumprod</a></li>
  <li><a href="#cumsum" id="toc-cumsum" class="nav-link" data-scroll-target="#cumsum"> <span class="header-section-number">4.6.2.7</span> cumsum</a></li>
  </ul></li>
  <li><a href="#ranqueamento" id="toc-ranqueamento" class="nav-link" data-scroll-target="#ranqueamento"> <span class="header-section-number">4.6.3</span> Ranqueamento</a>
  <ul class="collapse">
  <li><a href="#row_number" id="toc-row_number" class="nav-link" data-scroll-target="#row_number"> <span class="header-section-number">4.6.3.1</span> row_number</a></li>
  <li><a href="#rank" id="toc-rank" class="nav-link" data-scroll-target="#rank"> <span class="header-section-number">4.6.3.2</span> rank</a></li>
  <li><a href="#dense_rank" id="toc-dense_rank" class="nav-link" data-scroll-target="#dense_rank"> <span class="header-section-number">4.6.3.3</span> dense_rank</a></li>
  <li><a href="#percent_rank" id="toc-percent_rank" class="nav-link" data-scroll-target="#percent_rank"> <span class="header-section-number">4.6.3.4</span> percent_rank</a></li>
  <li><a href="#cume_dist" id="toc-cume_dist" class="nav-link" data-scroll-target="#cume_dist"> <span class="header-section-number">4.6.3.5</span> cume_dist</a></li>
  <li><a href="#ntile" id="toc-ntile" class="nav-link" data-scroll-target="#ntile"> <span class="header-section-number">4.6.3.6</span> ntile</a></li>
  </ul></li>
  <li><a href="#matemática" id="toc-matemática" class="nav-link" data-scroll-target="#matemática"> <span class="header-section-number">4.6.4</span> Matemática</a>
  <ul class="collapse">
  <li><a href="#operações-e-logs" id="toc-operações-e-logs" class="nav-link" data-scroll-target="#operações-e-logs"> <span class="header-section-number">4.6.4.1</span> operações e logs:</a></li>
  <li><a href="#between" id="toc-between" class="nav-link" data-scroll-target="#between"> <span class="header-section-number">4.6.4.2</span> between</a></li>
  <li><a href="#near" id="toc-near" class="nav-link" data-scroll-target="#near"> <span class="header-section-number">4.6.4.3</span> near</a></li>
  </ul></li>
  <li><a href="#miscelânea" id="toc-miscelânea" class="nav-link" data-scroll-target="#miscelânea"> <span class="header-section-number">4.6.5</span> Miscelânea</a>
  <ul class="collapse">
  <li><a href="#if_else" id="toc-if_else" class="nav-link" data-scroll-target="#if_else"> <span class="header-section-number">4.6.5.1</span> if_else</a></li>
  <li><a href="#case_when" id="toc-case_when" class="nav-link" data-scroll-target="#case_when"> <span class="header-section-number">4.6.5.2</span> case_when</a></li>
  <li><a href="#coalesce" id="toc-coalesce" class="nav-link" data-scroll-target="#coalesce"> <span class="header-section-number">4.6.5.3</span> coalesce</a></li>
  <li><a href="#na_if" id="toc-na_if" class="nav-link" data-scroll-target="#na_if"> <span class="header-section-number">4.6.5.4</span> na_if</a></li>
  <li><a href="#pmax---max" id="toc-pmax---max" class="nav-link" data-scroll-target="#pmax---max"> <span class="header-section-number">4.6.5.5</span> pmax - max</a></li>
  <li><a href="#pmin---min" id="toc-pmin---min" class="nav-link" data-scroll-target="#pmin---min"> <span class="header-section-number">4.6.5.6</span> pmin - min</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#funções-de-resumo" id="toc-funções-de-resumo" class="nav-link" data-scroll-target="#funções-de-resumo"> <span class="header-section-number">4.7</span> Funções de Resumo</a>
  <ul class="collapse">
  <li><a href="#contagem" id="toc-contagem" class="nav-link" data-scroll-target="#contagem"> <span class="header-section-number">4.7.1</span> Contagem</a>
  <ul class="collapse">
  <li><a href="#n" id="toc-n" class="nav-link" data-scroll-target="#n"> <span class="header-section-number">4.7.1.1</span> n</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"> <span class="header-section-number">4.7.1.2</span> </a></li>
  <li><a href="#n_distinct" id="toc-n_distinct" class="nav-link" data-scroll-target="#n_distinct"> <span class="header-section-number">4.7.1.3</span> n_distinct</a></li>
  <li><a href="#sum" id="toc-sum" class="nav-link" data-scroll-target="#sum"> <span class="header-section-number">4.7.1.4</span> sum</a></li>
  </ul></li>
  <li><a href="#posição" id="toc-posição" class="nav-link" data-scroll-target="#posição"> <span class="header-section-number">4.7.2</span> Posição</a>
  <ul class="collapse">
  <li><a href="#mean" id="toc-mean" class="nav-link" data-scroll-target="#mean"> <span class="header-section-number">4.7.2.1</span> mean</a></li>
  <li><a href="#median" id="toc-median" class="nav-link" data-scroll-target="#median"> <span class="header-section-number">4.7.2.2</span> median</a></li>
  </ul></li>
  <li><a href="#ordem" id="toc-ordem" class="nav-link" data-scroll-target="#ordem"> <span class="header-section-number">4.7.3</span> Ordem</a>
  <ul class="collapse">
  <li><a href="#first" id="toc-first" class="nav-link" data-scroll-target="#first"> <span class="header-section-number">4.7.3.1</span> first</a></li>
  <li><a href="#last" id="toc-last" class="nav-link" data-scroll-target="#last"> <span class="header-section-number">4.7.3.2</span> last</a></li>
  <li><a href="#nth" id="toc-nth" class="nav-link" data-scroll-target="#nth"> <span class="header-section-number">4.7.3.3</span> nth</a></li>
  </ul></li>
  <li><a href="#ranqueamento-1" id="toc-ranqueamento-1" class="nav-link" data-scroll-target="#ranqueamento-1"> <span class="header-section-number">4.7.4</span> Ranqueamento</a>
  <ul class="collapse">
  <li><a href="#quantile" id="toc-quantile" class="nav-link" data-scroll-target="#quantile"> <span class="header-section-number">4.7.4.1</span> quantile</a></li>
  <li><a href="#min" id="toc-min" class="nav-link" data-scroll-target="#min"> <span class="header-section-number">4.7.4.2</span> min</a></li>
  <li><a href="#max" id="toc-max" class="nav-link" data-scroll-target="#max"> <span class="header-section-number">4.7.4.3</span> max</a></li>
  </ul></li>
  <li><a href="#dispersão" id="toc-dispersão" class="nav-link" data-scroll-target="#dispersão"> <span class="header-section-number">4.7.5</span> Dispersão</a>
  <ul class="collapse">
  <li><a href="#var" id="toc-var" class="nav-link" data-scroll-target="#var"> <span class="header-section-number">4.7.5.1</span> var</a></li>
  <li><a href="#sd" id="toc-sd" class="nav-link" data-scroll-target="#sd"> <span class="header-section-number">4.7.5.2</span> sd</a></li>
  <li><a href="#iqr" id="toc-iqr" class="nav-link" data-scroll-target="#iqr"> <span class="header-section-number">4.7.5.3</span> IQR</a></li>
  <li><a href="#mad" id="toc-mad" class="nav-link" data-scroll-target="#mad"> <span class="header-section-number">4.7.5.4</span> mad</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#combinando-tabelas" id="toc-combinando-tabelas" class="nav-link" data-scroll-target="#combinando-tabelas"> <span class="header-section-number">4.8</span> Combinando Tabelas</a>
  <ul class="collapse">
  <li><a href="#juntando-variáveis" id="toc-juntando-variáveis" class="nav-link" data-scroll-target="#juntando-variáveis"> <span class="header-section-number">4.8.1</span> Juntando Variáveis</a>
  <ul class="collapse">
  <li><a href="#bind_cols" id="toc-bind_cols" class="nav-link" data-scroll-target="#bind_cols"> <span class="header-section-number">4.8.1.1</span> bind_cols</a></li>
  </ul></li>
  <li><a href="#relacionando-dados" id="toc-relacionando-dados" class="nav-link" data-scroll-target="#relacionando-dados"> <span class="header-section-number">4.8.2</span> Relacionando Dados</a>
  <ul class="collapse">
  <li><a href="#left_join" id="toc-left_join" class="nav-link" data-scroll-target="#left_join"> <span class="header-section-number">4.8.2.1</span> left_join</a></li>
  <li><a href="#right_join" id="toc-right_join" class="nav-link" data-scroll-target="#right_join"> <span class="header-section-number">4.8.2.2</span> right_join</a></li>
  <li><a href="#inner_join" id="toc-inner_join" class="nav-link" data-scroll-target="#inner_join"> <span class="header-section-number">4.8.2.3</span> inner_join</a></li>
  <li><a href="#full_join" id="toc-full_join" class="nav-link" data-scroll-target="#full_join"> <span class="header-section-number">4.8.2.4</span> full_join</a></li>
  <li><a href="#combinando-colunas-para-uniões" id="toc-combinando-colunas-para-uniões" class="nav-link" data-scroll-target="#combinando-colunas-para-uniões"> <span class="header-section-number">4.8.2.5</span> Combinando colunas para uniões</a></li>
  </ul></li>
  <li><a href="#juntando-observações" id="toc-juntando-observações" class="nav-link" data-scroll-target="#juntando-observações"> <span class="header-section-number">4.8.3</span> Juntando Observações</a>
  <ul class="collapse">
  <li><a href="#bind_rows" id="toc-bind_rows" class="nav-link" data-scroll-target="#bind_rows"> <span class="header-section-number">4.8.3.1</span> bind_rows</a></li>
  <li><a href="#semi_join" id="toc-semi_join" class="nav-link" data-scroll-target="#semi_join"> <span class="header-section-number">4.8.3.2</span> semi_join</a></li>
  <li><a href="#anti_join" id="toc-anti_join" class="nav-link" data-scroll-target="#anti_join"> <span class="header-section-number">4.8.3.3</span> anti_join</a></li>
  <li><a href="#nest_join" id="toc-nest_join" class="nav-link" data-scroll-target="#nest_join"> <span class="header-section-number">4.8.3.4</span> nest_join</a></li>
  <li><a href="#operações-de-definição" id="toc-operações-de-definição" class="nav-link" data-scroll-target="#operações-de-definição"> <span class="header-section-number">4.8.3.5</span> Operações de Definição</a></li>
  <li><a href="#intersect" id="toc-intersect" class="nav-link" data-scroll-target="#intersect"> <span class="header-section-number">4.8.3.6</span> intersect</a></li>
  <li><a href="#setdiff" id="toc-setdiff" class="nav-link" data-scroll-target="#setdiff"> <span class="header-section-number">4.8.3.7</span> setdiff</a></li>
  <li><a href="#union" id="toc-union" class="nav-link" data-scroll-target="#union"> <span class="header-section-number">4.8.3.8</span> union</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#nome-de-linhas" id="toc-nome-de-linhas" class="nav-link" data-scroll-target="#nome-de-linhas"> <span class="header-section-number">4.9</span> Nome de Linhas</a>
  <ul class="collapse">
  <li><a href="#rownames_to_column" id="toc-rownames_to_column" class="nav-link" data-scroll-target="#rownames_to_column"> <span class="header-section-number">4.9.0.1</span> rownames_to_column</a></li>
  <li><a href="#column_to_rownames" id="toc-column_to_rownames" class="nav-link" data-scroll-target="#column_to_rownames"> <span class="header-section-number">4.9.0.2</span> column_to_rownames</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transformação de Dados com DPLYR</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="introdução" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">4.1</span> Introdução</h2>
<p>A seguir temos vários exemplos de transformação de dados utilizando o pacote DYPLR do R. Para saber mais sobre este pacote, acesse:</p>
<p><a href="https://cran.r-project.org/package=dplyr" class="uri">https://cran.r-project.org/package=dplyr</a>.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Aviso
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para melhor utilizar este material, é importante que você tenha uma introdução à linguagem R e saiba carregar pacotes (packages) no R. Para mais informações acesse:</p>
<p><a href="https://education.rstudio.com/learn/beginner/" class="uri">https://education.rstudio.com/learn/beginner/</a>.</p>
</div>
</div>
<p>Para os exemplos à seguir, iremos usar os seguintes pacotes:</p>
<ul>
<li><strong>tidyverse</strong></li>
<li><strong>gt</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (gt)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="exemplos-da-folha-de-referência" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="exemplos-da-folha-de-referência"><span class="header-section-number">4.1.1</span> Exemplos da Folha de Referência</h3>
<p>A maioria dos exemplos, visam ajudar na interpretação dos exemplos e funções encontradas na <a href="https://github.com/scopinho/R-cheatsheets/blob/main/translations/portuguese/data-transformation_pt_br.pdf"><strong>Folha de Referência</strong></a> do dyplr disponível no site do <a href="rstudio.com">RStudio</a>.</p>
<p>Para a maioria dos exemplos utilizaremos as bases de dados <strong>mtcars</strong> e <strong>starwars</strong> provenientes do pacote <strong>datasets e dplyr</strong>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>Em geral, ao final de cada comando, você poderá ver uma chamada à função <strong>gt()</strong>. Isto é apenas para a formatação da tabela de saída e não é necessário para que você entenda os comandos precedentes. Em alguns casos, onde o volume de dados de saída pode ser extenso, usamos também a função <strong>head()</strong> para mostrar apenas as linhas iniciais. Quando o exemplo possui muitas colunas de saída, eventualmente utilizamos a função <strong>select()</strong> para selecionar apenas algumas colunas.</em></p>
</div>
</div>
<hr>
<p><strong>MTCARS</strong>: Dados de consumo de combustível, performance e design de 32 automóveis ( <em>1974 Motor Trend US magazine</em>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span> () </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<hr>
<p><strong>STARWARS</strong>: Dados dos personagens de STAR WARS</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["height"],"name":[2],"type":["int"],"align":["right"]},{"label":["mass"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hair_color"],"name":[4],"type":["chr"],"align":["left"]},{"label":["skin_color"],"name":[5],"type":["chr"],"align":["left"]},{"label":["eye_color"],"name":[6],"type":["chr"],"align":["left"]},{"label":["birth_year"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["sex"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"Luke Skywalker","2":"172","3":"77","4":"blond","5":"fair","6":"blue","7":"19.0","8":"male"},{"1":"C-3PO","2":"167","3":"75","4":"NA","5":"gold","6":"yellow","7":"112.0","8":"none"},{"1":"R2-D2","2":"96","3":"32","4":"NA","5":"white, blue","6":"red","7":"33.0","8":"none"},{"1":"Darth Vader","2":"202","3":"136","4":"none","5":"white","6":"yellow","7":"41.9","8":"male"},{"1":"Leia Organa","2":"150","3":"49","4":"brown","5":"light","6":"brown","7":"19.0","8":"female"},{"1":"Owen Lars","2":"178","3":"120","4":"brown, grey","5":"light","6":"blue","7":"52.0","8":"male"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>O termo <u>data-frame</u> descrito ao longo deste texto, é utilizado de forma livre para objetos do tipo data.frame, tibble, entre outros. Pense como se fosse uma tabela de um banco de dados e/ou uma planilha do MS Excel, contendo linhas e colunas. Apesar de não ser rigorosamente igual à uma tabela, muitas vezes usaremos estes termos de forma intercambiável para facilitar o entendimento de iniciantes.</em></p>
</div>
</div>
</section>
<section id="dados-organizados-e-canalização" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="dados-organizados-e-canalização"><span class="header-section-number">4.1.2</span> Dados Organizados e Canalização</h3>
<p>Dados organizados (<em>tidy</em>) são estruturados onde:</p>
<p>Cada <strong>variável</strong> está em sua própria <strong>coluna</strong> e cada <strong>observação</strong> está em sua própria <strong>linha</strong>.</p>
<p><img src="images/tidy_data01.png" class="img-fluid"></p>
<p>Canalização (<em>Piping</em>) é uma forma de sequenciar as funções, facilitando a leitura de várias funções em conjunto. O símbolo <strong>|&gt;</strong> ou <strong>%&gt;%</strong> podem ser utilizados para esta finalidade.</p>
<p><strong>Exemplo</strong>: x |&gt; f(y), é o mesmo que f(x,y)</p>
</section>
</section>
<section id="resumindo-observações" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="resumindo-observações"><span class="header-section-number">4.2</span> Resumindo Observações</h2>
<p><strong>Funções de resumo</strong> recebem vetores como entrada e retornam um único valor.</p>
<section id="summarise" class="level4" data-number="4.2.0.1">
<h4 data-number="4.2.0.1" class="anchored" data-anchor-id="summarise"><span class="header-section-number">4.2.0.1</span> summarise</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span> (mtcars, <span class="at">media=</span><span class="fu">mean</span>(mpg)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["media"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"20.09062"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Cria um novo data-frame. Ele gera uma linha para cada combinação de grupos de variáveis. Se não houver grupos, a saída será uma única linha resumindo todas as observações da entrada.</p>
<p>No exemplo acima, não especificamos nenhum grupo (mais na seção <a href="#agrupando-observações">Agrupando Observações</a>), por isso, ele retorna apenas uma linha resumindo todas as observações de mtcars. Como também especificamos a função de <strong>mean(</strong>), o valor retornado será a média da coluna <strong>mpg</strong> para todas as observações do data frame em uma única variável (coluna) chamada <strong>média</strong>.</p>
<p>Outra format de se escrever o comando acima, utilizando a canalização (“pinping”) descrita acima, seria:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(média <span class="ot">=</span> <span class="fu">mean</span>(mpg))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ver a seção de <a href="#funções-de-resumo">Funções de Resumo</a> para mais detalhes.</p>
</section>
<section id="count" class="level4" data-number="4.2.0.2">
<h4 data-number="4.2.0.2" class="anchored" data-anchor-id="count"><span class="header-section-number">4.2.0.2</span> count</h4>
<p>Conta valores únicos de uma ou mais variáveis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span> (cyl) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"4","2":"11"},{"1":"6","2":"7"},{"1":"8","2":"14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No exemplo acima, contamos os valores únicos da variável <strong>cyl</strong> e mostramos na variável <strong>n</strong>. Um equivalente seria utilizar o summarise com o grupo criado na variável cyl: <em>mtcars |&gt; group_by(cyl) |&gt; summarise(n = n())</em>.</p>
<p>Mais sobre a função group_by na seção <a href="#agrupando-observações">Agrupando Observações</a>.</p>
</section>
</section>
<section id="agrupando-observações" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="agrupando-observações"><span class="header-section-number">4.3</span> Agrupando Observações</h2>
<section id="group_by" class="level4" data-number="4.3.0.1">
<h4 data-number="4.3.0.1" class="anchored" data-anchor-id="group_by"><span class="header-section-number">4.3.0.1</span> group_by</h4>
<p>Use <strong>group_by</strong> (.data, …, .add = FALSE, .drop = TRUE) para criar uma cópia da tabela agrupada por colunas. As funções do dplyr irão manipular cada grupo separadamente e combinar os resultados.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Importante
</div>
</div>
<div class="callout-body-container callout-body">
<p>Se compararmos o resultado de uma tabela antes e depois do agrupamento (group_by), apenas uma informação sobre o grupo será visível.</p>
<p>Isto significa que o agrupamento só afetará o resultado de saída se utilizado em conjunto com funções que entendam esta mudança de contexto, como as funções do dyplr.</p>
</div>
</div>
<p>Por exemplo, <strong>ANTES</strong> de agruparmos pela variável <strong>cyl</strong> (group_by(cyl)) temos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><strong>DEPOIS</strong> do group_by:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Veja que, exceto pela informação :</p>
<p><strong>’# Groups: cyl [3]</strong></p>
<p>Todo o restante da saída é o mesmo. Por isso, é importante que utilizemos o contexto do grupo, junto com outra função.</p>
<p>Exemplo: Se quiser criar uma tabela com a função <strong>summarise()</strong> com apenas o grupo de cilindradas, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>() </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"4"},{"1":"6"},{"1":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Supondo que quiséssemos agora, saber o número de carros, agrupados pela variável cyl, podemos utilizar a função summarise, após o agrupamento, criando uma coluna através da função n().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">num_automoveis =</span> <span class="fu">n</span>()) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["num_automoveis"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"4","2":"11"},{"1":"6","2":"7"},{"1":"8","2":"14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Em outro exemplo, podemos extrair o consumo médio (miles/gallon) dos veículos agrupado pelo número de cilindros destes veículos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">consumo_medio =</span> <span class="fu">mean</span>(mpg)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["consumo_medio"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"26.66364"},{"1":"6","2":"19.74286"},{"1":"8","2":"15.10000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>O agrupamento pode ser feito por mais de uma variável também. Por exemplo, se quisermos obter o consumo médio (miles/gallon) dos veículos agrupado pelo número de cilindros destes veículos e também por número de marchas, podemos ter:</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>A saída da função summarise, dependendo do caso, irá ser agrupada também automaticamente, se quiser que isto não aconteça, utiliza a opção <strong>.groups=“drop”</strong>.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl, gear) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(consumo_médio <span class="ot">=</span> <span class="fu">mean</span>(mpg), <span class="at">.groups =</span> <span class="st">"drop"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["consumo_médio"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"3","3":"21.500"},{"1":"4","2":"4","3":"26.925"},{"1":"4","2":"5","3":"28.200"},{"1":"6","2":"3","3":"19.750"},{"1":"6","2":"4","3":"19.750"},{"1":"6","2":"5","3":"19.700"},{"1":"8","2":"3","3":"15.050"},{"1":"8","2":"5","3":"15.400"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>A função <strong>un_group()</strong> remove os grupos definidos em uma tabela. É uma boa prática, remover os grupos após efetuar uma sumarização, por exemplo, afim de evitar resultados indesejáveis em sumarizações futuras. Por exemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl, gear) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">numero_marchas =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["numero_marchas"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"4","2":"3","3":"1"},{"1":"4","2":"4","3":"8"},{"1":"4","2":"5","3":"2"},{"1":"6","2":"3","3":"2"},{"1":"6","2":"4","3":"4"},{"1":"6","2":"5","3":"1"},{"1":"8","2":"3","3":"12"},{"1":"8","2":"5","3":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No caso acima, se não tivessemos utilizado o desagrupamento (<strong>un_group</strong>), o resultado ainda teria os grupos demarcados.</p>
</section>
<section id="rowwise" class="level4" data-number="4.3.0.2">
<h4 data-number="4.3.0.2" class="anchored" data-anchor-id="rowwise"><span class="header-section-number">4.3.0.2</span> rowwise</h4>
<p>Use rowwise(.data, …) para agrupar dados em linhas individuais. Funções do dyplr irão computar os resultados para cada linha.</p>
<p>No exemplo abaixo, a tabela de dados startwars, possui uma variável (films) que é o tipo lista, ou seja, a coluna contém uma lista de filmes para cada personagem (observação).</p>
<p>Supondo que quiséssemos saber em quantos filmes cada personagem aparece:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, films) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quantos_filmes =</span> <span class="fu">length</span>(films)) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span> () </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["films"],"name":[2],"type":["list"],"align":["right"]},{"label":["quantos_filmes"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Luke Skywalker","2":"<chr [5]>","3":"5"},{"1":"C-3PO","2":"<chr [6]>","3":"6"},{"1":"R2-D2","2":"<chr [7]>","3":"7"},{"1":"Darth Vader","2":"<chr [4]>","3":"4"},{"1":"Leia Organa","2":"<chr [5]>","3":"5"},{"1":"Owen Lars","2":"<chr [3]>","3":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Em geral, utilizamos a função <strong>rowwise</strong> quando <u>não temos uma função vetorizada</u>, isto é, que não retorna um vetor e precisamos aplicá-la em cada linha da tabela.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>Aqui utilizamos também a função <strong>head ()</strong> que retorna apenas as primeiras linhas de uma tablea e não todo seu conteúdo.</em></p>
</div>
</div>
<p>Veja a seção de <a href="#funções-vetorizadas">Funções Vetorizadas</a>para maiores informações.</p>
</section>
</section>
<section id="manipulando-observações" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="manipulando-observações"><span class="header-section-number">4.4</span> Manipulando Observações</h2>
<section id="extração-de-observações" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="extração-de-observações"><span class="header-section-number">4.4.1</span> Extração de Observações</h3>
<p>O dplyr possui uma série de funções que nos ajudam a extrair observações (linhas) de uma tabela, dentre estas, temos:</p>
<section id="filter" class="level4" data-number="4.4.1.1">
<h4 data-number="4.4.1.1" class="anchored" data-anchor-id="filter"><span class="header-section-number">4.4.1.1</span> filter</h4>
<p>Extrai linhas de uma tablea que satisfazem o critério lógico.</p>
<p>filter(.data, …, .preserve = FALSE)</p>
<p>Exemplo: Para extrair apenas os veículos que possuem consumo (miles/galon) acima de 20, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">20</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 230"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","_rn_":"Toyota Corona"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","_rn_":"Lotus Europa"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Podemos utilizar operadores lógicos para ajustar os critérios do filtro, como por exemplo, os operadores abaixo:</p>
<p><strong>==, &gt;, &gt;=, &amp;, |, !, xor(), is.na(), between(), near()</strong>, entre outros</p>
<p>Por exemplo, para filtrar os veículos com consumo acima de 20 <strong>E</strong> com apenas 3 marchas, temos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mpg <span class="sc">&gt;</span> <span class="dv">20</span> <span class="sc">&amp;</span> gear <span class="sc">==</span> <span class="dv">3</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","_rn_":"Toyota Corona"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="distinct" class="level4" data-number="4.4.1.2">
<h4 data-number="4.4.1.2" class="anchored" data-anchor-id="distinct"><span class="header-section-number">4.4.1.2</span> distinct</h4>
<p>Remove linhas com valores duplicados, retornando apenas os valores únicos da variável (coluna).</p>
<p>distinct(.data, …, .keep_all = FALSE) .</p>
<p>Por exemplo, se precisarmos saber quais os valores da variável gear (marcha), podemos utilizar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(gear) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["gear"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","_rn_":"Mazda RX4"},{"1":"3","_rn_":"Hornet 4 Drive"},{"1":"5","_rn_":"Porsche 914-2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Se utilizar o código acima, verá que o R possui um “nome” para as linhas. É importante ressaltar que este nome NÃO é uma variável da tabela, ou seja, não temos uma coluna com o “nome” do veículo, é por isso que você vê nomes de veículos, mesmo pedindo os valores únicos das marchas. Para maiores informações sobre isso, veja a seção <a href="#nome-de-linhas">Nome de Linhas</a>.</p>
</div>
</div>
</section>
<section id="slice" class="level4" data-number="4.4.1.3">
<h4 data-number="4.4.1.3" class="anchored" data-anchor-id="slice"><span class="header-section-number">4.4.1.3</span> slice</h4>
<p>Seleciona linhas pelas suas respectivas posições nda tabela.</p>
<p>slice(.data, …, .preserve = FALSE)</p>
<p>Por exemplo, para selecionarmos apenas da linha 10 até a linha 15 da tabela usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a> mtcars <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">slice</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">15</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.44","7":"18.30","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.44","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.07","7":"17.40","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.73","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.78","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.25","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Veja que em alguns casos, podemos utilizar um equivalente filtro para obter o mesmo resultado:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(<span class="fu">row_number</span>(), <span class="dv">10</span>, <span class="dv">15</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.44","7":"18.30","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.44","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.07","7":"17.40","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.73","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.78","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.25","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="slice_sample" class="level4" data-number="4.4.1.4">
<h4 data-number="4.4.1.4" class="anchored" data-anchor-id="slice_sample"><span class="header-section-number">4.4.1.4</span> slice_sample</h4>
<p>Para randomicamente selecionar linhas da tabela. Use <strong>n</strong> para selecionar o número de linhas ou <strong>prop</strong> para selecionar um percentual das linhas.</p>
<p>slice_sample(.data, …, n, prop, weight_by = NULL, replace = FALSE) .</p>
<p>Para selecionar <strong>5</strong> linhas randomicas da tabela usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.17","7":"14.50","8":"0","9":"1","10":"5","11":"4","_rn_":"Ford Pantera L"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.44","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.73","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.46","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.32","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Para selecionar <strong>25%</strong> do total de linhas da tabela de forma dandomica usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.25</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin...2"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin...5"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="slice_min" class="level4" data-number="4.4.1.5">
<h4 data-number="4.4.1.5" class="anchored" data-anchor-id="slice_min"><span class="header-section-number">4.4.1.5</span> slice_min</h4>
<p>Seleciona linhas com valores minímo (slice_min) ou máximo (slice_max) de uma variável.</p>
<p>slice_min(.data, order_by, …, n, prop, with_ties = TRUE) and slice_max() .</p>
<p>Por exemplo, com base no menor valor da variável de consumo do veículo (mpg), retorne 25% da tabela.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(mpg, <span class="at">prop =</span> <span class="fl">0.25</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","_rn_":"Lincoln Continental"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","_rn_":"Camaro Z28"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","_rn_":"Duster 360"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","_rn_":"Chrysler Imperial"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","_rn_":"Maserati Bora"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Outro exemplo, poderia ser que você precise retornar os 5 veículos de maior consumo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(mpg, <span class="at">n =</span> <span class="dv">5</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Toyota Corolla"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","_rn_":"Honda Civic"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","_rn_":"Lotus Europa"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat X1-9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="slice_head" class="level4" data-number="4.4.1.6">
<h4 data-number="4.4.1.6" class="anchored" data-anchor-id="slice_head"><span class="header-section-number">4.4.1.6</span> slice_head</h4>
<p>Seleciona as primeiras (slice_head) or últimas (slide_tail) linhas de uma tabela.</p>
<p>slice_head(.data, …, n, prop) and slice_tail() .</p>
<p>Por exemplo, vamos selecionar as 5 primeiras linhas de mtcars:</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>Apenas para exemplificar, no código abaixo, deixamos a função gt “mostrar” os nomes das linhas em sua saída. Para maiores informações sobre isso, veja a seção <a href="#nome-de-linhas">Nome de Linhas</a>.</em></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rownames_to_stub =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="ooexgapdea" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ooexgapdea .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ooexgapdea .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ooexgapdea .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ooexgapdea .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ooexgapdea .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ooexgapdea .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ooexgapdea .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ooexgapdea .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ooexgapdea .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ooexgapdea .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ooexgapdea .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ooexgapdea .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ooexgapdea .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ooexgapdea .gt_from_md > :first-child {
  margin-top: 0;
}

#ooexgapdea .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ooexgapdea .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ooexgapdea .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ooexgapdea .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ooexgapdea .gt_row_group_first td {
  border-top-width: 2px;
}

#ooexgapdea .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ooexgapdea .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ooexgapdea .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ooexgapdea .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ooexgapdea .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ooexgapdea .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ooexgapdea .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ooexgapdea .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ooexgapdea .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ooexgapdea .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ooexgapdea .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ooexgapdea .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ooexgapdea .gt_left {
  text-align: left;
}

#ooexgapdea .gt_center {
  text-align: center;
}

#ooexgapdea .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ooexgapdea .gt_font_normal {
  font-weight: normal;
}

#ooexgapdea .gt_font_bold {
  font-weight: bold;
}

#ooexgapdea .gt_font_italic {
  font-style: italic;
}

#ooexgapdea .gt_super {
  font-size: 65%;
}

#ooexgapdea .gt_two_val_uncert {
  display: inline-block;
  line-height: 1em;
  text-align: right;
  font-size: 60%;
  vertical-align: -0.25em;
  margin-left: 0.1em;
}

#ooexgapdea .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#ooexgapdea .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ooexgapdea .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#ooexgapdea .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#ooexgapdea .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right gt_stub">Mazda RX4</td>
<td class="gt_row gt_right">21.0</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">160</td>
<td class="gt_row gt_right">110</td>
<td class="gt_row gt_right">3.90</td>
<td class="gt_row gt_right">2.620</td>
<td class="gt_row gt_right">16.46</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Mazda RX4 Wag</td>
<td class="gt_row gt_right">21.0</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">160</td>
<td class="gt_row gt_right">110</td>
<td class="gt_row gt_right">3.90</td>
<td class="gt_row gt_right">2.875</td>
<td class="gt_row gt_right">17.02</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Datsun 710</td>
<td class="gt_row gt_right">22.8</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">108</td>
<td class="gt_row gt_right">93</td>
<td class="gt_row gt_right">3.85</td>
<td class="gt_row gt_right">2.320</td>
<td class="gt_row gt_right">18.61</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Hornet 4 Drive</td>
<td class="gt_row gt_right">21.4</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">258</td>
<td class="gt_row gt_right">110</td>
<td class="gt_row gt_right">3.08</td>
<td class="gt_row gt_right">3.215</td>
<td class="gt_row gt_right">19.44</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Hornet Sportabout</td>
<td class="gt_row gt_right">18.7</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">360</td>
<td class="gt_row gt_right">175</td>
<td class="gt_row gt_right">3.15</td>
<td class="gt_row gt_right">3.440</td>
<td class="gt_row gt_right">17.02</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
</section>
<section id="arranjar-observações" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="arranjar-observações"><span class="header-section-number">4.4.2</span> Arranjar Observações</h3>
<section id="arrange" class="level4" data-number="4.4.2.1">
<h4 data-number="4.4.2.1" class="anchored" data-anchor-id="arrange"><span class="header-section-number">4.4.2.1</span> arrange</h4>
<p>A função arrange ordena linhas por valores de uma coluna(s) (menor para maior), use com a função <strong>desc()</strong> para ordenar de maior para menor.</p>
<p>arrange(.data, …, .by_group = FALSE) arrange(mtcars, mpg) ou arrange(mtcars, desc(mpg))</p>
<p>No exemplo abaixo, vamos ordenar a variável mpg, de forma a mostrar primeiro os veículos com menor consumo de combustível até o de maior consumo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mpg) <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rownames_to_stub =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="wcpovbzaoy" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#wcpovbzaoy .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wcpovbzaoy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wcpovbzaoy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wcpovbzaoy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wcpovbzaoy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wcpovbzaoy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wcpovbzaoy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wcpovbzaoy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wcpovbzaoy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wcpovbzaoy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wcpovbzaoy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wcpovbzaoy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#wcpovbzaoy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wcpovbzaoy .gt_from_md > :first-child {
  margin-top: 0;
}

#wcpovbzaoy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wcpovbzaoy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wcpovbzaoy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wcpovbzaoy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wcpovbzaoy .gt_row_group_first td {
  border-top-width: 2px;
}

#wcpovbzaoy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wcpovbzaoy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wcpovbzaoy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wcpovbzaoy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wcpovbzaoy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wcpovbzaoy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wcpovbzaoy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wcpovbzaoy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wcpovbzaoy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wcpovbzaoy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wcpovbzaoy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wcpovbzaoy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wcpovbzaoy .gt_left {
  text-align: left;
}

#wcpovbzaoy .gt_center {
  text-align: center;
}

#wcpovbzaoy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wcpovbzaoy .gt_font_normal {
  font-weight: normal;
}

#wcpovbzaoy .gt_font_bold {
  font-weight: bold;
}

#wcpovbzaoy .gt_font_italic {
  font-style: italic;
}

#wcpovbzaoy .gt_super {
  font-size: 65%;
}

#wcpovbzaoy .gt_two_val_uncert {
  display: inline-block;
  line-height: 1em;
  text-align: right;
  font-size: 60%;
  vertical-align: -0.25em;
  margin-left: 0.1em;
}

#wcpovbzaoy .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#wcpovbzaoy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wcpovbzaoy .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#wcpovbzaoy .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#wcpovbzaoy .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right gt_stub">Cadillac Fleetwood</td>
<td class="gt_row gt_right">10.4</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">472.0</td>
<td class="gt_row gt_right">205</td>
<td class="gt_row gt_right">2.93</td>
<td class="gt_row gt_right">5.250</td>
<td class="gt_row gt_right">17.98</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Lincoln Continental</td>
<td class="gt_row gt_right">10.4</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">460.0</td>
<td class="gt_row gt_right">215</td>
<td class="gt_row gt_right">3.00</td>
<td class="gt_row gt_right">5.424</td>
<td class="gt_row gt_right">17.82</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Camaro Z28</td>
<td class="gt_row gt_right">13.3</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">350.0</td>
<td class="gt_row gt_right">245</td>
<td class="gt_row gt_right">3.73</td>
<td class="gt_row gt_right">3.840</td>
<td class="gt_row gt_right">15.41</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Duster 360</td>
<td class="gt_row gt_right">14.3</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">360.0</td>
<td class="gt_row gt_right">245</td>
<td class="gt_row gt_right">3.21</td>
<td class="gt_row gt_right">3.570</td>
<td class="gt_row gt_right">15.84</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Chrysler Imperial</td>
<td class="gt_row gt_right">14.7</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">440.0</td>
<td class="gt_row gt_right">230</td>
<td class="gt_row gt_right">3.23</td>
<td class="gt_row gt_right">5.345</td>
<td class="gt_row gt_right">17.42</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Maserati Bora</td>
<td class="gt_row gt_right">15.0</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">301.0</td>
<td class="gt_row gt_right">335</td>
<td class="gt_row gt_right">3.54</td>
<td class="gt_row gt_right">3.570</td>
<td class="gt_row gt_right">14.60</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">8</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 450SLC</td>
<td class="gt_row gt_right">15.2</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">275.8</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">3.07</td>
<td class="gt_row gt_right">3.780</td>
<td class="gt_row gt_right">18.00</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_right gt_stub">AMC Javelin</td>
<td class="gt_row gt_right">15.2</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">304.0</td>
<td class="gt_row gt_right">150</td>
<td class="gt_row gt_right">3.15</td>
<td class="gt_row gt_right">3.435</td>
<td class="gt_row gt_right">17.30</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Dodge Challenger</td>
<td class="gt_row gt_right">15.5</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">318.0</td>
<td class="gt_row gt_right">150</td>
<td class="gt_row gt_right">2.76</td>
<td class="gt_row gt_right">3.520</td>
<td class="gt_row gt_right">16.87</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Ford Pantera L</td>
<td class="gt_row gt_right">15.8</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">351.0</td>
<td class="gt_row gt_right">264</td>
<td class="gt_row gt_right">4.22</td>
<td class="gt_row gt_right">3.170</td>
<td class="gt_row gt_right">14.50</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 450SE</td>
<td class="gt_row gt_right">16.4</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">275.8</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">3.07</td>
<td class="gt_row gt_right">4.070</td>
<td class="gt_row gt_right">17.40</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 450SL</td>
<td class="gt_row gt_right">17.3</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">275.8</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">3.07</td>
<td class="gt_row gt_right">3.730</td>
<td class="gt_row gt_right">17.60</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 280C</td>
<td class="gt_row gt_right">17.8</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">167.6</td>
<td class="gt_row gt_right">123</td>
<td class="gt_row gt_right">3.92</td>
<td class="gt_row gt_right">3.440</td>
<td class="gt_row gt_right">18.90</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Valiant</td>
<td class="gt_row gt_right">18.1</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">225.0</td>
<td class="gt_row gt_right">105</td>
<td class="gt_row gt_right">2.76</td>
<td class="gt_row gt_right">3.460</td>
<td class="gt_row gt_right">20.22</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Hornet Sportabout</td>
<td class="gt_row gt_right">18.7</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">360.0</td>
<td class="gt_row gt_right">175</td>
<td class="gt_row gt_right">3.15</td>
<td class="gt_row gt_right">3.440</td>
<td class="gt_row gt_right">17.02</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 280</td>
<td class="gt_row gt_right">19.2</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">167.6</td>
<td class="gt_row gt_right">123</td>
<td class="gt_row gt_right">3.92</td>
<td class="gt_row gt_right">3.440</td>
<td class="gt_row gt_right">18.30</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Pontiac Firebird</td>
<td class="gt_row gt_right">19.2</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">400.0</td>
<td class="gt_row gt_right">175</td>
<td class="gt_row gt_right">3.08</td>
<td class="gt_row gt_right">3.845</td>
<td class="gt_row gt_right">17.05</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Ferrari Dino</td>
<td class="gt_row gt_right">19.7</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">145.0</td>
<td class="gt_row gt_right">175</td>
<td class="gt_row gt_right">3.62</td>
<td class="gt_row gt_right">2.770</td>
<td class="gt_row gt_right">15.50</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">6</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Mazda RX4</td>
<td class="gt_row gt_right">21.0</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">160.0</td>
<td class="gt_row gt_right">110</td>
<td class="gt_row gt_right">3.90</td>
<td class="gt_row gt_right">2.620</td>
<td class="gt_row gt_right">16.46</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Mazda RX4 Wag</td>
<td class="gt_row gt_right">21.0</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">160.0</td>
<td class="gt_row gt_right">110</td>
<td class="gt_row gt_right">3.90</td>
<td class="gt_row gt_right">2.875</td>
<td class="gt_row gt_right">17.02</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Hornet 4 Drive</td>
<td class="gt_row gt_right">21.4</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">258.0</td>
<td class="gt_row gt_right">110</td>
<td class="gt_row gt_right">3.08</td>
<td class="gt_row gt_right">3.215</td>
<td class="gt_row gt_right">19.44</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Volvo 142E</td>
<td class="gt_row gt_right">21.4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">121.0</td>
<td class="gt_row gt_right">109</td>
<td class="gt_row gt_right">4.11</td>
<td class="gt_row gt_right">2.780</td>
<td class="gt_row gt_right">18.60</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Toyota Corona</td>
<td class="gt_row gt_right">21.5</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">120.1</td>
<td class="gt_row gt_right">97</td>
<td class="gt_row gt_right">3.70</td>
<td class="gt_row gt_right">2.465</td>
<td class="gt_row gt_right">20.01</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Datsun 710</td>
<td class="gt_row gt_right">22.8</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">108.0</td>
<td class="gt_row gt_right">93</td>
<td class="gt_row gt_right">3.85</td>
<td class="gt_row gt_right">2.320</td>
<td class="gt_row gt_right">18.61</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 230</td>
<td class="gt_row gt_right">22.8</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">140.8</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">3.92</td>
<td class="gt_row gt_right">3.150</td>
<td class="gt_row gt_right">22.90</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Merc 240D</td>
<td class="gt_row gt_right">24.4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">146.7</td>
<td class="gt_row gt_right">62</td>
<td class="gt_row gt_right">3.69</td>
<td class="gt_row gt_right">3.190</td>
<td class="gt_row gt_right">20.00</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Porsche 914-2</td>
<td class="gt_row gt_right">26.0</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">120.3</td>
<td class="gt_row gt_right">91</td>
<td class="gt_row gt_right">4.43</td>
<td class="gt_row gt_right">2.140</td>
<td class="gt_row gt_right">16.70</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Fiat X1-9</td>
<td class="gt_row gt_right">27.3</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">79.0</td>
<td class="gt_row gt_right">66</td>
<td class="gt_row gt_right">4.08</td>
<td class="gt_row gt_right">1.935</td>
<td class="gt_row gt_right">18.90</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Honda Civic</td>
<td class="gt_row gt_right">30.4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">75.7</td>
<td class="gt_row gt_right">52</td>
<td class="gt_row gt_right">4.93</td>
<td class="gt_row gt_right">1.615</td>
<td class="gt_row gt_right">18.52</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Lotus Europa</td>
<td class="gt_row gt_right">30.4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">95.1</td>
<td class="gt_row gt_right">113</td>
<td class="gt_row gt_right">3.77</td>
<td class="gt_row gt_right">1.513</td>
<td class="gt_row gt_right">16.90</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Fiat 128</td>
<td class="gt_row gt_right">32.4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">78.7</td>
<td class="gt_row gt_right">66</td>
<td class="gt_row gt_right">4.08</td>
<td class="gt_row gt_right">2.200</td>
<td class="gt_row gt_right">19.47</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right gt_stub">Toyota Corolla</td>
<td class="gt_row gt_right">33.9</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">71.1</td>
<td class="gt_row gt_right">65</td>
<td class="gt_row gt_right">4.22</td>
<td class="gt_row gt_right">1.835</td>
<td class="gt_row gt_right">19.90</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
</section>
<section id="adicionar-observações" class="level3" data-number="4.4.3">
<h3 data-number="4.4.3" class="anchored" data-anchor-id="adicionar-observações"><span class="header-section-number">4.4.3</span> Adicionar Observações</h3>
<p>Algumas vezes precisamos adicionar observações (linhas) em uma tabela já existente, neste caso podemos utilizar a função add_row().</p>
<section id="add_row" class="level4" data-number="4.4.3.1">
<h4 data-number="4.4.3.1" class="anchored" data-anchor-id="add_row"><span class="header-section-number">4.4.3.1</span> add_row</h4>
<p>add_row(cars, speed = 1, dist = 1).</p>
<p>Neste caso, iremos adicionar uma nova linha na tables cars (não mtcars), que possui apenas duas variáveis (speed e dist).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">speed =</span> <span class="dv">1</span>, <span class="at">dist =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>() </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["speed"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["dist"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"24","2":"70","_rn_":"46"},{"1":"24","2":"92","_rn_":"47"},{"1":"24","2":"93","_rn_":"48"},{"1":"24","2":"120","_rn_":"49"},{"1":"25","2":"85","_rn_":"50"},{"1":"1","2":"1","_rn_":"51"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="manipulando-variáveis" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="manipulando-variáveis"><span class="header-section-number">4.5</span> Manipulando Variáveis</h2>
<section id="extração-de-variáveis" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="extração-de-variáveis"><span class="header-section-number">4.5.1</span> Extração de Variáveis</h3>
<p>O dplyr possui uma série de funções que nos ajudam a obter um conjunto de variáveis (colunas) como um novo vetor ou nova tabela:</p>
<section id="pull" class="level4" data-number="4.5.1.1">
<h4 data-number="4.5.1.1" class="anchored" data-anchor-id="pull"><span class="header-section-number">4.5.1.1</span> pull</h4>
<p>Extrai valores da coluna como um vetor, por nome ou índice.</p>
<p>pull(.data, var = -1, name = NULL, …)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span> (wt) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2.620 2.875 2.320 3.215 3.440 3.460 3.570 3.190 3.150 3.440 3.440 4.070
[13] 3.730 3.780 5.250 5.424 5.345 2.200 1.615 1.835 2.465 3.520 3.435 3.840
[25] 3.845 1.935 2.140 1.513 3.170 2.770 3.570 2.780</code></pre>
</div>
</div>
<p>No exemplo acima, a coluna peso (wt), é extraída da tabela e um obeto do tipo vetor é retornado na saída.</p>
<p>Podemos extrair um vator de uma colunas também utilizando o número da coluna. Se utilizarmos valores negativos, podemos extrair um vetor das colunas contando a partir do lado direto.</p>
<p>Por exemplo, se quisermos extratir um vetor da penúltima coluna de uma tabela, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span> (<span class="sc">-</span><span class="dv">2</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 4 4 4 3 3 3 3 4 4 4 4 3 3 3 3 3 3 4 4 4 3 3 3 3 3 4 5 5 5 5 5 4</code></pre>
</div>
</div>
</section>
<section id="select" class="level4" data-number="4.5.1.2">
<h4 data-number="4.5.1.2" class="anchored" data-anchor-id="select"><span class="header-section-number">4.5.1.2</span> select</h4>
<p>Extrai valores de uma ou mais variáveis (colunas) e retorna uma nova tabela, por nome ou índice.</p>
<p>select(.data, …)</p>
<p>Por exemplo, podemos obter uma nova tabela contendo apenas as variáveis mpg e wt usando:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span> (mpg, wt) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"2.620","_rn_":"Mazda RX4"},{"1":"21.0","2":"2.875","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"2.320","_rn_":"Datsun 710"},{"1":"21.4","2":"3.215","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"3.440","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"3.460","_rn_":"Valiant"},{"1":"14.3","2":"3.570","_rn_":"Duster 360"},{"1":"24.4","2":"3.190","_rn_":"Merc 240D"},{"1":"22.8","2":"3.150","_rn_":"Merc 230"},{"1":"19.2","2":"3.440","_rn_":"Merc 280"},{"1":"17.8","2":"3.440","_rn_":"Merc 280C"},{"1":"16.4","2":"4.070","_rn_":"Merc 450SE"},{"1":"17.3","2":"3.730","_rn_":"Merc 450SL"},{"1":"15.2","2":"3.780","_rn_":"Merc 450SLC"},{"1":"10.4","2":"5.250","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"5.424","_rn_":"Lincoln Continental"},{"1":"14.7","2":"5.345","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"2.200","_rn_":"Fiat 128"},{"1":"30.4","2":"1.615","_rn_":"Honda Civic"},{"1":"33.9","2":"1.835","_rn_":"Toyota Corolla"},{"1":"21.5","2":"2.465","_rn_":"Toyota Corona"},{"1":"15.5","2":"3.520","_rn_":"Dodge Challenger"},{"1":"15.2","2":"3.435","_rn_":"AMC Javelin"},{"1":"13.3","2":"3.840","_rn_":"Camaro Z28"},{"1":"19.2","2":"3.845","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"1.935","_rn_":"Fiat X1-9"},{"1":"26.0","2":"2.140","_rn_":"Porsche 914-2"},{"1":"30.4","2":"1.513","_rn_":"Lotus Europa"},{"1":"15.8","2":"3.170","_rn_":"Ford Pantera L"},{"1":"19.7","2":"2.770","_rn_":"Ferrari Dino"},{"1":"15.0","2":"3.570","_rn_":"Maserati Bora"},{"1":"21.4","2":"2.780","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>A função select possui um série de opções que tornam a seleção das counas mais fáceis. A seguir temos algumas delas. Consulte a ajuda do select usando “?select” para obter a lista completa.</p>
<ul>
<li><p>: para selecionar um range consecutivo de colunas</p></li>
<li><p>! para pegar o complemento de uma conjunto de colunas</p></li>
<li><p>&amp; e | para selecionar a intersecção ou união (E OU) de um conjunto de colunas</p></li>
<li><p>c() para combinar seleções</p></li>
</ul>
<p>Além disso, possui também algumas funções que ajudam na seleção como:</p>
<ul>
<li>eveything(), last_col(), starts_with(), ends_with(), contains(), matches(), num_range()</li>
</ul>
<p>Por exemplo, se quisermos selecionar toda a base mtcars, exceto as colunas wt e mpg, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(mpg, wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"6","2":"160.0","3":"110","4":"3.90","5":"16.46","6":"0","7":"1","8":"4","9":"4","_rn_":"Mazda RX4"},{"1":"6","2":"160.0","3":"110","4":"3.90","5":"17.02","6":"0","7":"1","8":"4","9":"4","_rn_":"Mazda RX4 Wag"},{"1":"4","2":"108.0","3":"93","4":"3.85","5":"18.61","6":"1","7":"1","8":"4","9":"1","_rn_":"Datsun 710"},{"1":"6","2":"258.0","3":"110","4":"3.08","5":"19.44","6":"1","7":"0","8":"3","9":"1","_rn_":"Hornet 4 Drive"},{"1":"8","2":"360.0","3":"175","4":"3.15","5":"17.02","6":"0","7":"0","8":"3","9":"2","_rn_":"Hornet Sportabout"},{"1":"6","2":"225.0","3":"105","4":"2.76","5":"20.22","6":"1","7":"0","8":"3","9":"1","_rn_":"Valiant"},{"1":"8","2":"360.0","3":"245","4":"3.21","5":"15.84","6":"0","7":"0","8":"3","9":"4","_rn_":"Duster 360"},{"1":"4","2":"146.7","3":"62","4":"3.69","5":"20.00","6":"1","7":"0","8":"4","9":"2","_rn_":"Merc 240D"},{"1":"4","2":"140.8","3":"95","4":"3.92","5":"22.90","6":"1","7":"0","8":"4","9":"2","_rn_":"Merc 230"},{"1":"6","2":"167.6","3":"123","4":"3.92","5":"18.30","6":"1","7":"0","8":"4","9":"4","_rn_":"Merc 280"},{"1":"6","2":"167.6","3":"123","4":"3.92","5":"18.90","6":"1","7":"0","8":"4","9":"4","_rn_":"Merc 280C"},{"1":"8","2":"275.8","3":"180","4":"3.07","5":"17.40","6":"0","7":"0","8":"3","9":"3","_rn_":"Merc 450SE"},{"1":"8","2":"275.8","3":"180","4":"3.07","5":"17.60","6":"0","7":"0","8":"3","9":"3","_rn_":"Merc 450SL"},{"1":"8","2":"275.8","3":"180","4":"3.07","5":"18.00","6":"0","7":"0","8":"3","9":"3","_rn_":"Merc 450SLC"},{"1":"8","2":"472.0","3":"205","4":"2.93","5":"17.98","6":"0","7":"0","8":"3","9":"4","_rn_":"Cadillac Fleetwood"},{"1":"8","2":"460.0","3":"215","4":"3.00","5":"17.82","6":"0","7":"0","8":"3","9":"4","_rn_":"Lincoln Continental"},{"1":"8","2":"440.0","3":"230","4":"3.23","5":"17.42","6":"0","7":"0","8":"3","9":"4","_rn_":"Chrysler Imperial"},{"1":"4","2":"78.7","3":"66","4":"4.08","5":"19.47","6":"1","7":"1","8":"4","9":"1","_rn_":"Fiat 128"},{"1":"4","2":"75.7","3":"52","4":"4.93","5":"18.52","6":"1","7":"1","8":"4","9":"2","_rn_":"Honda Civic"},{"1":"4","2":"71.1","3":"65","4":"4.22","5":"19.90","6":"1","7":"1","8":"4","9":"1","_rn_":"Toyota Corolla"},{"1":"4","2":"120.1","3":"97","4":"3.70","5":"20.01","6":"1","7":"0","8":"3","9":"1","_rn_":"Toyota Corona"},{"1":"8","2":"318.0","3":"150","4":"2.76","5":"16.87","6":"0","7":"0","8":"3","9":"2","_rn_":"Dodge Challenger"},{"1":"8","2":"304.0","3":"150","4":"3.15","5":"17.30","6":"0","7":"0","8":"3","9":"2","_rn_":"AMC Javelin"},{"1":"8","2":"350.0","3":"245","4":"3.73","5":"15.41","6":"0","7":"0","8":"3","9":"4","_rn_":"Camaro Z28"},{"1":"8","2":"400.0","3":"175","4":"3.08","5":"17.05","6":"0","7":"0","8":"3","9":"2","_rn_":"Pontiac Firebird"},{"1":"4","2":"79.0","3":"66","4":"4.08","5":"18.90","6":"1","7":"1","8":"4","9":"1","_rn_":"Fiat X1-9"},{"1":"4","2":"120.3","3":"91","4":"4.43","5":"16.70","6":"0","7":"1","8":"5","9":"2","_rn_":"Porsche 914-2"},{"1":"4","2":"95.1","3":"113","4":"3.77","5":"16.90","6":"1","7":"1","8":"5","9":"2","_rn_":"Lotus Europa"},{"1":"8","2":"351.0","3":"264","4":"4.22","5":"14.50","6":"0","7":"1","8":"5","9":"4","_rn_":"Ford Pantera L"},{"1":"6","2":"145.0","3":"175","4":"3.62","5":"15.50","6":"0","7":"1","8":"5","9":"6","_rn_":"Ferrari Dino"},{"1":"8","2":"301.0","3":"335","4":"3.54","5":"14.60","6":"0","7":"1","8":"5","9":"8","_rn_":"Maserati Bora"},{"1":"4","2":"121.0","3":"109","4":"4.11","5":"18.60","6":"1","7":"1","8":"4","9":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Se quisermos selecionar apenas as 4 primeiras colunas e também a coluna wt, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span> ((<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">|</span> wt) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"2.620","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"2.875","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"2.320","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.215","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.440","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"3.460","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.570","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.190","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.150","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.440","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.440","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"4.070","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.730","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.780","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"5.250","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"5.424","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"5.345","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"2.200","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"1.615","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"1.835","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"2.465","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"3.520","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.435","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.840","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.845","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"1.935","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"2.140","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"1.513","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"3.170","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"2.770","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.570","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"2.780","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="relocate" class="level4" data-number="4.5.1.3">
<h4 data-number="4.5.1.3" class="anchored" data-anchor-id="relocate"><span class="header-section-number">4.5.1.3</span> relocate</h4>
<p>Move colunas para uma nova posição e retonar uma tabela com esta nova order de colunas.</p>
<p>relocate(.data, …, .before = NULL, .after = NULL)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span> (mpg, cyl, <span class="at">.after =</span> <span class="fu">last_col</span>()) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["disp"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["mpg"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"160.0","2":"110","3":"3.90","4":"2.620","5":"16.46","6":"0","7":"1","8":"4","9":"4","10":"21.0","11":"6","_rn_":"Mazda RX4"},{"1":"160.0","2":"110","3":"3.90","4":"2.875","5":"17.02","6":"0","7":"1","8":"4","9":"4","10":"21.0","11":"6","_rn_":"Mazda RX4 Wag"},{"1":"108.0","2":"93","3":"3.85","4":"2.320","5":"18.61","6":"1","7":"1","8":"4","9":"1","10":"22.8","11":"4","_rn_":"Datsun 710"},{"1":"258.0","2":"110","3":"3.08","4":"3.215","5":"19.44","6":"1","7":"0","8":"3","9":"1","10":"21.4","11":"6","_rn_":"Hornet 4 Drive"},{"1":"360.0","2":"175","3":"3.15","4":"3.440","5":"17.02","6":"0","7":"0","8":"3","9":"2","10":"18.7","11":"8","_rn_":"Hornet Sportabout"},{"1":"225.0","2":"105","3":"2.76","4":"3.460","5":"20.22","6":"1","7":"0","8":"3","9":"1","10":"18.1","11":"6","_rn_":"Valiant"},{"1":"360.0","2":"245","3":"3.21","4":"3.570","5":"15.84","6":"0","7":"0","8":"3","9":"4","10":"14.3","11":"8","_rn_":"Duster 360"},{"1":"146.7","2":"62","3":"3.69","4":"3.190","5":"20.00","6":"1","7":"0","8":"4","9":"2","10":"24.4","11":"4","_rn_":"Merc 240D"},{"1":"140.8","2":"95","3":"3.92","4":"3.150","5":"22.90","6":"1","7":"0","8":"4","9":"2","10":"22.8","11":"4","_rn_":"Merc 230"},{"1":"167.6","2":"123","3":"3.92","4":"3.440","5":"18.30","6":"1","7":"0","8":"4","9":"4","10":"19.2","11":"6","_rn_":"Merc 280"},{"1":"167.6","2":"123","3":"3.92","4":"3.440","5":"18.90","6":"1","7":"0","8":"4","9":"4","10":"17.8","11":"6","_rn_":"Merc 280C"},{"1":"275.8","2":"180","3":"3.07","4":"4.070","5":"17.40","6":"0","7":"0","8":"3","9":"3","10":"16.4","11":"8","_rn_":"Merc 450SE"},{"1":"275.8","2":"180","3":"3.07","4":"3.730","5":"17.60","6":"0","7":"0","8":"3","9":"3","10":"17.3","11":"8","_rn_":"Merc 450SL"},{"1":"275.8","2":"180","3":"3.07","4":"3.780","5":"18.00","6":"0","7":"0","8":"3","9":"3","10":"15.2","11":"8","_rn_":"Merc 450SLC"},{"1":"472.0","2":"205","3":"2.93","4":"5.250","5":"17.98","6":"0","7":"0","8":"3","9":"4","10":"10.4","11":"8","_rn_":"Cadillac Fleetwood"},{"1":"460.0","2":"215","3":"3.00","4":"5.424","5":"17.82","6":"0","7":"0","8":"3","9":"4","10":"10.4","11":"8","_rn_":"Lincoln Continental"},{"1":"440.0","2":"230","3":"3.23","4":"5.345","5":"17.42","6":"0","7":"0","8":"3","9":"4","10":"14.7","11":"8","_rn_":"Chrysler Imperial"},{"1":"78.7","2":"66","3":"4.08","4":"2.200","5":"19.47","6":"1","7":"1","8":"4","9":"1","10":"32.4","11":"4","_rn_":"Fiat 128"},{"1":"75.7","2":"52","3":"4.93","4":"1.615","5":"18.52","6":"1","7":"1","8":"4","9":"2","10":"30.4","11":"4","_rn_":"Honda Civic"},{"1":"71.1","2":"65","3":"4.22","4":"1.835","5":"19.90","6":"1","7":"1","8":"4","9":"1","10":"33.9","11":"4","_rn_":"Toyota Corolla"},{"1":"120.1","2":"97","3":"3.70","4":"2.465","5":"20.01","6":"1","7":"0","8":"3","9":"1","10":"21.5","11":"4","_rn_":"Toyota Corona"},{"1":"318.0","2":"150","3":"2.76","4":"3.520","5":"16.87","6":"0","7":"0","8":"3","9":"2","10":"15.5","11":"8","_rn_":"Dodge Challenger"},{"1":"304.0","2":"150","3":"3.15","4":"3.435","5":"17.30","6":"0","7":"0","8":"3","9":"2","10":"15.2","11":"8","_rn_":"AMC Javelin"},{"1":"350.0","2":"245","3":"3.73","4":"3.840","5":"15.41","6":"0","7":"0","8":"3","9":"4","10":"13.3","11":"8","_rn_":"Camaro Z28"},{"1":"400.0","2":"175","3":"3.08","4":"3.845","5":"17.05","6":"0","7":"0","8":"3","9":"2","10":"19.2","11":"8","_rn_":"Pontiac Firebird"},{"1":"79.0","2":"66","3":"4.08","4":"1.935","5":"18.90","6":"1","7":"1","8":"4","9":"1","10":"27.3","11":"4","_rn_":"Fiat X1-9"},{"1":"120.3","2":"91","3":"4.43","4":"2.140","5":"16.70","6":"0","7":"1","8":"5","9":"2","10":"26.0","11":"4","_rn_":"Porsche 914-2"},{"1":"95.1","2":"113","3":"3.77","4":"1.513","5":"16.90","6":"1","7":"1","8":"5","9":"2","10":"30.4","11":"4","_rn_":"Lotus Europa"},{"1":"351.0","2":"264","3":"4.22","4":"3.170","5":"14.50","6":"0","7":"1","8":"5","9":"4","10":"15.8","11":"8","_rn_":"Ford Pantera L"},{"1":"145.0","2":"175","3":"3.62","4":"2.770","5":"15.50","6":"0","7":"1","8":"5","9":"6","10":"19.7","11":"6","_rn_":"Ferrari Dino"},{"1":"301.0","2":"335","3":"3.54","4":"3.570","5":"14.60","6":"0","7":"1","8":"5","9":"8","10":"15.0","11":"8","_rn_":"Maserati Bora"},{"1":"121.0","2":"109","3":"4.11","4":"2.780","5":"18.60","6":"1","7":"1","8":"4","9":"2","10":"21.4","11":"4","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No exemplo acima, escolhermos mover as colunas mpg e cyl para depois (à direita) da última coluna (last_col()).</p>
</section>
</section>
<section id="manipular-várias-variáveis-de-uma-vez" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="manipular-várias-variáveis-de-uma-vez"><span class="header-section-number">4.5.2</span> Manipular Várias Variáveis de Uma Vez</h3>
<p>Em algumas situações, desejamos manipular várias variáveis (colunas) de uma só vez ou invés de cada coluna de cada vez. Para estes casos ,podemos usar as funções across e c_across.</p>
<section id="across" class="level4" data-number="4.5.2.1">
<h4 data-number="4.5.2.1" class="anchored" data-anchor-id="across"><span class="header-section-number">4.5.2.1</span> across</h4>
<p>Resume ou alterar múltiplas colunas da mesma maneira. across(.cols, .funs, …, .names = NULL)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), mean)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"20.09062","2":"6.1875","3":"230.7219","4":"146.6875","5":"3.596563","6":"3.21725","7":"17.84875","8":"0.4375","9":"0.40625","10":"3.6875","11":"2.8125"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No exemplo acima, varremos todas (everything) as colunas da tabela e resumimos aplicando a função de média (mean) nestas colunas.</p>
<p>No exemplo a seguir, iremos “varrer” as colunas 5 até 7 e arredondar seus valores com apenas um digito usando a função round().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="at">digits =</span> <span class="dv">1</span>) )) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.9","6":"2.6","7":"16.5","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.9","6":"2.9","7":"17.0","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.9","6":"2.3","7":"18.6","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.1","6":"3.2","7":"19.4","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.1","6":"3.4","7":"17.0","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.8","6":"3.5","7":"20.2","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.2","6":"3.6","7":"15.8","8":"0","9":"0","10":"3","11":"4","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.7","6":"3.2","7":"20.0","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.9","6":"3.1","7":"22.9","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.9","6":"3.4","7":"18.3","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.9","6":"3.4","7":"18.9","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.1","6":"4.1","7":"17.4","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.1","6":"3.7","7":"17.6","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.1","6":"3.8","7":"18.0","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.9","6":"5.2","7":"18.0","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.0","6":"5.4","7":"17.8","8":"0","9":"0","10":"3","11":"4","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.2","6":"5.3","7":"17.4","8":"0","9":"0","10":"3","11":"4","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.1","6":"2.2","7":"19.5","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.9","6":"1.6","7":"18.5","8":"1","9":"1","10":"4","11":"2","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.2","6":"1.8","7":"19.9","8":"1","9":"1","10":"4","11":"1","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.7","6":"2.5","7":"20.0","8":"1","9":"0","10":"3","11":"1","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.8","6":"3.5","7":"16.9","8":"0","9":"0","10":"3","11":"2","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.1","6":"3.4","7":"17.3","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.7","6":"3.8","7":"15.4","8":"0","9":"0","10":"3","11":"4","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.1","6":"3.8","7":"17.0","8":"0","9":"0","10":"3","11":"2","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.1","6":"1.9","7":"18.9","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.4","6":"2.1","7":"16.7","8":"0","9":"1","10":"5","11":"2","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.8","6":"1.5","7":"16.9","8":"1","9":"1","10":"5","11":"2","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.2","6":"3.2","7":"14.5","8":"0","9":"1","10":"5","11":"4","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.6","6":"2.8","7":"15.5","8":"0","9":"1","10":"5","11":"6","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.5","6":"3.6","7":"14.6","8":"0","9":"1","10":"5","11":"8","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.1","6":"2.8","7":"18.6","8":"1","9":"1","10":"4","11":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="c_across" class="level4" data-number="4.5.2.2">
<h4 data-number="4.5.2.2" class="anchored" data-anchor-id="c_across"><span class="header-section-number">4.5.2.2</span> c_across</h4>
<p>Computa através das colunas os dados linha a linha. Em geral, esta função é utilizado em conjunto com a função rowwise().</p>
<p>c_across(.cols)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span> (<span class="at">total =</span> <span class="fu">sum</span>(<span class="fu">c_across</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>)))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["total"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"116.520"},{"1":"116.775"},{"1":"99.170"},{"1":"116.295"},{"1":"181.590"},{"1":"111.220"},{"1":"251.780"},{"1":"68.880"},{"1":"102.070"},{"1":"130.360"},{"1":"130.360"},{"1":"187.140"},{"1":"186.800"},{"1":"186.850"},{"1":"213.180"},{"1":"223.424"},{"1":"238.575"},{"1":"72.280"},{"1":"58.545"},{"1":"71.055"},{"1":"103.165"},{"1":"156.280"},{"1":"156.585"},{"1":"252.570"},{"1":"181.925"},{"1":"72.015"},{"1":"97.570"},{"1":"118.283"},{"1":"271.390"},{"1":"181.390"},{"1":"342.110"},{"1":"115.890"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No exemplo acima, “varremos” linha a linha da tabela e depois fazemos a soma da coluna 4 até a coluna 6.</p>
</section>
</section>
<section id="criando-novas-variáveis" class="level3" data-number="4.5.3">
<h3 data-number="4.5.3" class="anchored" data-anchor-id="criando-novas-variáveis"><span class="header-section-number">4.5.3</span> Criando novas variáveis</h3>
<p>O dyplr possui a habilidade de criar novas variáveis (colunas) ou alterar variáveis já existentes. Estes comandos, aplicam funções que são de um tipo especial chamadas “funções vetorizadas. Elas recebem vetores como entradas e retornam vetores do mesmo tamanho como. Para maiores detalhes veja a seção <a href="#funções-vetorizadas">Funções Vetorizadas</a>.</p>
<section id="mutate" class="level4" data-number="4.5.3.1">
<h4 data-number="4.5.3.1" class="anchored" data-anchor-id="mutate"><span class="header-section-number">4.5.3.1</span> mutate</h4>
<p>Altera ou cria uma nova variável.</p>
<p>mutate(.data, …, .keep = “all”, .before = NULL, .after = NULL).</p>
<p>Por exemplo, se quisermos utilizar a variável <strong>mpg</strong> (milhas por galão) e criar uma nova variável chamada <strong>gpm</strong> (galões por milha), usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">gpm =</span> <span class="dv">1</span> <span class="sc">/</span> mpg) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["gpm"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"0.04761905","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"0.04761905","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"0.04385965","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"0.04672897","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"0.05347594","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"0.05524862","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"0.06993007","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"0.04098361","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"0.04385965","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"0.05208333","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"0.05617978","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"0.06097561","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"0.05780347","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"0.06578947","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"0.09615385","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"0.09615385","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"0.06802721","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"0.03086420","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"0.03289474","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"0.02949853","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"0.04651163","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"0.06451613","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"0.06578947","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"0.07518797","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"0.05208333","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"0.03663004","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"0.03846154","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"0.03289474","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"0.06329114","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"0.05076142","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"0.06666667","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"0.04672897","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Cuidado
</div>
</div>
<div class="callout-body-container callout-body">
<p>É importante observar que a função mutate() considera o agrupamento da tabela, caso houver. Em casos de funções de agregação e ranqueamento (ex. média, ranque, etc), os valores de mutate serão considerados a partir do agrupamento.</p>
</div>
</div>
<p>Por exemplo, para criar uma coluna que mostra a diferença entre o consumo do veículo e o consumo médio de todos os veículos, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">diferenca =</span> mpg <span class="sc">-</span> <span class="fu">mean</span>(mpg)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["diferenca"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"0.909375","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"0.909375","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"2.709375","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"1.309375","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"-1.390625","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"-1.990625","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"-5.790625","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"4.309375","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"2.709375","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"-0.890625","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"-2.290625","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"-3.690625","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"-2.790625","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"-4.890625","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"-9.690625","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"-9.690625","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"-5.390625","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"12.309375","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"10.309375","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"13.809375","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"1.409375","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"-4.590625","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"-4.890625","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"-6.790625","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"-0.890625","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"7.209375","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"5.909375","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"10.309375","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"-4.290625","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"-0.390625","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"-5.090625","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"1.309375","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Mas se quisermos saber a diferença de consumo com a média dos veículos que possuem o mesmo número de cilindros, podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">diferenca =</span> mpg <span class="sc">-</span> <span class="fu">mean</span>(mpg)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["diferenca"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"1.25714286"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"1.25714286"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"-3.86363636"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"1.65714286"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"3.60000000"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"-1.64285714"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"-0.80000000"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"-2.26363636"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"-3.86363636"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"-0.54285714"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"-1.94285714"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"1.30000000"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"2.20000000"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"0.10000000"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"-4.70000000"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"-4.70000000"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"-0.40000000"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"5.73636364"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"3.73636364"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"7.23636364"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"-5.16363636"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"0.40000000"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"0.10000000"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"-1.80000000"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"4.10000000"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"0.63636364"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"-0.66363636"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"3.73636364"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"0.70000000"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"-0.04285714"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"-0.10000000"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"-5.26363636"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>*Veja também add_column(), add_count(), e add_tally().</p>
</section>
<section id="transmutate" class="level4" data-number="4.5.3.2">
<h4 data-number="4.5.3.2" class="anchored" data-anchor-id="transmutate"><span class="header-section-number">4.5.3.2</span> transmutate</h4>
<p>A função <strong>transmutate</strong> funciona de forma similar a função <strong>mutate</strong>, porém ela cria/altera uma ou mais colunas e ignora todas as demais em suas saída.</p>
</section>
<section id="rename" class="level4" data-number="4.5.3.3">
<h4 data-number="4.5.3.3" class="anchored" data-anchor-id="rename"><span class="header-section-number">4.5.3.3</span> rename</h4>
<p>Renomeia variáveis (colunas).</p>
<p>Há também a função rename_with() para chamar uma função para renomear a coluna.</p>
<p>A função rename(.data, …)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span> (<span class="at">distancia =</span> dist) <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span> () </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["speed"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["distancia"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"2","_rn_":"1"},{"1":"4","2":"10","_rn_":"2"},{"1":"7","2":"4","_rn_":"3"},{"1":"7","2":"22","_rn_":"4"},{"1":"8","2":"16","_rn_":"5"},{"1":"9","2":"10","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="funções-vetorizadas" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="funções-vetorizadas"><span class="header-section-number">4.6</span> Funções Vetorizadas</h2>
<p>As funções <strong>mutate()</strong>&nbsp;e&nbsp;<strong>transmute()</strong>&nbsp;aplicam <strong>funções vetorizadas</strong> em colunas para criar novas colunas.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Funções vetorizadas, são chamadas também de funções de janela (<strong>window functions</strong>) e <strong>recebem</strong> <strong>vetores</strong> como argumento de entrada e <strong>retornar</strong> <strong>vetores</strong> de mesmo tamanho como saída.</p>
</div>
</div>
<p>A seguir temos algumas funções vetorizadas que auxiliam na manipulação de dados e, em geral, são utilizadas com mutate() ou filter().</p>
<section id="deslocamento" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="deslocamento"><span class="header-section-number">4.6.1</span> Deslocamento</h3>
<p>O dplyr possui funções para ajuste de deslocamento (offset). Estas funções são muito úteis para “encontrar” valores antes ou depois em relação aos valores atuais.</p>
<section id="lag" class="level4" data-number="4.6.1.1">
<h4 data-number="4.6.1.1" class="anchored" data-anchor-id="lag"><span class="header-section-number">4.6.1.1</span> lag</h4>
<p>Desloca elementos em <em>n</em> posições positivas. Usado para “encontrar o valor <strong>anterior</strong> em <em>n</em> posições”.</p>
<p>Supondo que precisarmos criar uma coluna contendo o consumo do veiculo que aparece na linha anterior da tabela, podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">mpg_anterior =</span> <span class="fu">lag</span>(mpg)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["mpg_anterior"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"NA","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"21.0","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"21.0","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"22.8","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"21.4","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"18.7","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"18.1","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"14.3","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"24.4","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"22.8","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"19.2","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"17.8","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"16.4","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"17.3","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"15.2","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"10.4","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"10.4","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"14.7","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"32.4","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"30.4","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"33.9","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"21.5","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"15.5","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"15.2","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"13.3","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"19.2","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"27.3","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"26.0","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"30.4","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"15.8","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"19.7","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"15.0","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Caso os dados não estejam ordenados,</p>
</section>
<section id="lead" class="level4" data-number="4.6.1.2">
<h4 data-number="4.6.1.2" class="anchored" data-anchor-id="lead"><span class="header-section-number">4.6.1.2</span> lead</h4>
<p>Desloca elementos em <em>n</em> posições negativas. Usado para “encontrar o valor <strong>posterior</strong> em <em>n</em> posições”.</p>
<p>Supondo que precisarmos criar uma coluna contendo o consumo do veiculo que aparece duas linhas posteriores da tabela, podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">duas_linhas_posteriores =</span> <span class="fu">lead</span>(mpg, <span class="at">n =</span> <span class="dv">2</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["duas_linhas_posteriores"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"22.8","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"21.4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"18.7","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"18.1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"14.3","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"24.4","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"22.8","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"19.2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"17.8","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"16.4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"17.3","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"15.2","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"10.4","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"10.4","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"14.7","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"32.4","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"30.4","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"33.9","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"21.5","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"15.5","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"15.2","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"13.3","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"19.2","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"27.3","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"26.0","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"30.4","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"15.8","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"19.7","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"15.0","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"21.4","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"NA","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"NA","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="agregação-acumulada" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="agregação-acumulada"><span class="header-section-number">4.6.2</span> Agregação Acumulada</h3>
<p>O dplyr possui funções de agregações acumuladas. São versões vetorizadas de all, any e mean, enquanto outras são de soma e produtos acumulados e extremos (min/max).</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>As funções cumall() e cumany() são muito úteis quando usadas com <strong>filter()</strong>, pois avaliam uma expressão retornando um <strong>vetor lógico</strong> a partir do valor avaliado pela expressão:</p>
</div>
</div>
<section id="cumall" class="level4" data-number="4.6.2.1">
<h4 data-number="4.6.2.1" class="anchored" data-anchor-id="cumall"><span class="header-section-number">4.6.2.1</span> cumall</h4>
<p>Retorna todas as observações (linhas) até que o primeiro caso da expressão a ser avaliada seja falso.</p>
<p>No exemplo a seguir, iremos retornar todos os veículos até que encontre um veículo onde sua potência (<strong>hp</strong>) seja maior ou igual à <strong>110</strong>. Quando encontrar esta linha, todas as demais à partir dela na tabela serão ignoradas, mesmo que atendam a expressão. Ou seja, mesmo que houver um veículo com potencia 110 na última linha, nexte exemplo ela será ignorada.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">cumall</span>(hp <span class="sc">&lt;=</span> <span class="dv">110</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Se quisermos ’varrer” a tabela até encontrarmos um veículo que tenha a potência (hp) menor que 90 e ignorar todas as linhas depois dela, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">cumall</span>(<span class="sc">!</span>hp <span class="sc">&lt;=</span> <span class="dv">90</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","_rn_":"Duster 360"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cumany" class="level4" data-number="4.6.2.2">
<h4 data-number="4.6.2.2" class="anchored" data-anchor-id="cumany"><span class="header-section-number">4.6.2.2</span> cumany</h4>
<p>Retorna todas as observações (linhas) após o primeiro caso da expressão a ser avaliada seja verdadeiro.</p>
<p>Por exemplo: Se quisermos “varrer” a tabela em busca do veículo com potência menor que 70 e obter esta e todas as demais linhas após, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="fu">cumany</span>(hp <span class="sc">&lt;</span><span class="dv">70</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cummean" class="level4" data-number="4.6.2.3">
<h4 data-number="4.6.2.3" class="anchored" data-anchor-id="cummean"><span class="header-section-number">4.6.2.3</span> cummean</h4>
<p>A função cummean() é similar a função cumall ou cumany, porém retorna um <strong>vetor numérico</strong> contento as médias do vetor de entrada.</p>
<p>Por exemplo, se quisermos criar uma coluna com o valor da média de potência conforme “varremos” a tabela, ou seja, conforme a potência de cada veículo é listada, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">media_acumulada =</span> <span class="fu">cummean</span>(hp)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["media_acumulada"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"110.0000","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"110.0000","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"104.3333","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"105.7500","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"119.6000","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"117.1667","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"135.4286","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"126.2500","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"122.7778","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"122.8000","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"122.8182","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"127.5833","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"131.6154","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"135.0714","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"139.7333","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"144.4375","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"149.4706","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"144.8333","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"139.9474","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"136.2000","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"134.3333","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"135.0455","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"135.6957","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"140.2500","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"141.6400","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"138.7308","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"136.9630","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"136.1071","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"140.5172","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"141.6667","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"147.9032","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"146.6875","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cummax" class="level4" data-number="4.6.2.4">
<h4 data-number="4.6.2.4" class="anchored" data-anchor-id="cummax"><span class="header-section-number">4.6.2.4</span> cummax</h4>
<p>Use para saber o valor máximo acumulado até aquela linha.</p>
<p>Por exemplo, se agruparmos os veículos de mtcars de acordo com a coluna de número de cilindros (cyl), podemos saber qual o maior valor acumulado da coluna potência (hp) por grupo de veículos conforme “varremos” a tabela:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">cummax =</span> <span class="fu">cummax</span>(hp)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["cummax"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"110"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"110"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"93"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"110"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"175"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"110"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"245"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"93"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"95"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"123"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"123"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"245"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"245"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"245"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"245"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"245"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"245"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"95"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"95"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"95"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"97"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"245"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"245"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"245"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"245"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"97"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"97"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"113"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"264"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"175"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"335"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"113"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cummin" class="level4" data-number="4.6.2.5">
<h4 data-number="4.6.2.5" class="anchored" data-anchor-id="cummin"><span class="header-section-number">4.6.2.5</span> cummin</h4>
<p>Use para saber o valor mínimo acumulado até aquela linha.</p>
<p>Por exemplo, se agruparmos os veículos de mtcars de acordo com a coluna de número de cilindros (cyl), podemos saber qual o menor valor acumulado da coluna potência (hp) por grupo de veículos conforme “varremos” a tabela:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">cummin =</span> <span class="fu">cummin</span> (hp)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["cummin"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"110"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"110"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"93"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"110"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"175"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"105"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"175"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"62"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"62"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"105"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"105"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"175"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"175"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"175"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"175"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"175"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"175"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"62"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"52"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"52"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"52"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"150"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"150"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"150"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"150"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"52"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"52"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"52"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"150"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"105"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"150"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"52"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cumprod" class="level4" data-number="4.6.2.6">
<h4 data-number="4.6.2.6" class="anchored" data-anchor-id="cumprod"><span class="header-section-number">4.6.2.6</span> cumprod</h4>
<p>Similar a cummin() ou cummax(). Use para saber o valor multiplicado acumulado até aquela linha.</p>
<p>Por exemplo, para acumularmos a multiplicação dos pesos (wt) de cada veículo até a linha, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">cumprod =</span> <span class="fu">cumprod</span> (wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["cumprod"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"2.620000e+00","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"7.532500e+00","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"1.747540e+01","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"5.618341e+01","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"1.932709e+02","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"6.687174e+02","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"2.387321e+03","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"7.615555e+03","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"2.398900e+04","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"8.252215e+04","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"2.838762e+05","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"1.155376e+06","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"4.309553e+06","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"1.629011e+07","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"8.552308e+07","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"4.638772e+08","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"2.479424e+09","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"5.454732e+09","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"8.809392e+09","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"1.616523e+10","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"3.984730e+10","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"1.402625e+11","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"4.818017e+11","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"1.850118e+12","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"7.113706e+12","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"1.376502e+13","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"2.945714e+13","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"4.456866e+13","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"1.412826e+14","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"3.913529e+14","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"1.397130e+15","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"3.884021e+15","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cumsum" class="level4" data-number="4.6.2.7">
<h4 data-number="4.6.2.7" class="anchored" data-anchor-id="cumsum"><span class="header-section-number">4.6.2.7</span> cumsum</h4>
<p>Similar a cummin() ou cummax(). Use para saber o valor da soma acumulada até aquela linha.</p>
<p>Por exemplo, para acumularmos a soma dos pesos (wt) de cada veículo até a linha, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">cumsum =</span> <span class="fu">cumsum</span>(wt))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["cumsum"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"2.620","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"5.495","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"7.815","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"11.030","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"14.470","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"17.930","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"21.500","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"24.690","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"27.840","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"31.280","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"34.720","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"38.790","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"42.520","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"46.300","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"51.550","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"56.974","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"62.319","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"64.519","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"66.134","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"67.969","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"70.434","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"73.954","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"77.389","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"81.229","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"85.074","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"87.009","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"89.149","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"90.662","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"93.832","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"96.602","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"100.172","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"102.952","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="ranqueamento" class="level3" data-number="4.6.3">
<h3 data-number="4.6.3" class="anchored" data-anchor-id="ranqueamento"><span class="header-section-number">4.6.3</span> Ranqueamento</h3>
<section id="row_number" class="level4" data-number="4.6.3.1">
<h4 data-number="4.6.3.1" class="anchored" data-anchor-id="row_number"><span class="header-section-number">4.6.3.1</span> row_number</h4>
<p>Use para adicionar o número da linha. Como as demais funções do dplyr, ela respeita os grupos da tabela quando houver.</p>
<p>Por exemplo, para enumerar as linhas dos veículos agrupados por número de cilindros, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">num_linha =</span> <span class="fu">row_number</span>())</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["num_linha"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"1"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"2"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"1"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"3"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"1"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"4"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"2"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"2"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"3"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"5"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"6"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"3"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"4"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"5"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"6"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"7"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"8"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"4"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"5"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"6"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"7"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"9"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"10"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"11"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"12"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"8"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"9"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"10"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"13"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"7"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"14"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"11"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="rank" class="level4" data-number="4.6.3.2">
<h4 data-number="4.6.3.2" class="anchored" data-anchor-id="rank"><span class="header-section-number">4.6.3.2</span> rank</h4>
<p>Use para criar um ranqueamento de uma variável.</p>
<p>Por exemplo, para fazer um ranqueamento dos veículos mais leves entre grupos de mesma cilindragem, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (cyl) <span class="sc">|&gt;</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">rank =</span> <span class="fu">rank</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["rank"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"1.0"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"3.0"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"7.0"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"4.0"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"3.0"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"7.0"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"5.5"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"11.0"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"10.0"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"5.5"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"5.5"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"11.0"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"7.0"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"8.0"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"12.0"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"14.0"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"13.0"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"6.0"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"2.0"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"3.0"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"8.0"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"4.0"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"2.0"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"9.0"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"10.0"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"4.0"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"5.0"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"1.0"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"1.0"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"2.0"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"5.5"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"9.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Observe que para veículos de 8 cilindros, a segunda e última linha possuem o mesmo peso e portanto tiveram o mesmo ranqueamento (5.5).</p>
</section>
<section id="dense_rank" class="level4" data-number="4.6.3.3">
<h4 data-number="4.6.3.3" class="anchored" data-anchor-id="dense_rank"><span class="header-section-number">4.6.3.3</span> dense_rank</h4>
<p>Use para ajustar o ranqueamento sem pular lacunas em casos de empate.</p>
<p>Vejo abaixo como ele se compara ao ranqueamento da função rank().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (cyl) <span class="sc">|&gt;</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">rank =</span> <span class="fu">rank</span>(wt), <span class="at">dense_rank =</span> <span class="fu">dense_rank</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["rank"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["dense_rank"],"name":[13],"type":["int"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"1.0","13":"1"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"3.0","13":"3"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"7.0","13":"7"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"4.0","13":"4"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"3.0","13":"3"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"7.0","13":"6"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"5.5","13":"5"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"11.0","13":"11"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"10.0","13":"10"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"5.5","13":"5"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"5.5","13":"5"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"11.0","13":"10"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"7.0","13":"6"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"8.0","13":"7"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"12.0","13":"11"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"14.0","13":"13"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"13.0","13":"12"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"6.0","13":"6"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"2.0","13":"2"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"3.0","13":"3"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"8.0","13":"8"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"4.0","13":"4"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"2.0","13":"2"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"9.0","13":"8"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"10.0","13":"9"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"4.0","13":"4"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"5.0","13":"5"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"1.0","13":"1"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"1.0","13":"1"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"2.0","13":"2"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"5.5","13":"5"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"9.0","13":"9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Observe que na segunda e última linha de 8 cilindros, empatam em 5.5 na função rank() e a posição 6 é pulada, sendo o próximo do ranqueamento o número 7. Já na função dense_rank(), o empate fica na posição 5 e o próximo na posição 6.</p>
</section>
<section id="percent_rank" class="level4" data-number="4.6.3.4">
<h4 data-number="4.6.3.4" class="anchored" data-anchor-id="percent_rank"><span class="header-section-number">4.6.3.4</span> percent_rank</h4>
<p>Use para retornar um número entre 0 e 1 (percentual) do ranqueamento mínimo.</p>
<p>Veja abaixo como ela se compara com as funções rank e dense_rank:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (cyl) <span class="sc">|&gt;</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">rank =</span> <span class="fu">rank</span>(wt), <span class="at">dense_rank =</span> <span class="fu">dense_rank</span>(wt), <span class="at">percent_rank =</span> <span class="fu">percent_rank</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["rank"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["dense_rank"],"name":[13],"type":["int"],"align":["right"]},{"label":["percent_rank"],"name":[14],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"1.0","13":"1","14":"0.00000000"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"3.0","13":"3","14":"0.33333333"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"7.0","13":"7","14":"0.60000000"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"4.0","13":"4","14":"0.50000000"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"3.0","13":"3","14":"0.15384615"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"7.0","13":"6","14":"1.00000000"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"5.5","13":"5","14":"0.30769231"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"11.0","13":"11","14":"1.00000000"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"10.0","13":"10","14":"0.90000000"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"5.5","13":"5","14":"0.66666667"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"5.5","13":"5","14":"0.66666667"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"11.0","13":"10","14":"0.76923077"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"7.0","13":"6","14":"0.46153846"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"8.0","13":"7","14":"0.53846154"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"12.0","13":"11","14":"0.84615385"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"14.0","13":"13","14":"1.00000000"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"13.0","13":"12","14":"0.92307692"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"6.0","13":"6","14":"0.50000000"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"2.0","13":"2","14":"0.10000000"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"3.0","13":"3","14":"0.20000000"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"8.0","13":"8","14":"0.70000000"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"4.0","13":"4","14":"0.23076923"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"2.0","13":"2","14":"0.07692308"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"9.0","13":"8","14":"0.61538462"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"10.0","13":"9","14":"0.69230769"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"4.0","13":"4","14":"0.30000000"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"5.0","13":"5","14":"0.40000000"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"1.0","13":"1","14":"0.00000000"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"1.0","13":"1","14":"0.00000000"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"2.0","13":"2","14":"0.16666667"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"5.5","13":"5","14":"0.30769231"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"9.0","13":"9","14":"0.80000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="cume_dist" class="level4" data-number="4.6.3.5">
<h4 data-number="4.6.3.5" class="anchored" data-anchor-id="cume_dist"><span class="header-section-number">4.6.3.5</span> cume_dist</h4>
<p>Use para saber a distribuição acumulada de acordo com o ranqueamento atribuído.</p>
<p>Por exemplo, se agruparmos por número de cilindros (cyl), criarmos uma coluna de ranqueamento (<strong>rank</strong>) e outra coluna com a distribuição, podemos saber como o ranqueamento acumulado está distribuído.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">rank =</span> <span class="fu">rank</span>(wt), <span class="at">cume_dist =</span> <span class="fu">cume_dist</span>(wt)) <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span> (cume_dist)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["rank"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["cume_dist"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"1.0","13":"0.07142857"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"1.0","13":"0.09090909"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"1.0","13":"0.14285714"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"2.0","13":"0.14285714"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"2.0","13":"0.18181818"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"3.0","13":"0.21428571"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"3.0","13":"0.27272727"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"4.0","13":"0.28571429"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"2.0","13":"0.28571429"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"4.0","13":"0.36363636"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"3.0","13":"0.42857143"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"5.5","13":"0.42857143"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"5.5","13":"0.42857143"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"5.0","13":"0.45454545"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"7.0","13":"0.50000000"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"6.0","13":"0.54545455"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"4.0","13":"0.57142857"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"8.0","13":"0.57142857"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"7.0","13":"0.63636364"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"9.0","13":"0.64285714"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"10.0","13":"0.71428571"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"8.0","13":"0.72727273"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"11.0","13":"0.78571429"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"9.0","13":"0.81818182"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"5.5","13":"0.85714286"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"5.5","13":"0.85714286"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"12.0","13":"0.85714286"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"10.0","13":"0.90909091"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"13.0","13":"0.92857143"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"7.0","13":"1.00000000"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"11.0","13":"1.00000000"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"14.0","13":"1.00000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="ntile" class="level4" data-number="4.6.3.6">
<h4 data-number="4.6.3.6" class="anchored" data-anchor-id="ntile"><span class="header-section-number">4.6.3.6</span> ntile</h4>
<p>Use para retornar um quantil (percentil, quartil, etc) de um vetor.</p>
<p>Por exemplo, para segregarmos os veículos em quartis (quatro partes) (0-0.25-.50-.75-1), podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">quartil =</span> <span class="fu">ntile</span>(wt, <span class="dv">4</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["quartil"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"2","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"2","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"2","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"3","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"3","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"3","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"2","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"3","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"3","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"4","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"4","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"4","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"4","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"4","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"4","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"1","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"1","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"1","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"1","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"3","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"3","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"4","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"4","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"1","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"1","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"1","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"2","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"2","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"3","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="matemática" class="level3" data-number="4.6.4">
<h3 data-number="4.6.4" class="anchored" data-anchor-id="matemática"><span class="header-section-number">4.6.4</span> Matemática</h3>
<section id="operações-e-logs" class="level4" data-number="4.6.4.1">
<h4 data-number="4.6.4.1" class="anchored" data-anchor-id="operações-e-logs"><span class="header-section-number">4.6.4.1</span> operações e logs:</h4>
<p>São símbolos para funções matemáticas mais comuns como:</p>
<p><strong>+, - , *, /, ^, %/%, %%</strong> - Usados para as oper. aritiméticas</p>
<p><strong>log(), log2(), log10()</strong> - Usados para logaritmos</p>
</section>
<section id="between" class="level4" data-number="4.6.4.2">
<h4 data-number="4.6.4.2" class="anchored" data-anchor-id="between"><span class="header-section-number">4.6.4.2</span> between</h4>
<p>Use para retornar os valores do vetor entre dois valores. É o equivalente a escrever: x &gt;= valor_esquerda &amp; x &lt;= valor_direita.</p>
<p>Por exemplo, se quisermos obter os veículos com o peso entre 3 a 4 mil libras, podemos usar a função <strong>between()</strong> juntamente com a função <strong>filter()</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="fu">between</span>(wt, <span class="dv">3</span>, <span class="dv">4</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","_rn_":"Pontiac Firebird"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","_rn_":"Ford Pantera L"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","_rn_":"Maserati Bora"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="near" class="level4" data-number="4.6.4.3">
<h4 data-number="4.6.4.3" class="anchored" data-anchor-id="near"><span class="header-section-number">4.6.4.3</span> near</h4>
<p>Use para verificar se dois vetores de ponto fultuante são iguais:</p>
<p>O exemplo abaixo, duplica a coluna de peso (wt –&gt; wt2) dos veículos e altera o primeiro valor de <strong>2.620</strong> para <strong>2.600</strong>, salvando em um novo data frame (<em>mtcars_novo</em>) que será usado em seguida;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>mtcars_novo <span class="ot">&lt;-</span> mtcars <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wt2 =</span> wt) <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">wt2 =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>, <span class="fl">2.600</span>, wt2))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se usarmos o igual ( == ) para validar ambas colunas, devido às diferenças nas casa decimais, teríamos <strong>FALSO</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>mtcars_novo<span class="sc">$</span>wt <span class="sc">==</span> mtcars_novo<span class="sc">$</span>wt2</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[13]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[25]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
</div>
<p>Se usarmos a função <strong>near</strong>, por esta ter um parâmetro de <strong>tolerância</strong> que iremos definiar como acima de 0.020 (0.021 por exemplo), teríamos <strong>VERDADEIRO</strong> para todos os items do vetor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">near</span> (mtcars_novo<span class="sc">$</span>wt, mtcars_novo<span class="sc">$</span>wt2, <span class="at">tol =</span> <span class="fl">0.021</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[31] TRUE TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="miscelânea" class="level3" data-number="4.6.5">
<h3 data-number="4.6.5" class="anchored" data-anchor-id="miscelânea"><span class="header-section-number">4.6.5</span> Miscelânea</h3>
<section id="if_else" class="level4" data-number="4.6.5.1">
<h4 data-number="4.6.5.1" class="anchored" data-anchor-id="if_else"><span class="header-section-number">4.6.5.1</span> if_else</h4>
<p>Use para fazer um “SE” (IF) vetorizado, ou seja, elemento por elemento.</p>
<p>Por exemplo, se quisermos saber quais veículos percorrem 1/4 de milha em menos de 20 segundos, podemos usar a coluna <strong>qsec</strong> com a função <strong>if_else</strong> para criar uma nova coluna marcando como “<strong>MAIX VELOZ</strong>” os veículos que percorrem com menos de 20 segundos e “<strong>MENOS VELOZ</strong>” os que não atendem a este critério:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">categoria_arranque =</span> </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">ifelse</span>(qsec <span class="sc">&lt;</span> <span class="dv">20</span>, <span class="st">"MAIS VELOZ"</span>, <span class="st">"MENOS VELOZ"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["categoria_arranque"],"name":[12],"type":["chr"],"align":["left"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"MAIS VELOZ","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"MENOS VELOZ","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"MENOS VELOZ","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"MENOS VELOZ","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"MAIS VELOZ","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"MAIS VELOZ","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"MAIS VELOZ","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"MAIS VELOZ","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"MENOS VELOZ","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"MAIS VELOZ","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"MAIS VELOZ","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"MAIS VELOZ","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"MAIS VELOZ","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"MAIS VELOZ","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"MAIS VELOZ","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="case_when" class="level4" data-number="4.6.5.2">
<h4 data-number="4.6.5.2" class="anchored" data-anchor-id="case_when"><span class="header-section-number">4.6.5.2</span> case_when</h4>
<p>Use quando quiser fazer um if_else com mais de dois casos, ou seja, ao invés de aninhá-los(nested if).</p>
<p>Usando o mesmo exemplo da função <a href="#if_else">if_else</a> , porém gostaríamos de criar um terceira classificação chamada de “SUPER VELOZ” para os veículos com tempo abaixo de 16 segundos, teríamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">categoria_arranque =</span> <span class="fu">case_when</span>(</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    qsec <span class="sc">&lt;</span> <span class="dv">17</span> <span class="sc">~</span> <span class="st">"SUPER VELOZ"</span>,</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    qsec <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"MAIS VELOZ"</span>, </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"MENOS VELOZ"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["categoria_arranque"],"name":[12],"type":["chr"],"align":["left"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"SUPER VELOZ","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"MAIS VELOZ","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"MENOS VELOZ","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"SUPER VELOZ","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"MENOS VELOZ","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"MENOS VELOZ","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"MAIS VELOZ","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"MAIS VELOZ","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"MAIS VELOZ","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"MAIS VELOZ","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"MAIS VELOZ","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"MENOS VELOZ","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"SUPER VELOZ","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"SUPER VELOZ","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"MAIS VELOZ","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"SUPER VELOZ","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"SUPER VELOZ","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"SUPER VELOZ","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"SUPER VELOZ","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"SUPER VELOZ","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"MAIS VELOZ","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>A função <strong>case_when</strong>, também permite que você utilize diferentes colunas, e operações lógicas também.</p>
<p>Por exemplo, se quisermos colocar a categoria “<strong>INVÁLIDO</strong>” para os veículos com 8 cilindros (cyl) <strong>OU</strong> consumo acima de 30 galões/milha (mpg), usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">categoria_arranque =</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">case_when</span>(</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>              cyl <span class="sc">==</span> <span class="dv">8</span> <span class="sc">|</span> mpg <span class="sc">&gt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"INVALIDO"</span>,</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>              qsec <span class="sc">&lt;</span> <span class="dv">17</span> <span class="sc">~</span> <span class="st">"SUPER VELOZ"</span>,</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>              qsec <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"MAIS VELOZ"</span>,</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"MENOS VELOZ"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["categoria_arranque"],"name":[12],"type":["chr"],"align":["left"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","12":"SUPER VELOZ","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","12":"MAIS VELOZ","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","12":"INVALIDO","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","12":"MENOS VELOZ","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","12":"INVALIDO","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","12":"MENOS VELOZ","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","12":"MENOS VELOZ","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","12":"MAIS VELOZ","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","12":"INVALIDO","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","12":"INVALIDO","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","12":"INVALIDO","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","12":"INVALIDO","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","12":"INVALIDO","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","12":"INVALIDO","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","12":"INVALIDO","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","12":"INVALIDO","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","12":"INVALIDO","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","12":"MENOS VELOZ","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","12":"INVALIDO","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","12":"INVALIDO","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","12":"INVALIDO","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","12":"INVALIDO","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","12":"MAIS VELOZ","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","12":"SUPER VELOZ","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","12":"INVALIDO","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","12":"INVALIDO","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","12":"SUPER VELOZ","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","12":"INVALIDO","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","12":"MAIS VELOZ","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="coalesce" class="level4" data-number="4.6.5.3">
<h4 data-number="4.6.5.3" class="anchored" data-anchor-id="coalesce"><span class="header-section-number">4.6.5.3</span> coalesce</h4>
<p>Use para sobrescrever os valores de NA em um vetor.</p>
<p>O exemplo abaixo, sobrescreve com zeros os valores faltantes (missing) do vetor x:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>))</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coalesce</span>(x, 0L)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 2 1 3 4 0 0 5</code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use <strong>na_if()</strong> para sobrescrever um valor específico com NA e <strong>tidyr::replace_na()</strong> para sobrescrever os NAs com um valor.</p>
</div>
</div>
</section>
<section id="na_if" class="level4" data-number="4.6.5.4">
<h4 data-number="4.6.5.4" class="anchored" data-anchor-id="na_if"><span class="header-section-number">4.6.5.4</span> na_if</h4>
<p>Use para sobrescrever um valor específico com NA.</p>
<p>Por exemplo, se quisermos colocar NAs na coluna de consumo (mpg) para os veículos com 8 cilindros (cyl), podemos usar a na_if() juntamente com a mutate():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mpg =</span> <span class="fu">na_if</span>(cyl, <span class="dv">8</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"6","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"6","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"4","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"6","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"NA","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"6","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"},{"1":"NA","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","_rn_":"Duster 360"},{"1":"4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"4","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 230"},{"1":"6","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"6","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"NA","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SE"},{"1":"NA","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"NA","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"NA","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"},{"1":"NA","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","_rn_":"Lincoln Continental"},{"1":"NA","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","_rn_":"Chrysler Imperial"},{"1":"4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat 128"},{"1":"4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","_rn_":"Honda Civic"},{"1":"4","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Toyota Corolla"},{"1":"4","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","_rn_":"Toyota Corona"},{"1":"NA","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","_rn_":"Dodge Challenger"},{"1":"NA","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin"},{"1":"NA","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","_rn_":"Camaro Z28"},{"1":"NA","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","_rn_":"Pontiac Firebird"},{"1":"4","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat X1-9"},{"1":"4","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","_rn_":"Porsche 914-2"},{"1":"4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","_rn_":"Lotus Europa"},{"1":"NA","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","_rn_":"Ford Pantera L"},{"1":"6","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","_rn_":"Ferrari Dino"},{"1":"NA","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","_rn_":"Maserati Bora"},{"1":"4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="pmax---max" class="level4" data-number="4.6.5.5">
<h4 data-number="4.6.5.5" class="anchored" data-anchor-id="pmax---max"><span class="header-section-number">4.6.5.5</span> pmax - max</h4>
<p>Use max() para retornar o <strong>máximo</strong> valor de um vetor ou pmax() para retornar o valor máximo entre elementos de vetores em paralelo.</p>
<p>Por exemplo, se tiver um vetor dois vetores (x e y) com 5 elementos cada, a função <strong>max()</strong> irá retornar o maior vetor contido no vetor escolhido:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">20</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(y)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
</div>
<p>Já se usarmos o pmax(), ele irá comparar cada elemento de x com seu respectivo elemento de y e retornar o máximo valor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">20</span>)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pmax</span>(x, y)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  2 10  4 20</code></pre>
</div>
</div>
</section>
<section id="pmin---min" class="level4" data-number="4.6.5.6">
<h4 data-number="4.6.5.6" class="anchored" data-anchor-id="pmin---min"><span class="header-section-number">4.6.5.6</span> pmin - min</h4>
<p>É idêntico às funções <a href="#pmax---max">pmax - max</a> (), porém ao invés de retornar o valor máximo ou o máximo do elemento em paralelo, estas funções retornam seus respectivos valores <strong>mínimos</strong>.</p>
</section>
</section>
</section>
<section id="funções-de-resumo" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="funções-de-resumo"><span class="header-section-number">4.7</span> Funções de Resumo</h2>
<p>summarise() aplica funções de resumo em colunas para criar uma nova tabela. Funções de resumo <strong>recebem</strong> vetores como entrada e <strong>retornam um valor único</strong> na saída.</p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Cuidado
</div>
</div>
<div class="callout-body-container callout-body">
<p>Estas funções retornam informações sobre o grupo ou variável corrente, portanto só funcionam dentro de um <strong>contexto</strong> específico como <strong>summarise()</strong> ou <strong>mutate()</strong>.</p>
</div>
</div>
<section id="contagem" class="level3" data-number="4.7.1">
<h3 data-number="4.7.1" class="anchored" data-anchor-id="contagem"><span class="header-section-number">4.7.1</span> Contagem</h3>
<section id="n" class="level4" data-number="4.7.1.1">
<h4 data-number="4.7.1.1" class="anchored" data-anchor-id="n"><span class="header-section-number">4.7.1.1</span> n</h4>
<p>Use para retornar o tamanhio do grupo corrente.</p>
<p>Por exemplo, para contar quantos veículos temos em cada grupo de cilindors, podemos usar a summarise() com o n() depois de agrupar pela coluna de cilindors (cyl).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(numero_veículos <span class="ot">=</span> <span class="fu">n</span>()) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["numero_veículos"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"4","2":"11"},{"1":"6","2":"7"},{"1":"8","2":"14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="section" class="level4" data-number="4.7.1.2">
<h4 data-number="4.7.1.2" class="anchored" data-anchor-id="section"><span class="header-section-number">4.7.1.2</span> </h4>
</section>
<section id="n_distinct" class="level4" data-number="4.7.1.3">
<h4 data-number="4.7.1.3" class="anchored" data-anchor-id="n_distinct"><span class="header-section-number">4.7.1.3</span> n_distinct</h4>
<p>Use para contar os valores unicos em um vetor.</p>
<p>Por exemplo, para saber <strong>QUANTAS</strong> categorias de cilindros temos na tabela mtcars, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">cat_cilindros =</span> <span class="fu">n_distinct</span>(cyl)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cat_cilindros"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Se quisessemos saber <strong>QUAIS</strong> categoris de cilindros temos, podemos fazer usando a <a href="#distinct">distinct</a>:</p>
<p>mtcars |&gt; unique (cyl) ### Posição</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(cyl) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"6","_rn_":"Mazda RX4"},{"1":"4","_rn_":"Datsun 710"},{"1":"8","_rn_":"Hornet Sportabout"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="sum" class="level4" data-number="4.7.1.4">
<h4 data-number="4.7.1.4" class="anchored" data-anchor-id="sum"><span class="header-section-number">4.7.1.4</span> sum</h4>
<p>Use para retornar a soma de todos os valores presentes em seu argumento.</p>
<p>Por exemplo, para sabermos a soma dos pesos (wt) dos veículos agrupados pelo número de cilindros (cyl), podemos usar a função sum, juntamente com o summarise() e group_by().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">soma_pesos =</span> <span class="fu">sum</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["soma_pesos"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"25.143"},{"1":"6","2":"21.820"},{"1":"8","2":"55.989"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Veja que se houver NA na variável (coluna), a função sum irá retornar NA. Para ignorar os NAs e fazer a soma, use o argumento na.rm = TRUE.</p>
</section>
</section>
<section id="posição" class="level3" data-number="4.7.2">
<h3 data-number="4.7.2" class="anchored" data-anchor-id="posição"><span class="header-section-number">4.7.2</span> Posição</h3>
<section id="mean" class="level4" data-number="4.7.2.1">
<h4 data-number="4.7.2.1" class="anchored" data-anchor-id="mean"><span class="header-section-number">4.7.2.1</span> mean</h4>
<p>Use para obter a média dos elementos do vetor. Por exemplo, se quisermos saber a média de peso de todos os veículos, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">media_peso =</span><span class="fu">mean</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["media_peso"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"3.21725"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="median" class="level4" data-number="4.7.2.2">
<h4 data-number="4.7.2.2" class="anchored" data-anchor-id="median"><span class="header-section-number">4.7.2.2</span> median</h4>
<p>Use para obter a <strong>mediana</strong> dos elementos de um vetor. è similar à função <a href="">mean</a>, porém retorna a mediana ou invés da média.</p>
</section>
</section>
<section id="ordem" class="level3" data-number="4.7.3">
<h3 data-number="4.7.3" class="anchored" data-anchor-id="ordem"><span class="header-section-number">4.7.3</span> Ordem</h3>
<section id="first" class="level4" data-number="4.7.3.1">
<h4 data-number="4.7.3.1" class="anchored" data-anchor-id="first"><span class="header-section-number">4.7.3.1</span> first</h4>
<p>Use para obter o <strong>primeiro</strong> elemento de um vetor.</p>
<p>Por exemplo, se quisermos obter o peso do primeiro veículo de cada grupo de cilindros, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">primeiro_veiculo_do_grupo =</span> <span class="fu">first</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["primeiro_veiculo_do_grupo"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"2.32"},{"1":"6","2":"2.62"},{"1":"8","2":"3.44"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Usando o parametro order_by = , podemos passar um vetor para determinar uma ordem.</p>
</div>
</div>
<p>Por exemplo, se criarmos um agrupamento pelo numero de cilindros e criarmos um ranqueamento pelo consumo do veículo, podemos obter o peso do veículo de menor consumo usando:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">rank_peso =</span> <span class="fu">rank</span>(mpg)) <span class="sc">|&gt;</span> </span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">primeiro_veiculo_ordenado_pelo_cosumo =</span> </span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">first</span>(wt, <span class="at">order_by =</span> rank_peso)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["primeiro_veiculo_ordenado_pelo_cosumo"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"2.78"},{"1":"6","2":"3.44"},{"1":"8","2":"5.25"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="last" class="level4" data-number="4.7.3.2">
<h4 data-number="4.7.3.2" class="anchored" data-anchor-id="last"><span class="header-section-number">4.7.3.2</span> last</h4>
<p>Use para obter o <strong>último</strong> elemento. É similar a função <a href="">first</a>, porém ao invés de retornar o primeiro elemento, irá retornar o último.</p>
</section>
<section id="nth" class="level4" data-number="4.7.3.3">
<h4 data-number="4.7.3.3" class="anchored" data-anchor-id="nth"><span class="header-section-number">4.7.3.3</span> nth</h4>
<p>Use para obter o <strong>n-ésimo</strong> elemento. É similar a função <a href="">first</a>, porém ao invés de retornar o primeiro elemento, irá retornar o n-ésimo elemento.</p>
<p>Por exemplo, se quisermos obter o peso do <strong>segundo</strong> veículo de cada grupo de cilindros, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">segundo_veiculo_do_grupo =</span> <span class="fu">nth</span>(wt,<span class="dv">2</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["segundo_veiculo_do_grupo"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"3.190"},{"1":"6","2":"2.875"},{"1":"8","2":"3.570"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Use valor negativo para contar a partir do último elemento.</p>
<p>Por exemplo, se quisermos obter o peso do <strong>penúltimo</strong> veículo de cada grupo de cilindros, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">penultimo_veiculo_do_grupo =</span> <span class="fu">nth</span>(wt,<span class="sc">-</span><span class="dv">2</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["penultimo_veiculo_do_grupo"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"1.513"},{"1":"6","2":"3.440"},{"1":"8","2":"3.170"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="ranqueamento-1" class="level3" data-number="4.7.4">
<h3 data-number="4.7.4" class="anchored" data-anchor-id="ranqueamento-1"><span class="header-section-number">4.7.4</span> Ranqueamento</h3>
<section id="quantile" class="level4" data-number="4.7.4.1">
<h4 data-number="4.7.4.1" class="anchored" data-anchor-id="quantile"><span class="header-section-number">4.7.4.1</span> quantile</h4>
<p>Use para obter os quantils de um vetor. Por padrão retorna os quartis (0, 0.25, .5, .75 e 1) de um vetor.</p>
<p>Por exemplo, se quisermos saber os quartis dos pesos dos grupos de cilindors dos veículos, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">q =</span> <span class="fu">quantile</span>(mpg)) <span class="sc">|&gt;</span> </span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["q"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"21.40"},{"1":"4","2":"22.80"},{"1":"4","2":"26.00"},{"1":"4","2":"30.40"},{"1":"4","2":"33.90"},{"1":"6","2":"17.80"},{"1":"6","2":"18.65"},{"1":"6","2":"19.70"},{"1":"6","2":"21.00"},{"1":"6","2":"21.40"},{"1":"8","2":"10.40"},{"1":"8","2":"14.40"},{"1":"8","2":"15.20"},{"1":"8","2":"16.25"},{"1":"8","2":"19.20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Usando o parâmeto probs = , podemos definir quanquer quantil.</p>
<p>Por exemplo, se quisermos obter apenas o segundo (média) quartil e o último (valor máximo) do cosumo de grupo de cilindors dos veículos, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">q =</span> <span class="fu">quantile</span>(mpg, <span class="at">probs =</span> <span class="fu">c</span>(.<span class="dv">5</span>, <span class="dv">1</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["q"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"26.0"},{"1":"4","2":"33.9"},{"1":"6","2":"19.7"},{"1":"6","2":"21.4"},{"1":"8","2":"15.2"},{"1":"8","2":"19.2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="min" class="level4" data-number="4.7.4.2">
<h4 data-number="4.7.4.2" class="anchored" data-anchor-id="min"><span class="header-section-number">4.7.4.2</span> min</h4>
<p>Use para obter o valor <strong>mínimo</strong>. Similar a <a href="x,%20probs%20=%20**0**">quantile</a>.</p>
</section>
<section id="max" class="level4" data-number="4.7.4.3">
<h4 data-number="4.7.4.3" class="anchored" data-anchor-id="max"><span class="header-section-number">4.7.4.3</span> max</h4>
<p>Use para obter o valor <strong>máximo</strong>. Similar a <a href="x,%20probs%20=%20**1**">quantile</a>.</p>
</section>
</section>
<section id="dispersão" class="level3" data-number="4.7.5">
<h3 data-number="4.7.5" class="anchored" data-anchor-id="dispersão"><span class="header-section-number">4.7.5</span> Dispersão</h3>
<p>O dyplr possuem algumas funções para avaliar o espalhamento dos dados (dispersão) em torno da média central. Estas funções vem do campo da estatística.</p>
<section id="var" class="level4" data-number="4.7.5.1">
<h4 data-number="4.7.5.1" class="anchored" data-anchor-id="var"><span class="header-section-number">4.7.5.1</span> var</h4>
<p>Use para calcular a variância dos dados.</p>
<p>Por exemplo, par calcular a <strong>variância</strong> total dos pesos (wt) dos veículos de tabela mtcars agrupada pelo número de cilindros (cyl), podemos usa-la junto com a função summarise:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">varianca =</span> <span class="fu">var</span>(wt))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["varianca"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"0.3244028"},{"1":"6","2":"0.1269821"},{"1":"8","2":"0.5766956"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No exemplo acima, observamos que os veículos com 6cilindros possuem seus pesos mais próximos da média que os veículos com 4 ou 8 cilindros.</p>
</section>
<section id="sd" class="level4" data-number="4.7.5.2">
<h4 data-number="4.7.5.2" class="anchored" data-anchor-id="sd"><span class="header-section-number">4.7.5.2</span> sd</h4>
<p>Use para calcular o <strong>desvio padrão</strong>. É similar a função <a href="#var">var</a>, porém retorna o desvio padrão ao invés da variância.</p>
<p>Usando o mesmo exemplo da função var, o código ficaria:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">desvio_padrao =</span> <span class="fu">sd</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["desvio_padrao"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"0.5695637"},{"1":"6","2":"0.3563455"},{"1":"8","2":"0.7594047"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="iqr" class="level4" data-number="4.7.5.3">
<h4 data-number="4.7.5.3" class="anchored" data-anchor-id="iqr"><span class="header-section-number">4.7.5.3</span> IQR</h4>
<p>Use para calcular a <strong>distância inter-quartil</strong>. É similar a função <a href="#var">var</a>, porém retorna o range entre os quartis ao invés da variância.</p>
<p>Usando o mesmo exemplo da função var, o código ficaria:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">distancia_interquartil =</span> <span class="fu">IQR</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["distancia_interquartil"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"0.73750"},{"1":"6","2":"0.61750"},{"1":"8","2":"0.48125"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="mad" class="level4" data-number="4.7.5.4">
<h4 data-number="4.7.5.4" class="anchored" data-anchor-id="mad"><span class="header-section-number">4.7.5.4</span> mad</h4>
<p>Use para calcular a <strong>desvio absoluto da mediana</strong>. É similar a função <a href="#var">var</a>, porém o desvio absoluto da mediana ao invés da variância.</p>
<p>Usando o mesmo exemplo da função var, o código ficaria:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">|&gt;</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Desv_absolto_mediana =</span> <span class="fu">mad</span>(wt)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cyl"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Desv_absolto_mediana"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"0.541149"},{"1":"6","2":"0.363237"},{"1":"8","2":"0.407715"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="combinando-tabelas" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="combinando-tabelas"><span class="header-section-number">4.8</span> Combinando Tabelas</h2>
<section id="juntando-variáveis" class="level3" data-number="4.8.1">
<h3 data-number="4.8.1" class="anchored" data-anchor-id="juntando-variáveis"><span class="header-section-number">4.8.1</span> Juntando Variáveis</h3>
<p>Quando você tem uma ou mais variáveis de um dataframe com o <strong>mesmo número de observações</strong> de outra(s) variável(eis), você pode uní-las diretamente atraveś da função <strong>bind_cols</strong>(), porém se o <strong>número de observações forem diferentes</strong>, é necessário utilizar funções de união transformadoras (mutating joins). Ver a seção <a href="#relacionando-dados">Relacionando Dados</a> para maiores detalhes sobre as uniões transformadoras.</p>
<section id="bind_cols" class="level4" data-number="4.8.1.1">
<h4 data-number="4.8.1.1" class="anchored" data-anchor-id="bind_cols"><span class="header-section-number">4.8.1.1</span> bind_cols</h4>
<p>Use para unir variáveis de mesmo número de observações.</p>
<p>Por exemplo, no pacotes datasets, temos um dataframe (tabela), chamado <strong>state.names,</strong> que possui o nomes de todos os estados dos EUA. Há também o <strong>state.abb</strong>, que possui uma lista das abreviações dos estados americanos. Se quiser unir ambas variáveis, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_cols</span>(state.abb, state.name) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["...1"],"name":[1],"type":["chr"],"align":["left"]},{"label":["...2"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"AL","2":"Alabama"},{"1":"AK","2":"Alaska"},{"1":"AZ","2":"Arizona"},{"1":"AR","2":"Arkansas"},{"1":"CA","2":"California"},{"1":"CO","2":"Colorado"},{"1":"CT","2":"Connecticut"},{"1":"DE","2":"Delaware"},{"1":"FL","2":"Florida"},{"1":"GA","2":"Georgia"},{"1":"HI","2":"Hawaii"},{"1":"ID","2":"Idaho"},{"1":"IL","2":"Illinois"},{"1":"IN","2":"Indiana"},{"1":"IA","2":"Iowa"},{"1":"KS","2":"Kansas"},{"1":"KY","2":"Kentucky"},{"1":"LA","2":"Louisiana"},{"1":"ME","2":"Maine"},{"1":"MD","2":"Maryland"},{"1":"MA","2":"Massachusetts"},{"1":"MI","2":"Michigan"},{"1":"MN","2":"Minnesota"},{"1":"MS","2":"Mississippi"},{"1":"MO","2":"Missouri"},{"1":"MT","2":"Montana"},{"1":"NE","2":"Nebraska"},{"1":"NV","2":"Nevada"},{"1":"NH","2":"New Hampshire"},{"1":"NJ","2":"New Jersey"},{"1":"NM","2":"New Mexico"},{"1":"NY","2":"New York"},{"1":"NC","2":"North Carolina"},{"1":"ND","2":"North Dakota"},{"1":"OH","2":"Ohio"},{"1":"OK","2":"Oklahoma"},{"1":"OR","2":"Oregon"},{"1":"PA","2":"Pennsylvania"},{"1":"RI","2":"Rhode Island"},{"1":"SC","2":"South Carolina"},{"1":"SD","2":"South Dakota"},{"1":"TN","2":"Tennessee"},{"1":"TX","2":"Texas"},{"1":"UT","2":"Utah"},{"1":"VT","2":"Vermont"},{"1":"VA","2":"Virginia"},{"1":"WA","2":"Washington"},{"1":"WV","2":"West Virginia"},{"1":"WI","2":"Wisconsin"},{"1":"WY","2":"Wyoming"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="relacionando-dados" class="level3" data-number="4.8.2">
<h3 data-number="4.8.2" class="anchored" data-anchor-id="relacionando-dados"><span class="header-section-number">4.8.2</span> Relacionando Dados</h3>
<p>Quando temos <strong>dois dataframes</strong> (tabelas) e queremos adicionar colunas de um à outro, usamos funções chamadas de <strong>uniões transformadoras</strong> (“mutating joins”). Estas funções transformam um tabela, adicionando coluna(s) de outra tabela de acordo com as linhas baseado em chaves (“keys”) definidas ao usar a função.</p>
<p><strong>Preprarando as tabelas de Exemplo:</strong></p>
<p>Para os exemplos a seguir, utilizaremos o dataframe <strong>state.x77</strong>, que possui 8 variáveis dos estados americanos com expectativa de vida, renda per capita, população, etc. Chamaremos esta tabela de <strong>X</strong>.</p>
<p>Chamaremos de <strong>Y,</strong> uma tabela states.abb e state.name, que possui as abreviações e nomes dos estados americanos respectivamente. Iremos unir estas variáveis com a função bind_cols, já que elas possuem o mesmo número de observações.</p>
<p>Porém para exemplificar casos onde a tabela Y, não possui extamente o mesmo número de observações da tabela X, iremos excluir as abreviações que começam com as letras C, M, I e V. Com isto, nossa table <strong>Y</strong> final, irá contar apenas <strong>37</strong> observações, enquanto a tabela <strong>X</strong> irá conter todos os <strong>50</strong> estados americados.</p>
<p>Observe que ambas as tabelas (X e Y) contém ao menos uma coluna em comum (coluna “Estado”). Esta coluna será utilizada como chave (key) para fazermos as uniões.</p>
<p>Para criar as tabelas X e Y, usaremos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> state.x77 <span class="sc">|&gt;</span> </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(state.name) <span class="sc">|&gt;</span> </span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Estado"</span> <span class="ot">=</span> <span class="st">"...9"</span>)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>X</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Population"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Income"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Illiteracy"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Life Exp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Murder"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["HS Grad"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Frost"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Area"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Estado"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"3615","2":"3624","3":"2.1","4":"69.05","5":"15.1","6":"41.3","7":"20","8":"50708","9":"Alabama"},{"1":"365","2":"6315","3":"1.5","4":"69.31","5":"11.3","6":"66.7","7":"152","8":"566432","9":"Alaska"},{"1":"2212","2":"4530","3":"1.8","4":"70.55","5":"7.8","6":"58.1","7":"15","8":"113417","9":"Arizona"},{"1":"2110","2":"3378","3":"1.9","4":"70.66","5":"10.1","6":"39.9","7":"65","8":"51945","9":"Arkansas"},{"1":"21198","2":"5114","3":"1.1","4":"71.71","5":"10.3","6":"62.6","7":"20","8":"156361","9":"California"},{"1":"2541","2":"4884","3":"0.7","4":"72.06","5":"6.8","6":"63.9","7":"166","8":"103766","9":"Colorado"},{"1":"3100","2":"5348","3":"1.1","4":"72.48","5":"3.1","6":"56.0","7":"139","8":"4862","9":"Connecticut"},{"1":"579","2":"4809","3":"0.9","4":"70.06","5":"6.2","6":"54.6","7":"103","8":"1982","9":"Delaware"},{"1":"8277","2":"4815","3":"1.3","4":"70.66","5":"10.7","6":"52.6","7":"11","8":"54090","9":"Florida"},{"1":"4931","2":"4091","3":"2.0","4":"68.54","5":"13.9","6":"40.6","7":"60","8":"58073","9":"Georgia"},{"1":"868","2":"4963","3":"1.9","4":"73.60","5":"6.2","6":"61.9","7":"0","8":"6425","9":"Hawaii"},{"1":"813","2":"4119","3":"0.6","4":"71.87","5":"5.3","6":"59.5","7":"126","8":"82677","9":"Idaho"},{"1":"11197","2":"5107","3":"0.9","4":"70.14","5":"10.3","6":"52.6","7":"127","8":"55748","9":"Illinois"},{"1":"5313","2":"4458","3":"0.7","4":"70.88","5":"7.1","6":"52.9","7":"122","8":"36097","9":"Indiana"},{"1":"2861","2":"4628","3":"0.5","4":"72.56","5":"2.3","6":"59.0","7":"140","8":"55941","9":"Iowa"},{"1":"2280","2":"4669","3":"0.6","4":"72.58","5":"4.5","6":"59.9","7":"114","8":"81787","9":"Kansas"},{"1":"3387","2":"3712","3":"1.6","4":"70.10","5":"10.6","6":"38.5","7":"95","8":"39650","9":"Kentucky"},{"1":"3806","2":"3545","3":"2.8","4":"68.76","5":"13.2","6":"42.2","7":"12","8":"44930","9":"Louisiana"},{"1":"1058","2":"3694","3":"0.7","4":"70.39","5":"2.7","6":"54.7","7":"161","8":"30920","9":"Maine"},{"1":"4122","2":"5299","3":"0.9","4":"70.22","5":"8.5","6":"52.3","7":"101","8":"9891","9":"Maryland"},{"1":"5814","2":"4755","3":"1.1","4":"71.83","5":"3.3","6":"58.5","7":"103","8":"7826","9":"Massachusetts"},{"1":"9111","2":"4751","3":"0.9","4":"70.63","5":"11.1","6":"52.8","7":"125","8":"56817","9":"Michigan"},{"1":"3921","2":"4675","3":"0.6","4":"72.96","5":"2.3","6":"57.6","7":"160","8":"79289","9":"Minnesota"},{"1":"2341","2":"3098","3":"2.4","4":"68.09","5":"12.5","6":"41.0","7":"50","8":"47296","9":"Mississippi"},{"1":"4767","2":"4254","3":"0.8","4":"70.69","5":"9.3","6":"48.8","7":"108","8":"68995","9":"Missouri"},{"1":"746","2":"4347","3":"0.6","4":"70.56","5":"5.0","6":"59.2","7":"155","8":"145587","9":"Montana"},{"1":"1544","2":"4508","3":"0.6","4":"72.60","5":"2.9","6":"59.3","7":"139","8":"76483","9":"Nebraska"},{"1":"590","2":"5149","3":"0.5","4":"69.03","5":"11.5","6":"65.2","7":"188","8":"109889","9":"Nevada"},{"1":"812","2":"4281","3":"0.7","4":"71.23","5":"3.3","6":"57.6","7":"174","8":"9027","9":"New Hampshire"},{"1":"7333","2":"5237","3":"1.1","4":"70.93","5":"5.2","6":"52.5","7":"115","8":"7521","9":"New Jersey"},{"1":"1144","2":"3601","3":"2.2","4":"70.32","5":"9.7","6":"55.2","7":"120","8":"121412","9":"New Mexico"},{"1":"18076","2":"4903","3":"1.4","4":"70.55","5":"10.9","6":"52.7","7":"82","8":"47831","9":"New York"},{"1":"5441","2":"3875","3":"1.8","4":"69.21","5":"11.1","6":"38.5","7":"80","8":"48798","9":"North Carolina"},{"1":"637","2":"5087","3":"0.8","4":"72.78","5":"1.4","6":"50.3","7":"186","8":"69273","9":"North Dakota"},{"1":"10735","2":"4561","3":"0.8","4":"70.82","5":"7.4","6":"53.2","7":"124","8":"40975","9":"Ohio"},{"1":"2715","2":"3983","3":"1.1","4":"71.42","5":"6.4","6":"51.6","7":"82","8":"68782","9":"Oklahoma"},{"1":"2284","2":"4660","3":"0.6","4":"72.13","5":"4.2","6":"60.0","7":"44","8":"96184","9":"Oregon"},{"1":"11860","2":"4449","3":"1.0","4":"70.43","5":"6.1","6":"50.2","7":"126","8":"44966","9":"Pennsylvania"},{"1":"931","2":"4558","3":"1.3","4":"71.90","5":"2.4","6":"46.4","7":"127","8":"1049","9":"Rhode Island"},{"1":"2816","2":"3635","3":"2.3","4":"67.96","5":"11.6","6":"37.8","7":"65","8":"30225","9":"South Carolina"},{"1":"681","2":"4167","3":"0.5","4":"72.08","5":"1.7","6":"53.3","7":"172","8":"75955","9":"South Dakota"},{"1":"4173","2":"3821","3":"1.7","4":"70.11","5":"11.0","6":"41.8","7":"70","8":"41328","9":"Tennessee"},{"1":"12237","2":"4188","3":"2.2","4":"70.90","5":"12.2","6":"47.4","7":"35","8":"262134","9":"Texas"},{"1":"1203","2":"4022","3":"0.6","4":"72.90","5":"4.5","6":"67.3","7":"137","8":"82096","9":"Utah"},{"1":"472","2":"3907","3":"0.6","4":"71.64","5":"5.5","6":"57.1","7":"168","8":"9267","9":"Vermont"},{"1":"4981","2":"4701","3":"1.4","4":"70.08","5":"9.5","6":"47.8","7":"85","8":"39780","9":"Virginia"},{"1":"3559","2":"4864","3":"0.6","4":"71.72","5":"4.3","6":"63.5","7":"32","8":"66570","9":"Washington"},{"1":"1799","2":"3617","3":"1.4","4":"69.48","5":"6.7","6":"41.6","7":"100","8":"24070","9":"West Virginia"},{"1":"4589","2":"4468","3":"0.7","4":"72.48","5":"3.0","6":"54.5","7":"149","8":"54464","9":"Wisconsin"},{"1":"376","2":"4566","3":"0.6","4":"70.29","5":"6.9","6":"62.9","7":"173","8":"97203","9":"Wyoming"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(state.abb, state.name) <span class="sc">|&gt;</span> </span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Abreviacao"</span> <span class="ot">=</span> <span class="st">"...1"</span>, <span class="st">"Estado"</span> <span class="ot">=</span> <span class="st">"...2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(Abreviacao, <span class="st">"^[CMIV]"</span>))  </span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>Y</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"AL","2":"Alabama"},{"1":"AK","2":"Alaska"},{"1":"AZ","2":"Arizona"},{"1":"AR","2":"Arkansas"},{"1":"DE","2":"Delaware"},{"1":"FL","2":"Florida"},{"1":"GA","2":"Georgia"},{"1":"HI","2":"Hawaii"},{"1":"KS","2":"Kansas"},{"1":"KY","2":"Kentucky"},{"1":"LA","2":"Louisiana"},{"1":"NE","2":"Nebraska"},{"1":"NV","2":"Nevada"},{"1":"NH","2":"New Hampshire"},{"1":"NJ","2":"New Jersey"},{"1":"NM","2":"New Mexico"},{"1":"NY","2":"New York"},{"1":"NC","2":"North Carolina"},{"1":"ND","2":"North Dakota"},{"1":"OH","2":"Ohio"},{"1":"OK","2":"Oklahoma"},{"1":"OR","2":"Oregon"},{"1":"PA","2":"Pennsylvania"},{"1":"RI","2":"Rhode Island"},{"1":"SC","2":"South Carolina"},{"1":"SD","2":"South Dakota"},{"1":"TN","2":"Tennessee"},{"1":"TX","2":"Texas"},{"1":"UT","2":"Utah"},{"1":"WA","2":"Washington"},{"1":"WV","2":"West Virginia"},{"1":"WI","2":"Wisconsin"},{"1":"WY","2":"Wyoming"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<section id="left_join" class="level4" data-number="4.8.2.1">
<h4 data-number="4.8.2.1" class="anchored" data-anchor-id="left_join"><span class="header-section-number">4.8.2.1</span> left_join</h4>
<p>Use para unir valores iguais de X em Y.</p>
<p>Por exemplo, usando as tabelas <strong>X</strong> e <strong>Y</strong> preparadas no início da seção <a href="#relacionando-dados">Relacionando Dados</a>, podemos unir a variável população (population) que está na tabela X na tabela Y.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Importante
</div>
</div>
<div class="callout-body-container callout-body">
<p>A coluna que será usada como chave (key) na união e as variáveis que você quer unir devem ser selecionadas (função <strong>select</strong>()). Se não houver uma seleção explícita, todas as colunas da tabela X serão unídas.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(Y, <span class="fu">select</span>(X, Estado, Population)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Population"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"AL","2":"Alabama","3":"3615"},{"1":"AK","2":"Alaska","3":"365"},{"1":"AZ","2":"Arizona","3":"2212"},{"1":"AR","2":"Arkansas","3":"2110"},{"1":"DE","2":"Delaware","3":"579"},{"1":"FL","2":"Florida","3":"8277"},{"1":"GA","2":"Georgia","3":"4931"},{"1":"HI","2":"Hawaii","3":"868"},{"1":"KS","2":"Kansas","3":"2280"},{"1":"KY","2":"Kentucky","3":"3387"},{"1":"LA","2":"Louisiana","3":"3806"},{"1":"NE","2":"Nebraska","3":"1544"},{"1":"NV","2":"Nevada","3":"590"},{"1":"NH","2":"New Hampshire","3":"812"},{"1":"NJ","2":"New Jersey","3":"7333"},{"1":"NM","2":"New Mexico","3":"1144"},{"1":"NY","2":"New York","3":"18076"},{"1":"NC","2":"North Carolina","3":"5441"},{"1":"ND","2":"North Dakota","3":"637"},{"1":"OH","2":"Ohio","3":"10735"},{"1":"OK","2":"Oklahoma","3":"2715"},{"1":"OR","2":"Oregon","3":"2284"},{"1":"PA","2":"Pennsylvania","3":"11860"},{"1":"RI","2":"Rhode Island","3":"931"},{"1":"SC","2":"South Carolina","3":"2816"},{"1":"SD","2":"South Dakota","3":"681"},{"1":"TN","2":"Tennessee","3":"4173"},{"1":"TX","2":"Texas","3":"12237"},{"1":"UT","2":"Utah","3":"1203"},{"1":"WA","2":"Washington","3":"3559"},{"1":"WV","2":"West Virginia","3":"1799"},{"1":"WI","2":"Wisconsin","3":"4589"},{"1":"WY","2":"Wyoming","3":"376"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Veja que no exemplo acima, foram retornadas apenas <strong>37</strong> observações. Isto porque definimos como tabela “base” a tabela Y. Se fizermos o inverso, ou seja, left_join (X, Y), a saída irá conter todos os <strong>50</strong> registros de X e os que ele encontrar na tabela Y. Os que não forem encontrados de acordo com a chave escolhida (neste caso a coluna Estado), será preenchido com N/A. Veja exemplo abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(X, Y, <span class="at">by =</span> <span class="st">"Estado"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Population"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Income"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Illiteracy"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Life Exp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Murder"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["HS Grad"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Frost"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Area"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Estado"],"name":[9],"type":["chr"],"align":["left"]},{"label":["Abreviacao"],"name":[10],"type":["chr"],"align":["left"]}],"data":[{"1":"3615","2":"3624","3":"2.1","4":"69.05","5":"15.1","6":"41.3","7":"20","8":"50708","9":"Alabama","10":"AL"},{"1":"365","2":"6315","3":"1.5","4":"69.31","5":"11.3","6":"66.7","7":"152","8":"566432","9":"Alaska","10":"AK"},{"1":"2212","2":"4530","3":"1.8","4":"70.55","5":"7.8","6":"58.1","7":"15","8":"113417","9":"Arizona","10":"AZ"},{"1":"2110","2":"3378","3":"1.9","4":"70.66","5":"10.1","6":"39.9","7":"65","8":"51945","9":"Arkansas","10":"AR"},{"1":"21198","2":"5114","3":"1.1","4":"71.71","5":"10.3","6":"62.6","7":"20","8":"156361","9":"California","10":"NA"},{"1":"2541","2":"4884","3":"0.7","4":"72.06","5":"6.8","6":"63.9","7":"166","8":"103766","9":"Colorado","10":"NA"},{"1":"3100","2":"5348","3":"1.1","4":"72.48","5":"3.1","6":"56.0","7":"139","8":"4862","9":"Connecticut","10":"NA"},{"1":"579","2":"4809","3":"0.9","4":"70.06","5":"6.2","6":"54.6","7":"103","8":"1982","9":"Delaware","10":"DE"},{"1":"8277","2":"4815","3":"1.3","4":"70.66","5":"10.7","6":"52.6","7":"11","8":"54090","9":"Florida","10":"FL"},{"1":"4931","2":"4091","3":"2.0","4":"68.54","5":"13.9","6":"40.6","7":"60","8":"58073","9":"Georgia","10":"GA"},{"1":"868","2":"4963","3":"1.9","4":"73.60","5":"6.2","6":"61.9","7":"0","8":"6425","9":"Hawaii","10":"HI"},{"1":"813","2":"4119","3":"0.6","4":"71.87","5":"5.3","6":"59.5","7":"126","8":"82677","9":"Idaho","10":"NA"},{"1":"11197","2":"5107","3":"0.9","4":"70.14","5":"10.3","6":"52.6","7":"127","8":"55748","9":"Illinois","10":"NA"},{"1":"5313","2":"4458","3":"0.7","4":"70.88","5":"7.1","6":"52.9","7":"122","8":"36097","9":"Indiana","10":"NA"},{"1":"2861","2":"4628","3":"0.5","4":"72.56","5":"2.3","6":"59.0","7":"140","8":"55941","9":"Iowa","10":"NA"},{"1":"2280","2":"4669","3":"0.6","4":"72.58","5":"4.5","6":"59.9","7":"114","8":"81787","9":"Kansas","10":"KS"},{"1":"3387","2":"3712","3":"1.6","4":"70.10","5":"10.6","6":"38.5","7":"95","8":"39650","9":"Kentucky","10":"KY"},{"1":"3806","2":"3545","3":"2.8","4":"68.76","5":"13.2","6":"42.2","7":"12","8":"44930","9":"Louisiana","10":"LA"},{"1":"1058","2":"3694","3":"0.7","4":"70.39","5":"2.7","6":"54.7","7":"161","8":"30920","9":"Maine","10":"NA"},{"1":"4122","2":"5299","3":"0.9","4":"70.22","5":"8.5","6":"52.3","7":"101","8":"9891","9":"Maryland","10":"NA"},{"1":"5814","2":"4755","3":"1.1","4":"71.83","5":"3.3","6":"58.5","7":"103","8":"7826","9":"Massachusetts","10":"NA"},{"1":"9111","2":"4751","3":"0.9","4":"70.63","5":"11.1","6":"52.8","7":"125","8":"56817","9":"Michigan","10":"NA"},{"1":"3921","2":"4675","3":"0.6","4":"72.96","5":"2.3","6":"57.6","7":"160","8":"79289","9":"Minnesota","10":"NA"},{"1":"2341","2":"3098","3":"2.4","4":"68.09","5":"12.5","6":"41.0","7":"50","8":"47296","9":"Mississippi","10":"NA"},{"1":"4767","2":"4254","3":"0.8","4":"70.69","5":"9.3","6":"48.8","7":"108","8":"68995","9":"Missouri","10":"NA"},{"1":"746","2":"4347","3":"0.6","4":"70.56","5":"5.0","6":"59.2","7":"155","8":"145587","9":"Montana","10":"NA"},{"1":"1544","2":"4508","3":"0.6","4":"72.60","5":"2.9","6":"59.3","7":"139","8":"76483","9":"Nebraska","10":"NE"},{"1":"590","2":"5149","3":"0.5","4":"69.03","5":"11.5","6":"65.2","7":"188","8":"109889","9":"Nevada","10":"NV"},{"1":"812","2":"4281","3":"0.7","4":"71.23","5":"3.3","6":"57.6","7":"174","8":"9027","9":"New Hampshire","10":"NH"},{"1":"7333","2":"5237","3":"1.1","4":"70.93","5":"5.2","6":"52.5","7":"115","8":"7521","9":"New Jersey","10":"NJ"},{"1":"1144","2":"3601","3":"2.2","4":"70.32","5":"9.7","6":"55.2","7":"120","8":"121412","9":"New Mexico","10":"NM"},{"1":"18076","2":"4903","3":"1.4","4":"70.55","5":"10.9","6":"52.7","7":"82","8":"47831","9":"New York","10":"NY"},{"1":"5441","2":"3875","3":"1.8","4":"69.21","5":"11.1","6":"38.5","7":"80","8":"48798","9":"North Carolina","10":"NC"},{"1":"637","2":"5087","3":"0.8","4":"72.78","5":"1.4","6":"50.3","7":"186","8":"69273","9":"North Dakota","10":"ND"},{"1":"10735","2":"4561","3":"0.8","4":"70.82","5":"7.4","6":"53.2","7":"124","8":"40975","9":"Ohio","10":"OH"},{"1":"2715","2":"3983","3":"1.1","4":"71.42","5":"6.4","6":"51.6","7":"82","8":"68782","9":"Oklahoma","10":"OK"},{"1":"2284","2":"4660","3":"0.6","4":"72.13","5":"4.2","6":"60.0","7":"44","8":"96184","9":"Oregon","10":"OR"},{"1":"11860","2":"4449","3":"1.0","4":"70.43","5":"6.1","6":"50.2","7":"126","8":"44966","9":"Pennsylvania","10":"PA"},{"1":"931","2":"4558","3":"1.3","4":"71.90","5":"2.4","6":"46.4","7":"127","8":"1049","9":"Rhode Island","10":"RI"},{"1":"2816","2":"3635","3":"2.3","4":"67.96","5":"11.6","6":"37.8","7":"65","8":"30225","9":"South Carolina","10":"SC"},{"1":"681","2":"4167","3":"0.5","4":"72.08","5":"1.7","6":"53.3","7":"172","8":"75955","9":"South Dakota","10":"SD"},{"1":"4173","2":"3821","3":"1.7","4":"70.11","5":"11.0","6":"41.8","7":"70","8":"41328","9":"Tennessee","10":"TN"},{"1":"12237","2":"4188","3":"2.2","4":"70.90","5":"12.2","6":"47.4","7":"35","8":"262134","9":"Texas","10":"TX"},{"1":"1203","2":"4022","3":"0.6","4":"72.90","5":"4.5","6":"67.3","7":"137","8":"82096","9":"Utah","10":"UT"},{"1":"472","2":"3907","3":"0.6","4":"71.64","5":"5.5","6":"57.1","7":"168","8":"9267","9":"Vermont","10":"NA"},{"1":"4981","2":"4701","3":"1.4","4":"70.08","5":"9.5","6":"47.8","7":"85","8":"39780","9":"Virginia","10":"NA"},{"1":"3559","2":"4864","3":"0.6","4":"71.72","5":"4.3","6":"63.5","7":"32","8":"66570","9":"Washington","10":"WA"},{"1":"1799","2":"3617","3":"1.4","4":"69.48","5":"6.7","6":"41.6","7":"100","8":"24070","9":"West Virginia","10":"WV"},{"1":"4589","2":"4468","3":"0.7","4":"72.48","5":"3.0","6":"54.5","7":"149","8":"54464","9":"Wisconsin","10":"WI"},{"1":"376","2":"4566","3":"0.6","4":"70.29","5":"6.9","6":"62.9","7":"173","8":"97203","9":"Wyoming","10":"WY"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>As colunas unidas da tabela Y, são adicionadas ao lado direito da tabela X.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Se não for definido o parâmetro “<strong>by =</strong>”, a função irá automaticamente selecionar todas as colunas com o mesmo nome para definir uma chave. Veja mais detalhes na seção <a href="#combinando-colunas-para-uniões">Combinando colunas para uniões</a>.</p>
</div>
</div>
</section>
<section id="right_join" class="level4" data-number="4.8.2.2">
<h4 data-number="4.8.2.2" class="anchored" data-anchor-id="right_join"><span class="header-section-number">4.8.2.2</span> right_join</h4>
<p>Use para unir valores iguais de Y em X. Veja que right_join(Y, X) , é o mesmo que escrever left_join(X, Y). Veja a função <a href="">left_join</a> para mais informações.</p>
</section>
<section id="inner_join" class="level4" data-number="4.8.2.3">
<h4 data-number="4.8.2.3" class="anchored" data-anchor-id="inner_join"><span class="header-section-number">4.8.2.3</span> inner_join</h4>
<p>Use para unir todos os dados de X em Y e retornar somente as linhas em comum.</p>
<p>Por exemplo, se quisermos obter todas as linhas da tabela X (com 50 registros) unindo-as com as linhas correspondentes em Y (com 37 registros), fazemos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(X, Y) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Population"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Income"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Illiteracy"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Life Exp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Murder"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["HS Grad"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Frost"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Area"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Estado"],"name":[9],"type":["chr"],"align":["left"]},{"label":["Abreviacao"],"name":[10],"type":["chr"],"align":["left"]}],"data":[{"1":"3615","2":"3624","3":"2.1","4":"69.05","5":"15.1","6":"41.3","7":"20","8":"50708","9":"Alabama","10":"AL"},{"1":"365","2":"6315","3":"1.5","4":"69.31","5":"11.3","6":"66.7","7":"152","8":"566432","9":"Alaska","10":"AK"},{"1":"2212","2":"4530","3":"1.8","4":"70.55","5":"7.8","6":"58.1","7":"15","8":"113417","9":"Arizona","10":"AZ"},{"1":"2110","2":"3378","3":"1.9","4":"70.66","5":"10.1","6":"39.9","7":"65","8":"51945","9":"Arkansas","10":"AR"},{"1":"579","2":"4809","3":"0.9","4":"70.06","5":"6.2","6":"54.6","7":"103","8":"1982","9":"Delaware","10":"DE"},{"1":"8277","2":"4815","3":"1.3","4":"70.66","5":"10.7","6":"52.6","7":"11","8":"54090","9":"Florida","10":"FL"},{"1":"4931","2":"4091","3":"2.0","4":"68.54","5":"13.9","6":"40.6","7":"60","8":"58073","9":"Georgia","10":"GA"},{"1":"868","2":"4963","3":"1.9","4":"73.60","5":"6.2","6":"61.9","7":"0","8":"6425","9":"Hawaii","10":"HI"},{"1":"2280","2":"4669","3":"0.6","4":"72.58","5":"4.5","6":"59.9","7":"114","8":"81787","9":"Kansas","10":"KS"},{"1":"3387","2":"3712","3":"1.6","4":"70.10","5":"10.6","6":"38.5","7":"95","8":"39650","9":"Kentucky","10":"KY"},{"1":"3806","2":"3545","3":"2.8","4":"68.76","5":"13.2","6":"42.2","7":"12","8":"44930","9":"Louisiana","10":"LA"},{"1":"1544","2":"4508","3":"0.6","4":"72.60","5":"2.9","6":"59.3","7":"139","8":"76483","9":"Nebraska","10":"NE"},{"1":"590","2":"5149","3":"0.5","4":"69.03","5":"11.5","6":"65.2","7":"188","8":"109889","9":"Nevada","10":"NV"},{"1":"812","2":"4281","3":"0.7","4":"71.23","5":"3.3","6":"57.6","7":"174","8":"9027","9":"New Hampshire","10":"NH"},{"1":"7333","2":"5237","3":"1.1","4":"70.93","5":"5.2","6":"52.5","7":"115","8":"7521","9":"New Jersey","10":"NJ"},{"1":"1144","2":"3601","3":"2.2","4":"70.32","5":"9.7","6":"55.2","7":"120","8":"121412","9":"New Mexico","10":"NM"},{"1":"18076","2":"4903","3":"1.4","4":"70.55","5":"10.9","6":"52.7","7":"82","8":"47831","9":"New York","10":"NY"},{"1":"5441","2":"3875","3":"1.8","4":"69.21","5":"11.1","6":"38.5","7":"80","8":"48798","9":"North Carolina","10":"NC"},{"1":"637","2":"5087","3":"0.8","4":"72.78","5":"1.4","6":"50.3","7":"186","8":"69273","9":"North Dakota","10":"ND"},{"1":"10735","2":"4561","3":"0.8","4":"70.82","5":"7.4","6":"53.2","7":"124","8":"40975","9":"Ohio","10":"OH"},{"1":"2715","2":"3983","3":"1.1","4":"71.42","5":"6.4","6":"51.6","7":"82","8":"68782","9":"Oklahoma","10":"OK"},{"1":"2284","2":"4660","3":"0.6","4":"72.13","5":"4.2","6":"60.0","7":"44","8":"96184","9":"Oregon","10":"OR"},{"1":"11860","2":"4449","3":"1.0","4":"70.43","5":"6.1","6":"50.2","7":"126","8":"44966","9":"Pennsylvania","10":"PA"},{"1":"931","2":"4558","3":"1.3","4":"71.90","5":"2.4","6":"46.4","7":"127","8":"1049","9":"Rhode Island","10":"RI"},{"1":"2816","2":"3635","3":"2.3","4":"67.96","5":"11.6","6":"37.8","7":"65","8":"30225","9":"South Carolina","10":"SC"},{"1":"681","2":"4167","3":"0.5","4":"72.08","5":"1.7","6":"53.3","7":"172","8":"75955","9":"South Dakota","10":"SD"},{"1":"4173","2":"3821","3":"1.7","4":"70.11","5":"11.0","6":"41.8","7":"70","8":"41328","9":"Tennessee","10":"TN"},{"1":"12237","2":"4188","3":"2.2","4":"70.90","5":"12.2","6":"47.4","7":"35","8":"262134","9":"Texas","10":"TX"},{"1":"1203","2":"4022","3":"0.6","4":"72.90","5":"4.5","6":"67.3","7":"137","8":"82096","9":"Utah","10":"UT"},{"1":"3559","2":"4864","3":"0.6","4":"71.72","5":"4.3","6":"63.5","7":"32","8":"66570","9":"Washington","10":"WA"},{"1":"1799","2":"3617","3":"1.4","4":"69.48","5":"6.7","6":"41.6","7":"100","8":"24070","9":"West Virginia","10":"WV"},{"1":"4589","2":"4468","3":"0.7","4":"72.48","5":"3.0","6":"54.5","7":"149","8":"54464","9":"Wisconsin","10":"WI"},{"1":"376","2":"4566","3":"0.6","4":"70.29","5":"6.9","6":"62.9","7":"173","8":"97203","9":"Wyoming","10":"WY"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="full_join" class="level4" data-number="4.8.2.4">
<h4 data-number="4.8.2.4" class="anchored" data-anchor-id="full_join"><span class="header-section-number">4.8.2.4</span> full_join</h4>
<p>Use para unir os dados de X e Y, mantendo todas as linhas e todas as variáveis.</p>
<p>Para este exemplo, iremos incluir uma linha (<a href="">add_row</a>) na tabela Y, que não possui um valores correspondente em X.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">add_row</span>(Y, <span class="at">Abreviacao =</span> <span class="st">"XX"</span>, <span class="at">Estado =</span> <span class="st">"Estado inexistente"</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(X, Y) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Population"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Income"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Illiteracy"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Life Exp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Murder"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["HS Grad"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Frost"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Area"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Estado"],"name":[9],"type":["chr"],"align":["left"]},{"label":["Abreviacao"],"name":[10],"type":["chr"],"align":["left"]}],"data":[{"1":"3615","2":"3624","3":"2.1","4":"69.05","5":"15.1","6":"41.3","7":"20","8":"50708","9":"Alabama","10":"AL"},{"1":"365","2":"6315","3":"1.5","4":"69.31","5":"11.3","6":"66.7","7":"152","8":"566432","9":"Alaska","10":"AK"},{"1":"2212","2":"4530","3":"1.8","4":"70.55","5":"7.8","6":"58.1","7":"15","8":"113417","9":"Arizona","10":"AZ"},{"1":"2110","2":"3378","3":"1.9","4":"70.66","5":"10.1","6":"39.9","7":"65","8":"51945","9":"Arkansas","10":"AR"},{"1":"21198","2":"5114","3":"1.1","4":"71.71","5":"10.3","6":"62.6","7":"20","8":"156361","9":"California","10":"NA"},{"1":"2541","2":"4884","3":"0.7","4":"72.06","5":"6.8","6":"63.9","7":"166","8":"103766","9":"Colorado","10":"NA"},{"1":"3100","2":"5348","3":"1.1","4":"72.48","5":"3.1","6":"56.0","7":"139","8":"4862","9":"Connecticut","10":"NA"},{"1":"579","2":"4809","3":"0.9","4":"70.06","5":"6.2","6":"54.6","7":"103","8":"1982","9":"Delaware","10":"DE"},{"1":"8277","2":"4815","3":"1.3","4":"70.66","5":"10.7","6":"52.6","7":"11","8":"54090","9":"Florida","10":"FL"},{"1":"4931","2":"4091","3":"2.0","4":"68.54","5":"13.9","6":"40.6","7":"60","8":"58073","9":"Georgia","10":"GA"},{"1":"868","2":"4963","3":"1.9","4":"73.60","5":"6.2","6":"61.9","7":"0","8":"6425","9":"Hawaii","10":"HI"},{"1":"813","2":"4119","3":"0.6","4":"71.87","5":"5.3","6":"59.5","7":"126","8":"82677","9":"Idaho","10":"NA"},{"1":"11197","2":"5107","3":"0.9","4":"70.14","5":"10.3","6":"52.6","7":"127","8":"55748","9":"Illinois","10":"NA"},{"1":"5313","2":"4458","3":"0.7","4":"70.88","5":"7.1","6":"52.9","7":"122","8":"36097","9":"Indiana","10":"NA"},{"1":"2861","2":"4628","3":"0.5","4":"72.56","5":"2.3","6":"59.0","7":"140","8":"55941","9":"Iowa","10":"NA"},{"1":"2280","2":"4669","3":"0.6","4":"72.58","5":"4.5","6":"59.9","7":"114","8":"81787","9":"Kansas","10":"KS"},{"1":"3387","2":"3712","3":"1.6","4":"70.10","5":"10.6","6":"38.5","7":"95","8":"39650","9":"Kentucky","10":"KY"},{"1":"3806","2":"3545","3":"2.8","4":"68.76","5":"13.2","6":"42.2","7":"12","8":"44930","9":"Louisiana","10":"LA"},{"1":"1058","2":"3694","3":"0.7","4":"70.39","5":"2.7","6":"54.7","7":"161","8":"30920","9":"Maine","10":"NA"},{"1":"4122","2":"5299","3":"0.9","4":"70.22","5":"8.5","6":"52.3","7":"101","8":"9891","9":"Maryland","10":"NA"},{"1":"5814","2":"4755","3":"1.1","4":"71.83","5":"3.3","6":"58.5","7":"103","8":"7826","9":"Massachusetts","10":"NA"},{"1":"9111","2":"4751","3":"0.9","4":"70.63","5":"11.1","6":"52.8","7":"125","8":"56817","9":"Michigan","10":"NA"},{"1":"3921","2":"4675","3":"0.6","4":"72.96","5":"2.3","6":"57.6","7":"160","8":"79289","9":"Minnesota","10":"NA"},{"1":"2341","2":"3098","3":"2.4","4":"68.09","5":"12.5","6":"41.0","7":"50","8":"47296","9":"Mississippi","10":"NA"},{"1":"4767","2":"4254","3":"0.8","4":"70.69","5":"9.3","6":"48.8","7":"108","8":"68995","9":"Missouri","10":"NA"},{"1":"746","2":"4347","3":"0.6","4":"70.56","5":"5.0","6":"59.2","7":"155","8":"145587","9":"Montana","10":"NA"},{"1":"1544","2":"4508","3":"0.6","4":"72.60","5":"2.9","6":"59.3","7":"139","8":"76483","9":"Nebraska","10":"NE"},{"1":"590","2":"5149","3":"0.5","4":"69.03","5":"11.5","6":"65.2","7":"188","8":"109889","9":"Nevada","10":"NV"},{"1":"812","2":"4281","3":"0.7","4":"71.23","5":"3.3","6":"57.6","7":"174","8":"9027","9":"New Hampshire","10":"NH"},{"1":"7333","2":"5237","3":"1.1","4":"70.93","5":"5.2","6":"52.5","7":"115","8":"7521","9":"New Jersey","10":"NJ"},{"1":"1144","2":"3601","3":"2.2","4":"70.32","5":"9.7","6":"55.2","7":"120","8":"121412","9":"New Mexico","10":"NM"},{"1":"18076","2":"4903","3":"1.4","4":"70.55","5":"10.9","6":"52.7","7":"82","8":"47831","9":"New York","10":"NY"},{"1":"5441","2":"3875","3":"1.8","4":"69.21","5":"11.1","6":"38.5","7":"80","8":"48798","9":"North Carolina","10":"NC"},{"1":"637","2":"5087","3":"0.8","4":"72.78","5":"1.4","6":"50.3","7":"186","8":"69273","9":"North Dakota","10":"ND"},{"1":"10735","2":"4561","3":"0.8","4":"70.82","5":"7.4","6":"53.2","7":"124","8":"40975","9":"Ohio","10":"OH"},{"1":"2715","2":"3983","3":"1.1","4":"71.42","5":"6.4","6":"51.6","7":"82","8":"68782","9":"Oklahoma","10":"OK"},{"1":"2284","2":"4660","3":"0.6","4":"72.13","5":"4.2","6":"60.0","7":"44","8":"96184","9":"Oregon","10":"OR"},{"1":"11860","2":"4449","3":"1.0","4":"70.43","5":"6.1","6":"50.2","7":"126","8":"44966","9":"Pennsylvania","10":"PA"},{"1":"931","2":"4558","3":"1.3","4":"71.90","5":"2.4","6":"46.4","7":"127","8":"1049","9":"Rhode Island","10":"RI"},{"1":"2816","2":"3635","3":"2.3","4":"67.96","5":"11.6","6":"37.8","7":"65","8":"30225","9":"South Carolina","10":"SC"},{"1":"681","2":"4167","3":"0.5","4":"72.08","5":"1.7","6":"53.3","7":"172","8":"75955","9":"South Dakota","10":"SD"},{"1":"4173","2":"3821","3":"1.7","4":"70.11","5":"11.0","6":"41.8","7":"70","8":"41328","9":"Tennessee","10":"TN"},{"1":"12237","2":"4188","3":"2.2","4":"70.90","5":"12.2","6":"47.4","7":"35","8":"262134","9":"Texas","10":"TX"},{"1":"1203","2":"4022","3":"0.6","4":"72.90","5":"4.5","6":"67.3","7":"137","8":"82096","9":"Utah","10":"UT"},{"1":"472","2":"3907","3":"0.6","4":"71.64","5":"5.5","6":"57.1","7":"168","8":"9267","9":"Vermont","10":"NA"},{"1":"4981","2":"4701","3":"1.4","4":"70.08","5":"9.5","6":"47.8","7":"85","8":"39780","9":"Virginia","10":"NA"},{"1":"3559","2":"4864","3":"0.6","4":"71.72","5":"4.3","6":"63.5","7":"32","8":"66570","9":"Washington","10":"WA"},{"1":"1799","2":"3617","3":"1.4","4":"69.48","5":"6.7","6":"41.6","7":"100","8":"24070","9":"West Virginia","10":"WV"},{"1":"4589","2":"4468","3":"0.7","4":"72.48","5":"3.0","6":"54.5","7":"149","8":"54464","9":"Wisconsin","10":"WI"},{"1":"376","2":"4566","3":"0.6","4":"70.29","5":"6.9","6":"62.9","7":"173","8":"97203","9":"Wyoming","10":"WY"},{"1":"NA","2":"NA","3":"NA","4":"NA","5":"NA","6":"NA","7":"NA","8":"NA","9":"Estado inexistente","10":"XX"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Veja que no exemplo acima, temos agora 51 registros, já que uma linha adicional foi criada com o novo registro de Y que não existia em X.</p>
</section>
<section id="combinando-colunas-para-uniões" class="level4" data-number="4.8.2.5">
<h4 data-number="4.8.2.5" class="anchored" data-anchor-id="combinando-colunas-para-uniões"><span class="header-section-number">4.8.2.5</span> Combinando colunas para uniões</h4>
<p>Se não for definido o parâmetro “<strong>by =</strong>”, a função irá automaticamente selecionar todas as colunas com o mesmo nome para definir uma chave.</p>
<p>Se usarmos by = vetor, por exemplo, by = c(“Estado”), estamos definindo a chave de maneira explícita. Podemos definir uma chave contendo mais que uma colunas usando c(“coluna1”, “coluna2”), com isto, a união será feita encontrando os valores comuns em ambas as colunas das duas tabelas.</p>
<p>Se quisermos definir uma chave que não possui o mesmo nome nas duas tabelas, podemos ainda usar o parametro by = c(“coluna de X” = “aa”, “coluna de Y” = “bb”).</p>
<p>Para exemplificar este caso, vamos renomear a coluna “Estado” da tabela Y para “State” e salvarmos numa tabela Z. Depois iremos usar o parametro by = para definir esta coluna como chave e então podermos efetuar uma união (ex, left_join()).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>Z <span class="ot">&lt;-</span> <span class="fu">rename</span>(Y, <span class="at">State =</span> Estado)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span> (Z, X, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"State"</span> <span class="ot">=</span> <span class="st">"Estado"</span>))  </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["State"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Population"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Income"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Illiteracy"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Life Exp"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Murder"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["HS Grad"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Frost"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Area"],"name":[10],"type":["dbl"],"align":["right"]}],"data":[{"1":"AL","2":"Alabama","3":"3615","4":"3624","5":"2.1","6":"69.05","7":"15.1","8":"41.3","9":"20","10":"50708"},{"1":"AK","2":"Alaska","3":"365","4":"6315","5":"1.5","6":"69.31","7":"11.3","8":"66.7","9":"152","10":"566432"},{"1":"AZ","2":"Arizona","3":"2212","4":"4530","5":"1.8","6":"70.55","7":"7.8","8":"58.1","9":"15","10":"113417"},{"1":"AR","2":"Arkansas","3":"2110","4":"3378","5":"1.9","6":"70.66","7":"10.1","8":"39.9","9":"65","10":"51945"},{"1":"DE","2":"Delaware","3":"579","4":"4809","5":"0.9","6":"70.06","7":"6.2","8":"54.6","9":"103","10":"1982"},{"1":"FL","2":"Florida","3":"8277","4":"4815","5":"1.3","6":"70.66","7":"10.7","8":"52.6","9":"11","10":"54090"},{"1":"GA","2":"Georgia","3":"4931","4":"4091","5":"2.0","6":"68.54","7":"13.9","8":"40.6","9":"60","10":"58073"},{"1":"HI","2":"Hawaii","3":"868","4":"4963","5":"1.9","6":"73.60","7":"6.2","8":"61.9","9":"0","10":"6425"},{"1":"KS","2":"Kansas","3":"2280","4":"4669","5":"0.6","6":"72.58","7":"4.5","8":"59.9","9":"114","10":"81787"},{"1":"KY","2":"Kentucky","3":"3387","4":"3712","5":"1.6","6":"70.10","7":"10.6","8":"38.5","9":"95","10":"39650"},{"1":"LA","2":"Louisiana","3":"3806","4":"3545","5":"2.8","6":"68.76","7":"13.2","8":"42.2","9":"12","10":"44930"},{"1":"NE","2":"Nebraska","3":"1544","4":"4508","5":"0.6","6":"72.60","7":"2.9","8":"59.3","9":"139","10":"76483"},{"1":"NV","2":"Nevada","3":"590","4":"5149","5":"0.5","6":"69.03","7":"11.5","8":"65.2","9":"188","10":"109889"},{"1":"NH","2":"New Hampshire","3":"812","4":"4281","5":"0.7","6":"71.23","7":"3.3","8":"57.6","9":"174","10":"9027"},{"1":"NJ","2":"New Jersey","3":"7333","4":"5237","5":"1.1","6":"70.93","7":"5.2","8":"52.5","9":"115","10":"7521"},{"1":"NM","2":"New Mexico","3":"1144","4":"3601","5":"2.2","6":"70.32","7":"9.7","8":"55.2","9":"120","10":"121412"},{"1":"NY","2":"New York","3":"18076","4":"4903","5":"1.4","6":"70.55","7":"10.9","8":"52.7","9":"82","10":"47831"},{"1":"NC","2":"North Carolina","3":"5441","4":"3875","5":"1.8","6":"69.21","7":"11.1","8":"38.5","9":"80","10":"48798"},{"1":"ND","2":"North Dakota","3":"637","4":"5087","5":"0.8","6":"72.78","7":"1.4","8":"50.3","9":"186","10":"69273"},{"1":"OH","2":"Ohio","3":"10735","4":"4561","5":"0.8","6":"70.82","7":"7.4","8":"53.2","9":"124","10":"40975"},{"1":"OK","2":"Oklahoma","3":"2715","4":"3983","5":"1.1","6":"71.42","7":"6.4","8":"51.6","9":"82","10":"68782"},{"1":"OR","2":"Oregon","3":"2284","4":"4660","5":"0.6","6":"72.13","7":"4.2","8":"60.0","9":"44","10":"96184"},{"1":"PA","2":"Pennsylvania","3":"11860","4":"4449","5":"1.0","6":"70.43","7":"6.1","8":"50.2","9":"126","10":"44966"},{"1":"RI","2":"Rhode Island","3":"931","4":"4558","5":"1.3","6":"71.90","7":"2.4","8":"46.4","9":"127","10":"1049"},{"1":"SC","2":"South Carolina","3":"2816","4":"3635","5":"2.3","6":"67.96","7":"11.6","8":"37.8","9":"65","10":"30225"},{"1":"SD","2":"South Dakota","3":"681","4":"4167","5":"0.5","6":"72.08","7":"1.7","8":"53.3","9":"172","10":"75955"},{"1":"TN","2":"Tennessee","3":"4173","4":"3821","5":"1.7","6":"70.11","7":"11.0","8":"41.8","9":"70","10":"41328"},{"1":"TX","2":"Texas","3":"12237","4":"4188","5":"2.2","6":"70.90","7":"12.2","8":"47.4","9":"35","10":"262134"},{"1":"UT","2":"Utah","3":"1203","4":"4022","5":"0.6","6":"72.90","7":"4.5","8":"67.3","9":"137","10":"82096"},{"1":"WA","2":"Washington","3":"3559","4":"4864","5":"0.6","6":"71.72","7":"4.3","8":"63.5","9":"32","10":"66570"},{"1":"WV","2":"West Virginia","3":"1799","4":"3617","5":"1.4","6":"69.48","7":"6.7","8":"41.6","9":"100","10":"24070"},{"1":"WI","2":"Wisconsin","3":"4589","4":"4468","5":"0.7","6":"72.48","7":"3.0","8":"54.5","9":"149","10":"54464"},{"1":"WY","2":"Wyoming","3":"376","4":"4566","5":"0.6","6":"70.29","7":"6.9","8":"62.9","9":"173","10":"97203"},{"1":"XX","2":"Estado inexistente","3":"NA","4":"NA","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>Z</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["State"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"AL","2":"Alabama"},{"1":"AK","2":"Alaska"},{"1":"AZ","2":"Arizona"},{"1":"AR","2":"Arkansas"},{"1":"DE","2":"Delaware"},{"1":"FL","2":"Florida"},{"1":"GA","2":"Georgia"},{"1":"HI","2":"Hawaii"},{"1":"KS","2":"Kansas"},{"1":"KY","2":"Kentucky"},{"1":"LA","2":"Louisiana"},{"1":"NE","2":"Nebraska"},{"1":"NV","2":"Nevada"},{"1":"NH","2":"New Hampshire"},{"1":"NJ","2":"New Jersey"},{"1":"NM","2":"New Mexico"},{"1":"NY","2":"New York"},{"1":"NC","2":"North Carolina"},{"1":"ND","2":"North Dakota"},{"1":"OH","2":"Ohio"},{"1":"OK","2":"Oklahoma"},{"1":"OR","2":"Oregon"},{"1":"PA","2":"Pennsylvania"},{"1":"RI","2":"Rhode Island"},{"1":"SC","2":"South Carolina"},{"1":"SD","2":"South Dakota"},{"1":"TN","2":"Tennessee"},{"1":"TX","2":"Texas"},{"1":"UT","2":"Utah"},{"1":"WA","2":"Washington"},{"1":"WV","2":"West Virginia"},{"1":"WI","2":"Wisconsin"},{"1":"WY","2":"Wyoming"},{"1":"XX","2":"Estado inexistente"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Caso tenhamos colunas com o mesmo nome que não seja a chave, as uniões irão colocar automaticamento um sufixo (.x e .y). Se quiser alterar este sufixo, use o parametro suffix = (ex: suffix c(“Tabela_1”, “Tabela_2”)).</p>
</div>
</div>
</section>
</section>
<section id="juntando-observações" class="level3" data-number="4.8.3">
<h3 data-number="4.8.3" class="anchored" data-anchor-id="juntando-observações"><span class="header-section-number">4.8.3</span> Juntando Observações</h3>
<p>Quando tivermos linhas em tabelas diferentes para serem unidas, podemos fazê-lo usndo a função bind_rows(). Em alguns casos, desejamos filtrar linhas de uma tabela, baseada em linhas em comum de outra tabela, para estes casos, iremos usar as uniões de filtro (filtering joins).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>As tabelas usadas nos exemplos a seguir são as mesmas utilizadas na seção <a href="#relacionando-dados">Relacionando Dados</a>.</p>
</div>
</div>
<section id="bind_rows" class="level4" data-number="4.8.3.1">
<h4 data-number="4.8.3.1" class="anchored" data-anchor-id="bind_rows"><span class="header-section-number">4.8.3.1</span> bind_rows</h4>
<p>Use para unir observações (linhas) que possuem o mesmo número de colunas.</p>
<p>Por exemplo, usando as tabelas <strong>X</strong> e <strong>Y</strong> preparadas no início da seção <a href="#relacionando-dados">Relacionando Dados</a>, podemos criar uma tabela Z, com mais 3 observações e uní-la na tabela Y.</p>
<p>Tabela Z</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>Z <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Abreviacao =</span> <span class="fu">c</span>(<span class="st">"01"</span>, <span class="st">"02"</span>, <span class="st">"03"</span>), </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Estado =</span> <span class="fu">c</span>(<span class="st">"Estado01"</span>, <span class="st">"Estado02"</span>, <span class="st">"Estado03"</span>))</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>Z</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"01","2":"Estado01"},{"1":"02","2":"Estado02"},{"1":"03","2":"Estado03"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Agora, podemos unir as tabela Y com a tabela Z usando bind_rows():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(Y, Z)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"AL","2":"Alabama"},{"1":"AK","2":"Alaska"},{"1":"AZ","2":"Arizona"},{"1":"AR","2":"Arkansas"},{"1":"DE","2":"Delaware"},{"1":"FL","2":"Florida"},{"1":"GA","2":"Georgia"},{"1":"HI","2":"Hawaii"},{"1":"KS","2":"Kansas"},{"1":"KY","2":"Kentucky"},{"1":"LA","2":"Louisiana"},{"1":"NE","2":"Nebraska"},{"1":"NV","2":"Nevada"},{"1":"NH","2":"New Hampshire"},{"1":"NJ","2":"New Jersey"},{"1":"NM","2":"New Mexico"},{"1":"NY","2":"New York"},{"1":"NC","2":"North Carolina"},{"1":"ND","2":"North Dakota"},{"1":"OH","2":"Ohio"},{"1":"OK","2":"Oklahoma"},{"1":"OR","2":"Oregon"},{"1":"PA","2":"Pennsylvania"},{"1":"RI","2":"Rhode Island"},{"1":"SC","2":"South Carolina"},{"1":"SD","2":"South Dakota"},{"1":"TN","2":"Tennessee"},{"1":"TX","2":"Texas"},{"1":"UT","2":"Utah"},{"1":"WA","2":"Washington"},{"1":"WV","2":"West Virginia"},{"1":"WI","2":"Wisconsin"},{"1":"WY","2":"Wyoming"},{"1":"XX","2":"Estado inexistente"},{"1":"01","2":"Estado01"},{"1":"02","2":"Estado02"},{"1":"03","2":"Estado03"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Importante
</div>
</div>
<div class="callout-body-container callout-body">
<p>Observe que, se tivermos alguma coluna que não é comum entre as tabelas, esta coluna será criada automaticamente. Por exemplo:</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>Z <span class="ot">&lt;-</span> <span class="fu">mutate</span> (Z, <span class="at">Coluna_Extra =</span> <span class="fu">c</span>(<span class="st">"Valor01"</span>, <span class="st">"Valor02"</span>, <span class="st">"Valor03"</span>))</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(Y, Z) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Coluna_Extra"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"AL","2":"Alabama","3":"NA"},{"1":"AK","2":"Alaska","3":"NA"},{"1":"AZ","2":"Arizona","3":"NA"},{"1":"AR","2":"Arkansas","3":"NA"},{"1":"DE","2":"Delaware","3":"NA"},{"1":"FL","2":"Florida","3":"NA"},{"1":"GA","2":"Georgia","3":"NA"},{"1":"HI","2":"Hawaii","3":"NA"},{"1":"KS","2":"Kansas","3":"NA"},{"1":"KY","2":"Kentucky","3":"NA"},{"1":"LA","2":"Louisiana","3":"NA"},{"1":"NE","2":"Nebraska","3":"NA"},{"1":"NV","2":"Nevada","3":"NA"},{"1":"NH","2":"New Hampshire","3":"NA"},{"1":"NJ","2":"New Jersey","3":"NA"},{"1":"NM","2":"New Mexico","3":"NA"},{"1":"NY","2":"New York","3":"NA"},{"1":"NC","2":"North Carolina","3":"NA"},{"1":"ND","2":"North Dakota","3":"NA"},{"1":"OH","2":"Ohio","3":"NA"},{"1":"OK","2":"Oklahoma","3":"NA"},{"1":"OR","2":"Oregon","3":"NA"},{"1":"PA","2":"Pennsylvania","3":"NA"},{"1":"RI","2":"Rhode Island","3":"NA"},{"1":"SC","2":"South Carolina","3":"NA"},{"1":"SD","2":"South Dakota","3":"NA"},{"1":"TN","2":"Tennessee","3":"NA"},{"1":"TX","2":"Texas","3":"NA"},{"1":"UT","2":"Utah","3":"NA"},{"1":"WA","2":"Washington","3":"NA"},{"1":"WV","2":"West Virginia","3":"NA"},{"1":"WI","2":"Wisconsin","3":"NA"},{"1":"WY","2":"Wyoming","3":"NA"},{"1":"XX","2":"Estado inexistente","3":"NA"},{"1":"01","2":"Estado01","3":"Valor01"},{"1":"02","2":"Estado02","3":"Valor02"},{"1":"03","2":"Estado03","3":"Valor03"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="semi_join" class="level4" data-number="4.8.3.2">
<h4 data-number="4.8.3.2" class="anchored" data-anchor-id="semi_join"><span class="header-section-number">4.8.3.2</span> semi_join</h4>
<p>Use para retornar todas as linhas da tabela X que são <strong>comuns</strong> na tabela Y.</p>
<p>Por exemplo, para filtrar a tabela Y com apenas os valores presentes na tabela X, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">semi_join</span>(Y, X) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"AL","2":"Alabama"},{"1":"AK","2":"Alaska"},{"1":"AZ","2":"Arizona"},{"1":"AR","2":"Arkansas"},{"1":"DE","2":"Delaware"},{"1":"FL","2":"Florida"},{"1":"GA","2":"Georgia"},{"1":"HI","2":"Hawaii"},{"1":"KS","2":"Kansas"},{"1":"KY","2":"Kentucky"},{"1":"LA","2":"Louisiana"},{"1":"NE","2":"Nebraska"},{"1":"NV","2":"Nevada"},{"1":"NH","2":"New Hampshire"},{"1":"NJ","2":"New Jersey"},{"1":"NM","2":"New Mexico"},{"1":"NY","2":"New York"},{"1":"NC","2":"North Carolina"},{"1":"ND","2":"North Dakota"},{"1":"OH","2":"Ohio"},{"1":"OK","2":"Oklahoma"},{"1":"OR","2":"Oregon"},{"1":"PA","2":"Pennsylvania"},{"1":"RI","2":"Rhode Island"},{"1":"SC","2":"South Carolina"},{"1":"SD","2":"South Dakota"},{"1":"TN","2":"Tennessee"},{"1":"TX","2":"Texas"},{"1":"UT","2":"Utah"},{"1":"WA","2":"Washington"},{"1":"WV","2":"West Virginia"},{"1":"WI","2":"Wisconsin"},{"1":"WY","2":"Wyoming"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="anti_join" class="level4" data-number="4.8.3.3">
<h4 data-number="4.8.3.3" class="anchored" data-anchor-id="anti_join"><span class="header-section-number">4.8.3.3</span> anti_join</h4>
<p>Use para retornar todas as linhas da tabela X que são <strong>NÃO</strong> <strong>comuns</strong> na tabela Y.</p>
<p>Por exemplo, para filtrar a tabela Y com apenas os valores NÃO presentes na tabela X, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(Y, X)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"XX","2":"Estado inexistente"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="nest_join" class="level4" data-number="4.8.3.4">
<h4 data-number="4.8.3.4" class="anchored" data-anchor-id="nest_join"><span class="header-section-number">4.8.3.4</span> nest_join</h4>
<p>Use para retornar todas as linhas e colunas de X em uma nova coluna contendo todos os valores encontrados em Y.</p>
<p>Por exemplo, para criar uma colunas na tabela Y, contendo os registros encontrados na tabela X que são comuns entre elas, ou seja, que possuem a coluna Estado com valores comuns entre elas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nest_join</span>(Y, X, <span class="at">by =</span> <span class="st">"Estado"</span>, <span class="at">name =</span> <span class="st">"Dados de X"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Abreviacao"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Estado"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Dados de X"],"name":[3],"type":["list"],"align":["right"]}],"data":[{"1":"AL","2":"Alabama","3":"<tibble[,8]>"},{"1":"AK","2":"Alaska","3":"<tibble[,8]>"},{"1":"AZ","2":"Arizona","3":"<tibble[,8]>"},{"1":"AR","2":"Arkansas","3":"<tibble[,8]>"},{"1":"DE","2":"Delaware","3":"<tibble[,8]>"},{"1":"FL","2":"Florida","3":"<tibble[,8]>"},{"1":"GA","2":"Georgia","3":"<tibble[,8]>"},{"1":"HI","2":"Hawaii","3":"<tibble[,8]>"},{"1":"KS","2":"Kansas","3":"<tibble[,8]>"},{"1":"KY","2":"Kentucky","3":"<tibble[,8]>"},{"1":"LA","2":"Louisiana","3":"<tibble[,8]>"},{"1":"NE","2":"Nebraska","3":"<tibble[,8]>"},{"1":"NV","2":"Nevada","3":"<tibble[,8]>"},{"1":"NH","2":"New Hampshire","3":"<tibble[,8]>"},{"1":"NJ","2":"New Jersey","3":"<tibble[,8]>"},{"1":"NM","2":"New Mexico","3":"<tibble[,8]>"},{"1":"NY","2":"New York","3":"<tibble[,8]>"},{"1":"NC","2":"North Carolina","3":"<tibble[,8]>"},{"1":"ND","2":"North Dakota","3":"<tibble[,8]>"},{"1":"OH","2":"Ohio","3":"<tibble[,8]>"},{"1":"OK","2":"Oklahoma","3":"<tibble[,8]>"},{"1":"OR","2":"Oregon","3":"<tibble[,8]>"},{"1":"PA","2":"Pennsylvania","3":"<tibble[,8]>"},{"1":"RI","2":"Rhode Island","3":"<tibble[,8]>"},{"1":"SC","2":"South Carolina","3":"<tibble[,8]>"},{"1":"SD","2":"South Dakota","3":"<tibble[,8]>"},{"1":"TN","2":"Tennessee","3":"<tibble[,8]>"},{"1":"TX","2":"Texas","3":"<tibble[,8]>"},{"1":"UT","2":"Utah","3":"<tibble[,8]>"},{"1":"WA","2":"Washington","3":"<tibble[,8]>"},{"1":"WV","2":"West Virginia","3":"<tibble[,8]>"},{"1":"WI","2":"Wisconsin","3":"<tibble[,8]>"},{"1":"WY","2":"Wyoming","3":"<tibble[,8]>"},{"1":"XX","2":"Estado inexistente","3":"<tibble[,8]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Podemos usar a função tidyr::<strong>unnest</strong>() para desaninhar a coluna.</p>
</div>
</div>
</section>
<section id="operações-de-definição" class="level4" data-number="4.8.3.5">
<h4 data-number="4.8.3.5" class="anchored" data-anchor-id="operações-de-definição"><span class="header-section-number">4.8.3.5</span> Operações de Definição</h4>
<p>O pacote generics, possui também algumas funções que ajudam a identificar uniões (union), intersecções (intersect) e diferenças entre dois vetores. Esta funções podem ser úteis para obter estão operações em dois data-frames.</p>
</section>
<section id="intersect" class="level4" data-number="4.8.3.6">
<h4 data-number="4.8.3.6" class="anchored" data-anchor-id="intersect"><span class="header-section-number">4.8.3.6</span> intersect</h4>
<p>Use para obter a intersecção de dois conjuntos de dados.</p>
<p>Por exemplo, se quisermos saber quais linhas estão presentes no vetor v (1,2,3,4,5) e w(2,4) , podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(v,w) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4</code></pre>
</div>
</div>
</section>
<section id="setdiff" class="level4" data-number="4.8.3.7">
<h4 data-number="4.8.3.7" class="anchored" data-anchor-id="setdiff"><span class="header-section-number">4.8.3.7</span> setdiff</h4>
<p>Use para saber quais elementos de v NÃO estão presentes em w.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(v,w)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 5</code></pre>
</div>
</div>
</section>
<section id="union" class="level4" data-number="4.8.3.8">
<h4 data-number="4.8.3.8" class="anchored" data-anchor-id="union"><span class="header-section-number">4.8.3.8</span> union</h4>
<p>Use para fazer a união de dois conjuntos de dados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="st">"a"</span>,<span class="st">"b"</span>)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span> (v,w)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2" "3" "4" "5" "a" "b"</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="nome-de-linhas" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="nome-de-linhas"><span class="header-section-number">4.9</span> Nome de Linhas</h2>
<p>Dados organizados (tidy) não usam <strong>nomes</strong> de linhas (que contém uma variável fora das colunas). Para trabalhar com este nomes, mova para uma coluna.</p>
<p>Por exemplo, quando usamos a função <strong>head</strong>() para obter as primeiras linhas da tabela mtcars, obtemos a seguinte resposta:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Observe que na lista acima, o nome de cada veículo aparece na saída.</p>
<p>Porém, se pedirmos para mostrar os nomes as variáveis da table usando a função <strong>names</strong>(), não há nenhuma coluna que comporta o nome dos veículos.</p>
<p>Isto acontece porque o nomes dos veículos está associado ao nomes das linhas e não a coluna.</p>
<section id="rownames_to_column" class="level4" data-number="4.9.0.1">
<h4 data-number="4.9.0.1" class="anchored" data-anchor-id="rownames_to_column"><span class="header-section-number">4.9.0.1</span> rownames_to_column</h4>
<p>Se quisermos mover os nomes das linha para uma coluna, usamos a função rownames_to_column do pacote tibble:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(mtcars, <span class="at">var =</span> <span class="st">"Nomes_Veiculos"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Nomes_Veiculos"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mpg"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"Mazda RX4","2":"21.0","3":"6","4":"160.0","5":"110","6":"3.90","7":"2.620","8":"16.46","9":"0","10":"1","11":"4","12":"4"},{"1":"Mazda RX4 Wag","2":"21.0","3":"6","4":"160.0","5":"110","6":"3.90","7":"2.875","8":"17.02","9":"0","10":"1","11":"4","12":"4"},{"1":"Datsun 710","2":"22.8","3":"4","4":"108.0","5":"93","6":"3.85","7":"2.320","8":"18.61","9":"1","10":"1","11":"4","12":"1"},{"1":"Hornet 4 Drive","2":"21.4","3":"6","4":"258.0","5":"110","6":"3.08","7":"3.215","8":"19.44","9":"1","10":"0","11":"3","12":"1"},{"1":"Hornet Sportabout","2":"18.7","3":"8","4":"360.0","5":"175","6":"3.15","7":"3.440","8":"17.02","9":"0","10":"0","11":"3","12":"2"},{"1":"Valiant","2":"18.1","3":"6","4":"225.0","5":"105","6":"2.76","7":"3.460","8":"20.22","9":"1","10":"0","11":"3","12":"1"},{"1":"Duster 360","2":"14.3","3":"8","4":"360.0","5":"245","6":"3.21","7":"3.570","8":"15.84","9":"0","10":"0","11":"3","12":"4"},{"1":"Merc 240D","2":"24.4","3":"4","4":"146.7","5":"62","6":"3.69","7":"3.190","8":"20.00","9":"1","10":"0","11":"4","12":"2"},{"1":"Merc 230","2":"22.8","3":"4","4":"140.8","5":"95","6":"3.92","7":"3.150","8":"22.90","9":"1","10":"0","11":"4","12":"2"},{"1":"Merc 280","2":"19.2","3":"6","4":"167.6","5":"123","6":"3.92","7":"3.440","8":"18.30","9":"1","10":"0","11":"4","12":"4"},{"1":"Merc 280C","2":"17.8","3":"6","4":"167.6","5":"123","6":"3.92","7":"3.440","8":"18.90","9":"1","10":"0","11":"4","12":"4"},{"1":"Merc 450SE","2":"16.4","3":"8","4":"275.8","5":"180","6":"3.07","7":"4.070","8":"17.40","9":"0","10":"0","11":"3","12":"3"},{"1":"Merc 450SL","2":"17.3","3":"8","4":"275.8","5":"180","6":"3.07","7":"3.730","8":"17.60","9":"0","10":"0","11":"3","12":"3"},{"1":"Merc 450SLC","2":"15.2","3":"8","4":"275.8","5":"180","6":"3.07","7":"3.780","8":"18.00","9":"0","10":"0","11":"3","12":"3"},{"1":"Cadillac Fleetwood","2":"10.4","3":"8","4":"472.0","5":"205","6":"2.93","7":"5.250","8":"17.98","9":"0","10":"0","11":"3","12":"4"},{"1":"Lincoln Continental","2":"10.4","3":"8","4":"460.0","5":"215","6":"3.00","7":"5.424","8":"17.82","9":"0","10":"0","11":"3","12":"4"},{"1":"Chrysler Imperial","2":"14.7","3":"8","4":"440.0","5":"230","6":"3.23","7":"5.345","8":"17.42","9":"0","10":"0","11":"3","12":"4"},{"1":"Fiat 128","2":"32.4","3":"4","4":"78.7","5":"66","6":"4.08","7":"2.200","8":"19.47","9":"1","10":"1","11":"4","12":"1"},{"1":"Honda Civic","2":"30.4","3":"4","4":"75.7","5":"52","6":"4.93","7":"1.615","8":"18.52","9":"1","10":"1","11":"4","12":"2"},{"1":"Toyota Corolla","2":"33.9","3":"4","4":"71.1","5":"65","6":"4.22","7":"1.835","8":"19.90","9":"1","10":"1","11":"4","12":"1"},{"1":"Toyota Corona","2":"21.5","3":"4","4":"120.1","5":"97","6":"3.70","7":"2.465","8":"20.01","9":"1","10":"0","11":"3","12":"1"},{"1":"Dodge Challenger","2":"15.5","3":"8","4":"318.0","5":"150","6":"2.76","7":"3.520","8":"16.87","9":"0","10":"0","11":"3","12":"2"},{"1":"AMC Javelin","2":"15.2","3":"8","4":"304.0","5":"150","6":"3.15","7":"3.435","8":"17.30","9":"0","10":"0","11":"3","12":"2"},{"1":"Camaro Z28","2":"13.3","3":"8","4":"350.0","5":"245","6":"3.73","7":"3.840","8":"15.41","9":"0","10":"0","11":"3","12":"4"},{"1":"Pontiac Firebird","2":"19.2","3":"8","4":"400.0","5":"175","6":"3.08","7":"3.845","8":"17.05","9":"0","10":"0","11":"3","12":"2"},{"1":"Fiat X1-9","2":"27.3","3":"4","4":"79.0","5":"66","6":"4.08","7":"1.935","8":"18.90","9":"1","10":"1","11":"4","12":"1"},{"1":"Porsche 914-2","2":"26.0","3":"4","4":"120.3","5":"91","6":"4.43","7":"2.140","8":"16.70","9":"0","10":"1","11":"5","12":"2"},{"1":"Lotus Europa","2":"30.4","3":"4","4":"95.1","5":"113","6":"3.77","7":"1.513","8":"16.90","9":"1","10":"1","11":"5","12":"2"},{"1":"Ford Pantera L","2":"15.8","3":"8","4":"351.0","5":"264","6":"4.22","7":"3.170","8":"14.50","9":"0","10":"1","11":"5","12":"4"},{"1":"Ferrari Dino","2":"19.7","3":"6","4":"145.0","5":"175","6":"3.62","7":"2.770","8":"15.50","9":"0","10":"1","11":"5","12":"6"},{"1":"Maserati Bora","2":"15.0","3":"8","4":"301.0","5":"335","6":"3.54","7":"3.570","8":"14.60","9":"0","10":"1","11":"5","12":"8"},{"1":"Volvo 142E","2":"21.4","3":"4","4":"121.0","5":"109","6":"4.11","7":"2.780","8":"18.60","9":"1","10":"1","11":"4","12":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="column_to_rownames" class="level4" data-number="4.9.0.2">
<h4 data-number="4.9.0.2" class="anchored" data-anchor-id="column_to_rownames"><span class="header-section-number">4.9.0.2</span> column_to_rownames</h4>
<p>Use para nomear as linhas de acordo com uma variável já existente. Digamos que esta função faz o oposto da rownames_to_column, pois ao invés de pegar os nomes das linhas e colocar em uma variável, ela pega uma variável e a transforma em nomes para as linha.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../Organizacao/Organizacao_de_dados_com_tidyr.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Organização de Dados com TIDYR</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../Manipulacao_Strings/Manipulacao de strings com stringr.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulacao de Strings com STRINGR</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>