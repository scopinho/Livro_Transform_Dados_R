<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Transformação e Manipulação de Dados com a linguagem R - 5&nbsp; Manipulacao de Strings com STRINGR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../DataHora/Datas_e_horas_com_lubridate.html" rel="next">
<link href="../Transformacao/Transformacao_de_dados_com_dplyr.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>

<script src="../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="../site_libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="../site_libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulacao de Strings com STRINGR</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Transformação e Manipulação de Dados com a linguagem R</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Bem-Vindo</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Importacao/Importacao_de_dados_com_tidyverse.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Importação de Dados com TIDYVERSE</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Organizacao/Organizacao_de_dados_com_tidyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Organização de Dados com TIDYR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Transformacao/Transformacao_de_dados_com_dplyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transformação de Dados com DPLYR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Manipulacao_Strings/Manipulacao de strings com stringr.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulacao de Strings com STRINGR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DataHora/Datas_e_horas_com_lubridate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Datas e horas com LUBRIDATE</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Visualizacao/Visualizacao_de_dados_com_ggplot2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Visualização de Dados com GGPLOT2</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"> <span class="header-section-number">5.1</span> Introdução</a>
  <ul class="collapse">
  <li><a href="#exemplos-da-folha-de-referência" id="toc-exemplos-da-folha-de-referência" class="nav-link" data-scroll-target="#exemplos-da-folha-de-referência"> <span class="header-section-number">5.1.1</span> Exemplos da Folha de Referência</a></li>
  </ul></li>
  <li><a href="#detectando-combinações" id="toc-detectando-combinações" class="nav-link" data-scroll-target="#detectando-combinações"> <span class="header-section-number">5.2</span> Detectando Combinações</a>
  <ul class="collapse">
  <li><a href="#str_detect" id="toc-str_detect" class="nav-link" data-scroll-target="#str_detect"> <span class="header-section-number">5.2.0.1</span> str_detect</a></li>
  <li><a href="#str_starts" id="toc-str_starts" class="nav-link" data-scroll-target="#str_starts"> <span class="header-section-number">5.2.0.2</span> str_starts</a></li>
  <li><a href="#str_which" id="toc-str_which" class="nav-link" data-scroll-target="#str_which"> <span class="header-section-number">5.2.0.3</span> str_which</a></li>
  <li><a href="#str_locate" id="toc-str_locate" class="nav-link" data-scroll-target="#str_locate"> <span class="header-section-number">5.2.0.4</span> str_locate</a></li>
  <li><a href="#str_count" id="toc-str_count" class="nav-link" data-scroll-target="#str_count"> <span class="header-section-number">5.2.0.5</span> str_count</a></li>
  </ul></li>
  <li><a href="#partes-da-string" id="toc-partes-da-string" class="nav-link" data-scroll-target="#partes-da-string"> <span class="header-section-number">5.3</span> Partes da String</a>
  <ul class="collapse">
  <li><a href="#str_sub" id="toc-str_sub" class="nav-link" data-scroll-target="#str_sub"> <span class="header-section-number">5.3.0.1</span> str_sub</a></li>
  <li><a href="#str_subset" id="toc-str_subset" class="nav-link" data-scroll-target="#str_subset"> <span class="header-section-number">5.3.0.2</span> str_subset</a></li>
  <li><a href="#str_extract" id="toc-str_extract" class="nav-link" data-scroll-target="#str_extract"> <span class="header-section-number">5.3.0.3</span> str_extract</a></li>
  <li><a href="#str_match" id="toc-str_match" class="nav-link" data-scroll-target="#str_match"> <span class="header-section-number">5.3.0.4</span> str_match</a></li>
  </ul></li>
  <li><a href="#gerenciando-tamanho" id="toc-gerenciando-tamanho" class="nav-link" data-scroll-target="#gerenciando-tamanho"> <span class="header-section-number">5.4</span> Gerenciando Tamanho</a>
  <ul class="collapse">
  <li><a href="#str_length" id="toc-str_length" class="nav-link" data-scroll-target="#str_length"> <span class="header-section-number">5.4.0.1</span> str_length</a></li>
  <li><a href="#str_pad" id="toc-str_pad" class="nav-link" data-scroll-target="#str_pad"> <span class="header-section-number">5.4.0.2</span> str_pad</a></li>
  <li><a href="#str_trunc" id="toc-str_trunc" class="nav-link" data-scroll-target="#str_trunc"> <span class="header-section-number">5.4.0.3</span> str_trunc</a></li>
  <li><a href="#str_trim" id="toc-str_trim" class="nav-link" data-scroll-target="#str_trim"> <span class="header-section-number">5.4.0.4</span> str_trim</a></li>
  <li><a href="#str_squish" id="toc-str_squish" class="nav-link" data-scroll-target="#str_squish"> <span class="header-section-number">5.4.0.5</span> str_squish</a></li>
  </ul></li>
  <li><a href="#modificando-string" id="toc-modificando-string" class="nav-link" data-scroll-target="#modificando-string"> <span class="header-section-number">5.5</span> Modificando String</a>
  <ul class="collapse">
  <li><a href="#str_sub-1" id="toc-str_sub-1" class="nav-link" data-scroll-target="#str_sub-1"> <span class="header-section-number">5.5.0.1</span> str_sub</a></li>
  <li><a href="#str_replace" id="toc-str_replace" class="nav-link" data-scroll-target="#str_replace"> <span class="header-section-number">5.5.0.2</span> str_replace</a></li>
  <li><a href="#str_replace_all" id="toc-str_replace_all" class="nav-link" data-scroll-target="#str_replace_all"> <span class="header-section-number">5.5.0.3</span> str_replace_all</a></li>
  <li><a href="#str_to_lower" id="toc-str_to_lower" class="nav-link" data-scroll-target="#str_to_lower"> <span class="header-section-number">5.5.0.4</span> str_to_lower</a></li>
  <li><a href="#str_to_upper" id="toc-str_to_upper" class="nav-link" data-scroll-target="#str_to_upper"> <span class="header-section-number">5.5.0.5</span> str_to_upper</a></li>
  <li><a href="#str_to_title" id="toc-str_to_title" class="nav-link" data-scroll-target="#str_to_title"> <span class="header-section-number">5.5.0.6</span> str_to_title</a></li>
  </ul></li>
  <li><a href="#juntando-e-dividindo" id="toc-juntando-e-dividindo" class="nav-link" data-scroll-target="#juntando-e-dividindo"> <span class="header-section-number">5.6</span> Juntando e Dividindo</a>
  <ul class="collapse">
  <li><a href="#str_c" id="toc-str_c" class="nav-link" data-scroll-target="#str_c"> <span class="header-section-number">5.6.0.1</span> str_c</a></li>
  <li><a href="#str_flatten" id="toc-str_flatten" class="nav-link" data-scroll-target="#str_flatten"> <span class="header-section-number">5.6.0.2</span> str_flatten</a></li>
  <li><a href="#str_dup" id="toc-str_dup" class="nav-link" data-scroll-target="#str_dup"> <span class="header-section-number">5.6.0.3</span> str_dup</a></li>
  <li><a href="#str_split_fixed" id="toc-str_split_fixed" class="nav-link" data-scroll-target="#str_split_fixed"> <span class="header-section-number">5.6.0.4</span> str_split_fixed</a></li>
  <li><a href="#str_glue" id="toc-str_glue" class="nav-link" data-scroll-target="#str_glue"> <span class="header-section-number">5.6.0.5</span> str_glue</a></li>
  <li><a href="#str_glue_data" id="toc-str_glue_data" class="nav-link" data-scroll-target="#str_glue_data"> <span class="header-section-number">5.6.0.6</span> str_glue_data</a></li>
  </ul></li>
  <li><a href="#ordenando-string" id="toc-ordenando-string" class="nav-link" data-scroll-target="#ordenando-string"> <span class="header-section-number">5.7</span> Ordenando String</a>
  <ul class="collapse">
  <li><a href="#str_order" id="toc-str_order" class="nav-link" data-scroll-target="#str_order"> <span class="header-section-number">5.7.0.1</span> str_order</a></li>
  <li><a href="#str_sort" id="toc-str_sort" class="nav-link" data-scroll-target="#str_sort"> <span class="header-section-number">5.7.0.2</span> str_sort</a></li>
  </ul></li>
  <li><a href="#auxiliares" id="toc-auxiliares" class="nav-link" data-scroll-target="#auxiliares"> <span class="header-section-number">5.8</span> Auxiliares</a>
  <ul class="collapse">
  <li><a href="#str_conv" id="toc-str_conv" class="nav-link" data-scroll-target="#str_conv"> <span class="header-section-number">5.8.0.1</span> str_conv</a></li>
  <li><a href="#str_view_all" id="toc-str_view_all" class="nav-link" data-scroll-target="#str_view_all"> <span class="header-section-number">5.8.0.2</span> str_view_all</a></li>
  <li><a href="#str_wrap" id="toc-str_wrap" class="nav-link" data-scroll-target="#str_wrap"> <span class="header-section-number">5.8.0.3</span> str_wrap</a></li>
  </ul></li>
  <li><a href="#expressões-regulares" id="toc-expressões-regulares" class="nav-link" data-scroll-target="#expressões-regulares"> <span class="header-section-number">5.9</span> Expressões Regulares</a>
  <ul class="collapse">
  <li><a href="#combinando-caracteres" id="toc-combinando-caracteres" class="nav-link" data-scroll-target="#combinando-caracteres"> <span class="header-section-number">5.9.1</span> Combinando Caracteres</a></li>
  <li><a href="#quantificadores" id="toc-quantificadores" class="nav-link" data-scroll-target="#quantificadores"> <span class="header-section-number">5.9.2</span> Quantificadores</a></li>
  <li><a href="#alternadores" id="toc-alternadores" class="nav-link" data-scroll-target="#alternadores"> <span class="header-section-number">5.9.3</span> Alternadores</a></li>
  <li><a href="#ancoragem" id="toc-ancoragem" class="nav-link" data-scroll-target="#ancoragem"> <span class="header-section-number">5.9.4</span> Ancoragem</a></li>
  <li><a href="#grupos" id="toc-grupos" class="nav-link" data-scroll-target="#grupos"> <span class="header-section-number">5.9.5</span> Grupos</a></li>
  <li><a href="#pesquisa-ao-redor" id="toc-pesquisa-ao-redor" class="nav-link" data-scroll-target="#pesquisa-ao-redor"> <span class="header-section-number">5.9.6</span> Pesquisa ao Redor</a></li>
  </ul></li>
  <li><a href="#outras-interpretações" id="toc-outras-interpretações" class="nav-link" data-scroll-target="#outras-interpretações"> <span class="header-section-number">5.10</span> Outras Interpretações</a>
  <ul class="collapse">
  <li><a href="#regex" id="toc-regex" class="nav-link" data-scroll-target="#regex"> <span class="header-section-number">5.10.0.1</span> regex</a></li>
  <li><a href="#fixed" id="toc-fixed" class="nav-link" data-scroll-target="#fixed"> <span class="header-section-number">5.10.0.2</span> fixed</a></li>
  <li><a href="#coll" id="toc-coll" class="nav-link" data-scroll-target="#coll"> <span class="header-section-number">5.10.0.3</span> coll</a></li>
  <li><a href="#boundary" id="toc-boundary" class="nav-link" data-scroll-target="#boundary"> <span class="header-section-number">5.10.0.4</span> boundary</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulacao de Strings com STRINGR</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="introdução" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">5.1</span> Introdução</h2>
<p>A seguir temos vários exemplos de manipulação de strings (cadeia de caracteres) utilizando o pacote STRINGR do R. Para saber mais sobre este pacote, acesse:</p>
<p><a href="https://cran.r-project.org/package=stringr" class="uri">https://cran.r-project.org/package=stringr</a>.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Aviso
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para melhor utilizar este material, é importante que você tenha uma introdução à linguagem R e saiba carregar pacotes (packages) no R. Para mais informações acesse:</p>
<p><a href="https://education.rstudio.com/learn/beginner/" class="uri">https://education.rstudio.com/learn/beginner/</a>.</p>
</div>
</div>
<p>Para os exemplos, iremos carregar os seguintes pacotes:</p>
<ul>
<li><p><strong>tidyverse</strong></p></li>
<li><p><strong>gt</strong></p></li>
<li><p><strong>htmlwidgets</strong></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (gt)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (htmlwidgets)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>String:</strong> O termo string, ou cadeia de caracteres, é uma s<strong>equência de caracteres</strong> interpretadas como uma constante literal ou até mesmo uma variável.</p>
</div>
</div>
<p>Por exemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>minha_string <span class="ot">&lt;-</span> <span class="st">"Isto é uma string"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>minha_string</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Isto é uma string"</code></pre>
</div>
</div>
<section id="exemplos-da-folha-de-referência" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="exemplos-da-folha-de-referência"><span class="header-section-number">5.1.1</span> Exemplos da Folha de Referência</h3>
<p>A maioria dos exemplos, visam ajudar na interpretação dos exemplos e funções encontradas na <a href="https://github.com/scopinho/R-cheatsheets/blob/main/translations/portuguese/strings_pt_br.pdf"><strong>Folha de Referência</strong></a> do stringr disponível no site do <a href="rstudio.com">RStudio</a>.</p>
<p>Para a maioria dos exemplos utilizaremos as bases de dados <strong>fruit</strong> (frutas) que será criado a seguir.</p>
<hr>
<p><strong>FRUIT:</strong> Tabela com nome de frutas (em inglês).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Apple"</span>, <span class="st">"Apricot"</span>, <span class="st">"Avocado"</span>, <span class="st">"Banana"</span>, <span class="st">"Blackberry"</span>, <span class="st">"Blueberry"</span>, <span class="st">"Cherry"</span>, <span class="st">"Coconut"</span>, <span class="st">"Custard-Apple"</span>, <span class="st">"Dragonfruit"</span>, <span class="st">"Fig"</span>, <span class="st">"Gooseberry"</span>, <span class="st">"Grapes"</span>, <span class="st">"Guava"</span>, <span class="st">"Jackfruit"</span>, <span class="st">"Java Plum"</span>, <span class="st">"Kiwifruit"</span>, <span class="st">"Lime"</span>, <span class="st">"Mango"</span>, <span class="st">"MuskMelon"</span>, <span class="st">"Olives"</span>, <span class="st">"Orange"</span>, <span class="st">"Papaya"</span>, <span class="st">"Peach"</span>, <span class="st">"Pear"</span>, <span class="st">"Pineapple"</span>, <span class="st">"Pomegranate"</span>, <span class="st">"Strawberry"</span>, <span class="st">"Tamarind"</span>, <span class="st">"Watermelon"</span>))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>fruit </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple"},{"1":"Apricot"},{"1":"Avocado"},{"1":"Banana"},{"1":"Blackberry"},{"1":"Blueberry"},{"1":"Cherry"},{"1":"Coconut"},{"1":"Custard-Apple"},{"1":"Dragonfruit"},{"1":"Fig"},{"1":"Gooseberry"},{"1":"Grapes"},{"1":"Guava"},{"1":"Jackfruit"},{"1":"Java Plum"},{"1":"Kiwifruit"},{"1":"Lime"},{"1":"Mango"},{"1":"MuskMelon"},{"1":"Olives"},{"1":"Orange"},{"1":"Papaya"},{"1":"Peach"},{"1":"Pear"},{"1":"Pineapple"},{"1":"Pomegranate"},{"1":"Strawberry"},{"1":"Tamarind"},{"1":"Watermelon"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<hr>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>Ao final de algum comando, você verá a chamada à função <strong>gt()</strong>. Isto é apenas para a formatação da tabela de saída e não é necessário para que você entenda os comandos precedentes. Em alguns casos, onde o volume de dados de saída pode ser extenso, usamos também a função <strong>head()</strong> para mostrar apenas as linhas iniciais. Quando o exemplo possui muitas colunas de saída, eventualmente utilizamos a função <strong>select()</strong> para selecionar apenas algumas colunas.</em></p>
<p>Em alguns casos usaremos funções de manipulação de dados do pacote <strong>dplyr,</strong> como <strong>mutate</strong> () ou <strong>count</strong>()<strong>.</strong></p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>O termo <u>data-frame</u> descrito ao longo deste texto, é utilizado de forma livre para objetos do tipo data.frame, tibble, entre outros. Pense como se fosse uma tabela de um banco de dados e/ou uma planilha do MS Excel, contendo linhas e colunas. Apesar de não ser rigorosamente igual à uma tabela, muitas vezes usaremos estes termos de forma intercambiável para facilitar o entendimento de iniciantes.</em></p>
</div>
</div>
</section>
</section>
<section id="detectando-combinações" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="detectando-combinações"><span class="header-section-number">5.2</span> Detectando Combinações</h2>
<p>O pacote stringr possui uma série de funções para identificar a ocorrência ou não de padrões de caracteres (patterns).</p>
<p>Na maioria das vezes o mecanismo de interpretação padrão é o de “Expressão Regular” (regex). Isto significa que podemos construir um padrão de caracteres não somente com letras ou números, mas criando expressões que significam uma combinação mais flexivel no padrão de busca. Para maiores informações veja: <a href="#expressões-regulares">Expressões Regulares</a>.</p>
<section id="str_detect" class="level4" data-number="5.2.0.1">
<h4 data-number="5.2.0.1" class="anchored" data-anchor-id="str_detect"><span class="header-section-number">5.2.0.1</span> str_detect</h4>
<p>Use para <strong>detectar</strong> a presença de um <strong>padrão</strong> em uma <strong>string</strong>.</p>
<p>Por exemplo, para detectar quais frutas tem a letra “a”, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(fruit<span class="sc">$</span>name, <span class="st">"a"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE
[13]  TRUE  TRUE  TRUE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE
[25]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
</div>
<p>No exemplo acima, temos TRUE para todas as linhas que contém a letra “a” e FALSE para aquelas que não tem a letra “a”.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Importante
</div>
</div>
<div class="callout-body-container callout-body">
<p>Observe que o R é sensível à letras maiúsculas e minúsculas. Como definimos a letra “a” (minúscula) como nosso <strong>padrão</strong> de busca, ele não retorna TRUE para palavras como “Apple” que possui a letra “A” maiúscula.</p>
</div>
</div>
<p>Se quisermos criar uma coluna ao lado para facilitar a visualização, podemos usar a função <strong>mutate</strong>():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">Padrao_Encontrado =</span> <span class="fu">str_detect</span>(fruit<span class="sc">$</span>name, <span class="st">"a"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Padrao_Encontrado"],"name":[2],"type":["lgl"],"align":["right"]}],"data":[{"1":"Apple","2":"FALSE"},{"1":"Apricot","2":"FALSE"},{"1":"Avocado","2":"TRUE"},{"1":"Banana","2":"TRUE"},{"1":"Blackberry","2":"TRUE"},{"1":"Blueberry","2":"FALSE"},{"1":"Cherry","2":"FALSE"},{"1":"Coconut","2":"FALSE"},{"1":"Custard-Apple","2":"TRUE"},{"1":"Dragonfruit","2":"TRUE"},{"1":"Fig","2":"FALSE"},{"1":"Gooseberry","2":"FALSE"},{"1":"Grapes","2":"TRUE"},{"1":"Guava","2":"TRUE"},{"1":"Jackfruit","2":"TRUE"},{"1":"Java Plum","2":"TRUE"},{"1":"Kiwifruit","2":"FALSE"},{"1":"Lime","2":"FALSE"},{"1":"Mango","2":"TRUE"},{"1":"MuskMelon","2":"FALSE"},{"1":"Olives","2":"FALSE"},{"1":"Orange","2":"TRUE"},{"1":"Papaya","2":"TRUE"},{"1":"Peach","2":"TRUE"},{"1":"Pear","2":"TRUE"},{"1":"Pineapple","2":"TRUE"},{"1":"Pomegranate","2":"TRUE"},{"1":"Strawberry","2":"TRUE"},{"1":"Tamarind","2":"TRUE"},{"1":"Watermelon","2":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_starts" class="level4" data-number="5.2.0.2">
<h4 data-number="5.2.0.2" class="anchored" data-anchor-id="str_starts"><span class="header-section-number">5.2.0.2</span> str_starts</h4>
<p>Use para determinar <strong>se há o padrão definido</strong> <strong>no início</strong> da string.</p>
<p>Por exemplo, se quisermos identificar quais frutas que começam com o padrão “Bl”, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">Padrao_Encontrado_Inicio =</span> <span class="fu">str_starts</span>(fruit<span class="sc">$</span>name, <span class="st">"Bl"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Padrao_Encontrado_Inicio"],"name":[2],"type":["lgl"],"align":["right"]}],"data":[{"1":"Apple","2":"FALSE"},{"1":"Apricot","2":"FALSE"},{"1":"Avocado","2":"FALSE"},{"1":"Banana","2":"FALSE"},{"1":"Blackberry","2":"TRUE"},{"1":"Blueberry","2":"TRUE"},{"1":"Cherry","2":"FALSE"},{"1":"Coconut","2":"FALSE"},{"1":"Custard-Apple","2":"FALSE"},{"1":"Dragonfruit","2":"FALSE"},{"1":"Fig","2":"FALSE"},{"1":"Gooseberry","2":"FALSE"},{"1":"Grapes","2":"FALSE"},{"1":"Guava","2":"FALSE"},{"1":"Jackfruit","2":"FALSE"},{"1":"Java Plum","2":"FALSE"},{"1":"Kiwifruit","2":"FALSE"},{"1":"Lime","2":"FALSE"},{"1":"Mango","2":"FALSE"},{"1":"MuskMelon","2":"FALSE"},{"1":"Olives","2":"FALSE"},{"1":"Orange","2":"FALSE"},{"1":"Papaya","2":"FALSE"},{"1":"Peach","2":"FALSE"},{"1":"Pear","2":"FALSE"},{"1":"Pineapple","2":"FALSE"},{"1":"Pomegranate","2":"FALSE"},{"1":"Strawberry","2":"FALSE"},{"1":"Tamarind","2":"FALSE"},{"1":"Watermelon","2":"FALSE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Veja que apenas as frutas “Blackberry” e “Bluberry” retornaram verdadeiro (TRUE).</p>
<p>É comum utilizar a função filter() para filtrar apenas as linhas que retornam verdadeiro (TRUE) nas funções de detecção de padrão com o str_detect, str_starts, etc. Veja o exemplo abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="fu">str_starts</span>(name, <span class="st">"Bl"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"Blackberry"},{"1":"Blueberry"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_which" class="level4" data-number="5.2.0.3">
<h4 data-number="5.2.0.3" class="anchored" data-anchor-id="str_which"><span class="header-section-number">5.2.0.3</span> str_which</h4>
<p>Use para retornar em <strong>qual linha</strong> o pdrão foi encontrado.</p>
<p>Por exemplo, supondo que o padrão sejam as letras “Bl” (B maiúscula e l minúscula), usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_which</span>(fruit<span class="sc">$</span>name, <span class="st">"Bl"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6</code></pre>
</div>
</div>
<p>Neste exemplo, identificamos que os únicos registros que atendem ao padrão “Bl” estão nas linhas 5 e 6 da tabela.</p>
</section>
<section id="str_locate" class="level4" data-number="5.2.0.4">
<h4 data-number="5.2.0.4" class="anchored" data-anchor-id="str_locate"><span class="header-section-number">5.2.0.4</span> str_locate</h4>
<p>Use para <strong>localizar a posição</strong> do padrão na string.</p>
<p>Por exemplo, se criarmos uma coluna contendo onde, em cada nome de fruta, o padrão de busca “er” é encontrado, usamos:<br>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (Localização<span class="at">_na_string =</span> <span class="fu">str_locate</span>(name, <span class="st">"er"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Localização_na_string"],"name":[2],"type":["int[,2]"],"align":["right"]}],"data":[{"1":"Apple","2.start":"NA","2.end":"NA"},{"1":"Apricot","2.start":"NA","2.end":"NA"},{"1":"Avocado","2.start":"NA","2.end":"NA"},{"1":"Banana","2.start":"NA","2.end":"NA"},{"1":"Blackberry","2.start":"7","2.end":"8"},{"1":"Blueberry","2.start":"6","2.end":"7"},{"1":"Cherry","2.start":"3","2.end":"4"},{"1":"Coconut","2.start":"NA","2.end":"NA"},{"1":"Custard-Apple","2.start":"NA","2.end":"NA"},{"1":"Dragonfruit","2.start":"NA","2.end":"NA"},{"1":"Fig","2.start":"NA","2.end":"NA"},{"1":"Gooseberry","2.start":"7","2.end":"8"},{"1":"Grapes","2.start":"NA","2.end":"NA"},{"1":"Guava","2.start":"NA","2.end":"NA"},{"1":"Jackfruit","2.start":"NA","2.end":"NA"},{"1":"Java Plum","2.start":"NA","2.end":"NA"},{"1":"Kiwifruit","2.start":"NA","2.end":"NA"},{"1":"Lime","2.start":"NA","2.end":"NA"},{"1":"Mango","2.start":"NA","2.end":"NA"},{"1":"MuskMelon","2.start":"NA","2.end":"NA"},{"1":"Olives","2.start":"NA","2.end":"NA"},{"1":"Orange","2.start":"NA","2.end":"NA"},{"1":"Papaya","2.start":"NA","2.end":"NA"},{"1":"Peach","2.start":"NA","2.end":"NA"},{"1":"Pear","2.start":"NA","2.end":"NA"},{"1":"Pineapple","2.start":"NA","2.end":"NA"},{"1":"Pomegranate","2.start":"NA","2.end":"NA"},{"1":"Strawberry","2.start":"7","2.end":"8"},{"1":"Tamarind","2.start":"NA","2.end":"NA"},{"1":"Watermelon","2.start":"4","2.end":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>A função str_locale retorna <strong>NA</strong> caso o padrão não seja encontrado na string.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ao encontrar o padrão, a str_locale para imediatamente a busca na string. Caso precise encontrar todas as posições que o padrão existir na mesma string, utiliza a <strong>str_locale_all(</strong>).</p>
</div>
</div>
</section>
<section id="str_count" class="level4" data-number="5.2.0.5">
<h4 data-number="5.2.0.5" class="anchored" data-anchor-id="str_count"><span class="header-section-number">5.2.0.5</span> str_count</h4>
<p>Use para identificar o número de vez que o padrão foi encontrado na string.</p>
<p>Por exemplo, se buscarmos pelo padrão “na”, identificamos que a fruta <em>banana</em>, possui o padrão três vezes, enquanto a fruta <em>pomegranade</em> apenas uma vez.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">Vezes_padrao_encontrado =</span> <span class="fu">str_count</span>(name, <span class="st">"na"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Vezes_padrao_encontrado"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Apple","2":"0"},{"1":"Apricot","2":"0"},{"1":"Avocado","2":"0"},{"1":"Banana","2":"2"},{"1":"Blackberry","2":"0"},{"1":"Blueberry","2":"0"},{"1":"Cherry","2":"0"},{"1":"Coconut","2":"0"},{"1":"Custard-Apple","2":"0"},{"1":"Dragonfruit","2":"0"},{"1":"Fig","2":"0"},{"1":"Gooseberry","2":"0"},{"1":"Grapes","2":"0"},{"1":"Guava","2":"0"},{"1":"Jackfruit","2":"0"},{"1":"Java Plum","2":"0"},{"1":"Kiwifruit","2":"0"},{"1":"Lime","2":"0"},{"1":"Mango","2":"0"},{"1":"MuskMelon","2":"0"},{"1":"Olives","2":"0"},{"1":"Orange","2":"0"},{"1":"Papaya","2":"0"},{"1":"Peach","2":"0"},{"1":"Pear","2":"0"},{"1":"Pineapple","2":"0"},{"1":"Pomegranate","2":"1"},{"1":"Strawberry","2":"0"},{"1":"Tamarind","2":"0"},{"1":"Watermelon","2":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="partes-da-string" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="partes-da-string"><span class="header-section-number">5.3</span> Partes da String</h2>
<p>O pacote stringr possui uma série de funções que permitem obter partes de uma string baseado em um padrão de busca. Assim como nas funções de detecção, o interpretador padrão é o regex. Para maiores informações veja: <a href="#expressões-regulares">Expressões Regulares</a>.</p>
<section id="str_sub" class="level4" data-number="5.3.0.1">
<h4 data-number="5.3.0.1" class="anchored" data-anchor-id="str_sub"><span class="header-section-number">5.3.0.1</span> str_sub</h4>
<p>Use para <strong>extrair</strong> ou <strong>substituir</strong> partes de uma string a partir de um vetor de caracteres.</p>
<p>Por exemplo, para <strong>extrair</strong> do segundo até o quarto caractere dos nomes das frutas, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">Segundo_ao_Quarto_Caractere =</span> <span class="fu">str_sub</span>(name, <span class="dv">2</span>, <span class="dv">4</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Segundo_ao_Quarto_Caractere"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"ppl"},{"1":"Apricot","2":"pri"},{"1":"Avocado","2":"voc"},{"1":"Banana","2":"ana"},{"1":"Blackberry","2":"lac"},{"1":"Blueberry","2":"lue"},{"1":"Cherry","2":"her"},{"1":"Coconut","2":"oco"},{"1":"Custard-Apple","2":"ust"},{"1":"Dragonfruit","2":"rag"},{"1":"Fig","2":"ig"},{"1":"Gooseberry","2":"oos"},{"1":"Grapes","2":"rap"},{"1":"Guava","2":"uav"},{"1":"Jackfruit","2":"ack"},{"1":"Java Plum","2":"ava"},{"1":"Kiwifruit","2":"iwi"},{"1":"Lime","2":"ime"},{"1":"Mango","2":"ang"},{"1":"MuskMelon","2":"usk"},{"1":"Olives","2":"liv"},{"1":"Orange","2":"ran"},{"1":"Papaya","2":"apa"},{"1":"Peach","2":"eac"},{"1":"Pear","2":"ear"},{"1":"Pineapple","2":"ine"},{"1":"Pomegranate","2":"ome"},{"1":"Strawberry","2":"tra"},{"1":"Tamarind","2":"ama"},{"1":"Watermelon","2":"ate"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Se precisarmos variar o início ou fim da extração de parte da string, podemos passar valores negativos para os parametros start = e/ou end =, fazendo com que a contagem acontece de trás para frente.</p>
</section>
<section id="str_subset" class="level4" data-number="5.3.0.2">
<h4 data-number="5.3.0.2" class="anchored" data-anchor-id="str_subset"><span class="header-section-number">5.3.0.2</span> str_subset</h4>
<p>Use para retornar as strings que contém o padrão. É equivalente a fazer str_detect(x, pattern), porém ao invés de retornar verdadeiro ou falso, retorna a string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(fruit<span class="sc">$</span>name, <span class="st">"Bl"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Blackberry" "Blueberry" </code></pre>
</div>
</div>
</section>
<section id="str_extract" class="level4" data-number="5.3.0.3">
<h4 data-number="5.3.0.3" class="anchored" data-anchor-id="str_extract"><span class="header-section-number">5.3.0.3</span> str_extract</h4>
<p>Use para obter o padrão encontrado na string.</p>
<p>Por exemplo, queremos obter parte da string que atenda ao padrão “erry”. Neste caso, a função irá retornar NA para as strings que não contém o padrão e o padrão para aquelas que o contém.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">Str_Extract =</span> <span class="fu">str_extract</span>(name, <span class="st">"erry"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Str_Extract"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"NA"},{"1":"Apricot","2":"NA"},{"1":"Avocado","2":"NA"},{"1":"Banana","2":"NA"},{"1":"Blackberry","2":"erry"},{"1":"Blueberry","2":"erry"},{"1":"Cherry","2":"erry"},{"1":"Coconut","2":"NA"},{"1":"Custard-Apple","2":"NA"},{"1":"Dragonfruit","2":"NA"},{"1":"Fig","2":"NA"},{"1":"Gooseberry","2":"erry"},{"1":"Grapes","2":"NA"},{"1":"Guava","2":"NA"},{"1":"Jackfruit","2":"NA"},{"1":"Java Plum","2":"NA"},{"1":"Kiwifruit","2":"NA"},{"1":"Lime","2":"NA"},{"1":"Mango","2":"NA"},{"1":"MuskMelon","2":"NA"},{"1":"Olives","2":"NA"},{"1":"Orange","2":"NA"},{"1":"Papaya","2":"NA"},{"1":"Peach","2":"NA"},{"1":"Pear","2":"NA"},{"1":"Pineapple","2":"NA"},{"1":"Pomegranate","2":"NA"},{"1":"Strawberry","2":"erry"},{"1":"Tamarind","2":"NA"},{"1":"Watermelon","2":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_match" class="level4" data-number="5.3.0.4">
<h4 data-number="5.3.0.4" class="anchored" data-anchor-id="str_match"><span class="header-section-number">5.3.0.4</span> str_match</h4>
<p>Use para obter os grupos identificados pelo padrão de busca. Ela retorna uma matriz, onde a primeira coluna retorna a combinação (match) toda e as demais colunas será uma para cada grupo identificado.</p>
<p>Por exemplo, se buscarmos por dois grupos, sendo o primeiro (Ba) e o segundo grupo (na), teremos o seguinte resultado:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_match</span>(fruit<span class="sc">$</span>name, <span class="st">"(Ba)(na)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair =</span> <span class="st">"unique"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["...1"],"name":[1],"type":["chr"],"align":["left"]},{"label":["...2"],"name":[2],"type":["chr"],"align":["left"]},{"label":["...3"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"Bana","2":"Ba","3":"na"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"},{"1":"NA","2":"NA","3":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Os detalhes sobre grupos nos padrões de busca faz parte das expressões regulares (regex) e estão mais detalhadas na seção: <a href="#expressões-regulares">Expressões Regulares</a></p>
</div>
</div>
</section>
</section>
<section id="gerenciando-tamanho" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="gerenciando-tamanho"><span class="header-section-number">5.4</span> Gerenciando Tamanho</h2>
<section id="str_length" class="level4" data-number="5.4.0.1">
<h4 data-number="5.4.0.1" class="anchored" data-anchor-id="str_length"><span class="header-section-number">5.4.0.1</span> str_length</h4>
<p>Use para obter o tamanho da string.</p>
<p>Por exemplo, para obtermos o tamanho das strings correspondentes aos nomes das frutas e adicioná-las em uma coluna chamada “Tamanho”, podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Tamanho =</span> <span class="fu">str_length</span>(name)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Tamanho"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Apple","2":"5"},{"1":"Apricot","2":"7"},{"1":"Avocado","2":"7"},{"1":"Banana","2":"6"},{"1":"Blackberry","2":"10"},{"1":"Blueberry","2":"9"},{"1":"Cherry","2":"6"},{"1":"Coconut","2":"7"},{"1":"Custard-Apple","2":"13"},{"1":"Dragonfruit","2":"11"},{"1":"Fig","2":"3"},{"1":"Gooseberry","2":"10"},{"1":"Grapes","2":"6"},{"1":"Guava","2":"5"},{"1":"Jackfruit","2":"9"},{"1":"Java Plum","2":"9"},{"1":"Kiwifruit","2":"9"},{"1":"Lime","2":"4"},{"1":"Mango","2":"5"},{"1":"MuskMelon","2":"9"},{"1":"Olives","2":"6"},{"1":"Orange","2":"6"},{"1":"Papaya","2":"6"},{"1":"Peach","2":"5"},{"1":"Pear","2":"4"},{"1":"Pineapple","2":"9"},{"1":"Pomegranate","2":"11"},{"1":"Strawberry","2":"10"},{"1":"Tamarind","2":"8"},{"1":"Watermelon","2":"10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_pad" class="level4" data-number="5.4.0.2">
<h4 data-number="5.4.0.2" class="anchored" data-anchor-id="str_pad"><span class="header-section-number">5.4.0.2</span> str_pad</h4>
<p>Use para adicionar espaços em branco ao lado (esquerdo, direito, ambos) da string.</p>
<p>Por exemplo, para adicionar espaços em branco para ajustar em 20 caracteres os nomes das frutas, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Tamanho =</span> <span class="fu">str_pad</span>(name, <span class="dv">20</span>, <span class="st">"left"</span>)) <span class="sc">|&gt;</span> <span class="fu">as.matrix</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name            Tamanho               
 [1,] "Apple"         "               Apple"
 [2,] "Apricot"       "             Apricot"
 [3,] "Avocado"       "             Avocado"
 [4,] "Banana"        "              Banana"
 [5,] "Blackberry"    "          Blackberry"
 [6,] "Blueberry"     "           Blueberry"
 [7,] "Cherry"        "              Cherry"
 [8,] "Coconut"       "             Coconut"
 [9,] "Custard-Apple" "       Custard-Apple"
[10,] "Dragonfruit"   "         Dragonfruit"
[11,] "Fig"           "                 Fig"
[12,] "Gooseberry"    "          Gooseberry"
[13,] "Grapes"        "              Grapes"
[14,] "Guava"         "               Guava"
[15,] "Jackfruit"     "           Jackfruit"
[16,] "Java Plum"     "           Java Plum"
[17,] "Kiwifruit"     "           Kiwifruit"
[18,] "Lime"          "                Lime"
[19,] "Mango"         "               Mango"
[20,] "MuskMelon"     "           MuskMelon"
[21,] "Olives"        "              Olives"
[22,] "Orange"        "              Orange"
[23,] "Papaya"        "              Papaya"
[24,] "Peach"         "               Peach"
[25,] "Pear"          "                Pear"
[26,] "Pineapple"     "           Pineapple"
[27,] "Pomegranate"   "         Pomegranate"
[28,] "Strawberry"    "          Strawberry"
[29,] "Tamarind"      "            Tamarind"
[30,] "Watermelon"    "          Watermelon"</code></pre>
</div>
</div>
</section>
<section id="str_trunc" class="level4" data-number="5.4.0.3">
<h4 data-number="5.4.0.3" class="anchored" data-anchor-id="str_trunc"><span class="header-section-number">5.4.0.3</span> str_trunc</h4>
<p>Use para truncar a string em um número fixo de caracteres.</p>
<p>Por exemplo, para truncar os nomes das frutas em até 8 caracteres, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Tamanho =</span> <span class="fu">str_trunc</span>(name, <span class="dv">8</span>, <span class="st">"right"</span>)) <span class="sc">|&gt;</span> <span class="fu">as.matrix</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name            Tamanho   
 [1,] "Apple"         "Apple"   
 [2,] "Apricot"       "Apricot" 
 [3,] "Avocado"       "Avocado" 
 [4,] "Banana"        "Banana"  
 [5,] "Blackberry"    "Black..."
 [6,] "Blueberry"     "Blueb..."
 [7,] "Cherry"        "Cherry"  
 [8,] "Coconut"       "Coconut" 
 [9,] "Custard-Apple" "Custa..."
[10,] "Dragonfruit"   "Drago..."
[11,] "Fig"           "Fig"     
[12,] "Gooseberry"    "Goose..."
[13,] "Grapes"        "Grapes"  
[14,] "Guava"         "Guava"   
[15,] "Jackfruit"     "Jackf..."
[16,] "Java Plum"     "Java ..."
[17,] "Kiwifruit"     "Kiwif..."
[18,] "Lime"          "Lime"    
[19,] "Mango"         "Mango"   
[20,] "MuskMelon"     "MuskM..."
[21,] "Olives"        "Olives"  
[22,] "Orange"        "Orange"  
[23,] "Papaya"        "Papaya"  
[24,] "Peach"         "Peach"   
[25,] "Pear"          "Pear"    
[26,] "Pineapple"     "Pinea..."
[27,] "Pomegranate"   "Pomeg..."
[28,] "Strawberry"    "Straw..."
[29,] "Tamarind"      "Tamarind"
[30,] "Watermelon"    "Water..."</code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Observe que a função adiciona “…” para identificar as strings que tinham mais que o limite definido”. Utilize o parametro ellipsis = “…” para alterar para outros caracteres.</p>
</div>
</div>
</section>
<section id="str_trim" class="level4" data-number="5.4.0.4">
<h4 data-number="5.4.0.4" class="anchored" data-anchor-id="str_trim"><span class="header-section-number">5.4.0.4</span> str_trim</h4>
<p>Use para remover os espaços em brancos do início em final da string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>string <span class="ot">&lt;-</span> <span class="st">"  Aqui temos espaços em branco no início e no final   "</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(string)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Aqui temos espaços em branco no início e no final"</code></pre>
</div>
</div>
</section>
<section id="str_squish" class="level4" data-number="5.4.0.5">
<h4 data-number="5.4.0.5" class="anchored" data-anchor-id="str_squish"><span class="header-section-number">5.4.0.5</span> str_squish</h4>
<p>Use para remover espaços em branco no início e final da string e também espaços em brancos repetidos no meio da string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>string <span class="ot">&lt;-</span> <span class="st">"  Aqui temos espaços em       branco no início, no final e repetidos no meio   "</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_squish</span>(string)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Aqui temos espaços em branco no início, no final e repetidos no meio"</code></pre>
</div>
</div>
</section>
</section>
<section id="modificando-string" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="modificando-string"><span class="header-section-number">5.5</span> Modificando String</h2>
<section id="str_sub-1" class="level4" data-number="5.5.0.1">
<h4 data-number="5.5.0.1" class="anchored" data-anchor-id="str_sub-1"><span class="header-section-number">5.5.0.1</span> str_sub</h4>
<p>Use para <strong>extrair</strong> ou <strong>substituir</strong> partes de uma string a partir de um vetor de caracteres.</p>
<p>Por exemplo, para <strong>substituir</strong> do segundo até o quarto caractere dos nomes das frutas, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>minha_string <span class="ot">&lt;-</span> <span class="st">"Esta é minha string"</span>; minha_string</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Esta é minha string"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(minha_string, <span class="dv">2</span>, <span class="dv">4</span>) <span class="ot">&lt;-</span> <span class="st">"XXX"</span>; minha_string</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "EXXX é minha string"</code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Observe que a função <strong>str_sub não é vetorizada</strong>, ou seja, não recebe ou retorna um vetor como parêmetro.</p>
<p>Desta forma, se quisermos aplicá-la em conjunto com a função <strong>mutate</strong>(). Uma alternativa para este tipo de situação, é utilziar a função <strong>map</strong>() do <strong>pacote</strong> <strong>purrr</strong>.</p>
</div>
</div>
<p>Por exemplo, vamos criar uma função chamada “substitui_string”. Esta função irá utilizar a função str_sub() de acordo com os parametros recebidos de str_troca, inicio e fim. Utilizando a função purrr::map() iremos iterar através dos nomes das frutas e utilizar a função substitui_string() para trocar por “XX” os caracteres -2 a -3 de todos os nomes em uma coluna ao lado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>substitui_string <span class="ot">&lt;-</span> <span class="cf">function</span>(str_origin, str_troca, inicio, fim){</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_sub</span>(str_origin, inicio, fim) <span class="ot">&lt;-</span> str_troca</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (str_origin)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">Segundo_ao_Quarto_Caracteres =</span> purrr<span class="sc">::</span><span class="fu">map_chr</span> (name, substitui_string, <span class="at">str_troca =</span> <span class="st">"XX"</span>, <span class="at">inicio =</span> <span class="sc">-</span><span class="dv">3</span>, <span class="at">fim =</span> <span class="sc">-</span><span class="dv">2</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Segundo_ao_Quarto_Caracteres"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"ApXXe"},{"1":"Apricot","2":"ApriXXt"},{"1":"Avocado","2":"AvocXXo"},{"1":"Banana","2":"BanXXa"},{"1":"Blackberry","2":"BlackbeXXy"},{"1":"Blueberry","2":"BluebeXXy"},{"1":"Cherry","2":"CheXXy"},{"1":"Coconut","2":"CocoXXt"},{"1":"Custard-Apple","2":"Custard-ApXXe"},{"1":"Dragonfruit","2":"DragonfrXXt"},{"1":"Fig","2":"XXg"},{"1":"Gooseberry","2":"GoosebeXXy"},{"1":"Grapes","2":"GraXXs"},{"1":"Guava","2":"GuXXa"},{"1":"Jackfruit","2":"JackfrXXt"},{"1":"Java Plum","2":"Java PXXm"},{"1":"Kiwifruit","2":"KiwifrXXt"},{"1":"Lime","2":"LXXe"},{"1":"Mango","2":"MaXXo"},{"1":"MuskMelon","2":"MuskMeXXn"},{"1":"Olives","2":"OliXXs"},{"1":"Orange","2":"OraXXe"},{"1":"Papaya","2":"PapXXa"},{"1":"Peach","2":"PeXXh"},{"1":"Pear","2":"PXXr"},{"1":"Pineapple","2":"PineapXXe"},{"1":"Pomegranate","2":"PomegranXXe"},{"1":"Strawberry","2":"StrawbeXXy"},{"1":"Tamarind","2":"TamarXXd"},{"1":"Watermelon","2":"WatermeXXn"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Observe que valores negativos para os parametros start = e/ou end =, fazem com que a contagem aconteça de trás para frente.</p>
</div>
</div>
</section>
<section id="str_replace" class="level4" data-number="5.5.0.2">
<h4 data-number="5.5.0.2" class="anchored" data-anchor-id="str_replace"><span class="header-section-number">5.5.0.2</span> str_replace</h4>
<p>Use para substituir partes de uma string por outra string de acordo com o padrão de busca (ex: regex) definido.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para saber mais sobre o método de expressão regular (regex) veja: <a href="#expressões-regulares">Expressões Regulares</a> e para os outros métodos de interpretação, veja <a href="#outras-interpretações">Outras Interpretações</a>.</p>
</div>
</div>
<p>Por exemplo, vamos definir inicialmente que nosso padrão de busca são as letras “er”. Agora vamos substituir este padrão pela string ” XX ” colocando em uma coluna ao lado usando a função mutate().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">nomes_substituidos =</span> <span class="fu">str_replace</span>(name, <span class="st">"er"</span>, <span class="st">" XX "</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nomes_substituidos"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"Apple"},{"1":"Apricot","2":"Apricot"},{"1":"Avocado","2":"Avocado"},{"1":"Banana","2":"Banana"},{"1":"Blackberry","2":"Blackb XX ry"},{"1":"Blueberry","2":"Blueb XX ry"},{"1":"Cherry","2":"Ch XX ry"},{"1":"Coconut","2":"Coconut"},{"1":"Custard-Apple","2":"Custard-Apple"},{"1":"Dragonfruit","2":"Dragonfruit"},{"1":"Fig","2":"Fig"},{"1":"Gooseberry","2":"Gooseb XX ry"},{"1":"Grapes","2":"Grapes"},{"1":"Guava","2":"Guava"},{"1":"Jackfruit","2":"Jackfruit"},{"1":"Java Plum","2":"Java Plum"},{"1":"Kiwifruit","2":"Kiwifruit"},{"1":"Lime","2":"Lime"},{"1":"Mango","2":"Mango"},{"1":"MuskMelon","2":"MuskMelon"},{"1":"Olives","2":"Olives"},{"1":"Orange","2":"Orange"},{"1":"Papaya","2":"Papaya"},{"1":"Peach","2":"Peach"},{"1":"Pear","2":"Pear"},{"1":"Pineapple","2":"Pineapple"},{"1":"Pomegranate","2":"Pomegranate"},{"1":"Strawberry","2":"Strawb XX ry"},{"1":"Tamarind","2":"Tamarind"},{"1":"Watermelon","2":"Wat XX melon"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note que diferente da função str_sub(), a função str_replace() é vetorizada, com isto não precisamos utilizar o purrr:map para retornar um vetor.</p>
</div>
</div>
</section>
<section id="str_replace_all" class="level4" data-number="5.5.0.3">
<h4 data-number="5.5.0.3" class="anchored" data-anchor-id="str_replace_all"><span class="header-section-number">5.5.0.3</span> str_replace_all</h4>
<p>Use para substituir partes de uma string por outra string de acordo com o padrão de busca (ex: regex) definido em TODAS as vezes que o padrão for encontrado.</p>
<p>Por exemplo, vamos definir inicialmente que nosso padrão de busca são as letras “na”. Agora vamos substituir este padrão pela string ” XX ” colocando em uma coluna ao lado usando a função mutate().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">nomes_substituidos =</span> <span class="fu">str_replace_all</span>(name, <span class="st">"an"</span>, <span class="st">" XX "</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nomes_substituidos"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"Apple"},{"1":"Apricot","2":"Apricot"},{"1":"Avocado","2":"Avocado"},{"1":"Banana","2":"B XX  XX a"},{"1":"Blackberry","2":"Blackberry"},{"1":"Blueberry","2":"Blueberry"},{"1":"Cherry","2":"Cherry"},{"1":"Coconut","2":"Coconut"},{"1":"Custard-Apple","2":"Custard-Apple"},{"1":"Dragonfruit","2":"Dragonfruit"},{"1":"Fig","2":"Fig"},{"1":"Gooseberry","2":"Gooseberry"},{"1":"Grapes","2":"Grapes"},{"1":"Guava","2":"Guava"},{"1":"Jackfruit","2":"Jackfruit"},{"1":"Java Plum","2":"Java Plum"},{"1":"Kiwifruit","2":"Kiwifruit"},{"1":"Lime","2":"Lime"},{"1":"Mango","2":"M XX go"},{"1":"MuskMelon","2":"MuskMelon"},{"1":"Olives","2":"Olives"},{"1":"Orange","2":"Or XX ge"},{"1":"Papaya","2":"Papaya"},{"1":"Peach","2":"Peach"},{"1":"Pear","2":"Pear"},{"1":"Pineapple","2":"Pineapple"},{"1":"Pomegranate","2":"Pomegr XX ate"},{"1":"Strawberry","2":"Strawberry"},{"1":"Tamarind","2":"Tamarind"},{"1":"Watermelon","2":"Watermelon"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Note que se tivessemo utilizado a função str_replace ao invés da str_replace_all, a palavra “<strong>Banana</strong>” retornaria “B<strong>a XX na</strong>”, pois ela substituiria apenas a primeira vez que o padrão fosse encontrado.</p>
</section>
<section id="str_to_lower" class="level4" data-number="5.5.0.4">
<h4 data-number="5.5.0.4" class="anchored" data-anchor-id="str_to_lower"><span class="header-section-number">5.5.0.4</span> str_to_lower</h4>
<p>Use para colocar a string em letras minúsculas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">tolowe =</span> <span class="fu">str_to_lower</span>(name)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["tolowe"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"apple"},{"1":"Apricot","2":"apricot"},{"1":"Avocado","2":"avocado"},{"1":"Banana","2":"banana"},{"1":"Blackberry","2":"blackberry"},{"1":"Blueberry","2":"blueberry"},{"1":"Cherry","2":"cherry"},{"1":"Coconut","2":"coconut"},{"1":"Custard-Apple","2":"custard-apple"},{"1":"Dragonfruit","2":"dragonfruit"},{"1":"Fig","2":"fig"},{"1":"Gooseberry","2":"gooseberry"},{"1":"Grapes","2":"grapes"},{"1":"Guava","2":"guava"},{"1":"Jackfruit","2":"jackfruit"},{"1":"Java Plum","2":"java plum"},{"1":"Kiwifruit","2":"kiwifruit"},{"1":"Lime","2":"lime"},{"1":"Mango","2":"mango"},{"1":"MuskMelon","2":"muskmelon"},{"1":"Olives","2":"olives"},{"1":"Orange","2":"orange"},{"1":"Papaya","2":"papaya"},{"1":"Peach","2":"peach"},{"1":"Pear","2":"pear"},{"1":"Pineapple","2":"pineapple"},{"1":"Pomegranate","2":"pomegranate"},{"1":"Strawberry","2":"strawberry"},{"1":"Tamarind","2":"tamarind"},{"1":"Watermelon","2":"watermelon"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_to_upper" class="level4" data-number="5.5.0.5">
<h4 data-number="5.5.0.5" class="anchored" data-anchor-id="str_to_upper"><span class="header-section-number">5.5.0.5</span> str_to_upper</h4>
<p>Use para colocar a string em letras maiúsculas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">toupper =</span> <span class="fu">str_to_upper</span>(name)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["toupper"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"APPLE"},{"1":"Apricot","2":"APRICOT"},{"1":"Avocado","2":"AVOCADO"},{"1":"Banana","2":"BANANA"},{"1":"Blackberry","2":"BLACKBERRY"},{"1":"Blueberry","2":"BLUEBERRY"},{"1":"Cherry","2":"CHERRY"},{"1":"Coconut","2":"COCONUT"},{"1":"Custard-Apple","2":"CUSTARD-APPLE"},{"1":"Dragonfruit","2":"DRAGONFRUIT"},{"1":"Fig","2":"FIG"},{"1":"Gooseberry","2":"GOOSEBERRY"},{"1":"Grapes","2":"GRAPES"},{"1":"Guava","2":"GUAVA"},{"1":"Jackfruit","2":"JACKFRUIT"},{"1":"Java Plum","2":"JAVA PLUM"},{"1":"Kiwifruit","2":"KIWIFRUIT"},{"1":"Lime","2":"LIME"},{"1":"Mango","2":"MANGO"},{"1":"MuskMelon","2":"MUSKMELON"},{"1":"Olives","2":"OLIVES"},{"1":"Orange","2":"ORANGE"},{"1":"Papaya","2":"PAPAYA"},{"1":"Peach","2":"PEACH"},{"1":"Pear","2":"PEAR"},{"1":"Pineapple","2":"PINEAPPLE"},{"1":"Pomegranate","2":"POMEGRANATE"},{"1":"Strawberry","2":"STRAWBERRY"},{"1":"Tamarind","2":"TAMARIND"},{"1":"Watermelon","2":"WATERMELON"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_to_title" class="level4" data-number="5.5.0.6">
<h4 data-number="5.5.0.6" class="anchored" data-anchor-id="str_to_title"><span class="header-section-number">5.5.0.6</span> str_to_title</h4>
<p>Use para colocar a string com a primeira letra maiúscula e as demais em letras minúsculas de cada palavra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">totitle=</span> <span class="fu">str_to_title</span>(name)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["totitle"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"Apple"},{"1":"Apricot","2":"Apricot"},{"1":"Avocado","2":"Avocado"},{"1":"Banana","2":"Banana"},{"1":"Blackberry","2":"Blackberry"},{"1":"Blueberry","2":"Blueberry"},{"1":"Cherry","2":"Cherry"},{"1":"Coconut","2":"Coconut"},{"1":"Custard-Apple","2":"Custard-Apple"},{"1":"Dragonfruit","2":"Dragonfruit"},{"1":"Fig","2":"Fig"},{"1":"Gooseberry","2":"Gooseberry"},{"1":"Grapes","2":"Grapes"},{"1":"Guava","2":"Guava"},{"1":"Jackfruit","2":"Jackfruit"},{"1":"Java Plum","2":"Java Plum"},{"1":"Kiwifruit","2":"Kiwifruit"},{"1":"Lime","2":"Lime"},{"1":"Mango","2":"Mango"},{"1":"MuskMelon","2":"Muskmelon"},{"1":"Olives","2":"Olives"},{"1":"Orange","2":"Orange"},{"1":"Papaya","2":"Papaya"},{"1":"Peach","2":"Peach"},{"1":"Pear","2":"Pear"},{"1":"Pineapple","2":"Pineapple"},{"1":"Pomegranate","2":"Pomegranate"},{"1":"Strawberry","2":"Strawberry"},{"1":"Tamarind","2":"Tamarind"},{"1":"Watermelon","2":"Watermelon"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="juntando-e-dividindo" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="juntando-e-dividindo"><span class="header-section-number">5.6</span> Juntando e Dividindo</h2>
<section id="str_c" class="level4" data-number="5.6.0.1">
<h4 data-number="5.6.0.1" class="anchored" data-anchor-id="str_c"><span class="header-section-number">5.6.0.1</span> str_c</h4>
<p>Use para juntar várias strings em uma única string.</p>
<p>Para exemplificar, vamos criar uma segunda coluna em nossa tabela de frutas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nova coluna com uma string qualquer </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>col_nova <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(<span class="fu">c</span>(letters, LETTERS), <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">52</span>), <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">52</span>), <span class="fu">c</span>(letters, LETTERS))</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>col_nova <span class="ot">&lt;-</span> col_nova <span class="sc">|&gt;</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(nova_string, <span class="fu">names</span>(col_nova)) <span class="sc">|&gt;</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span> (<span class="at">n =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>) </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>frutas <span class="ot">&lt;-</span> <span class="fu">bind_cols</span> (fruit, col_nova)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Concatenando ambas colunas</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  frutas <span class="sc">|&gt;</span> </span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> ( <span class="at">str_c =</span> <span class="fu">str_c</span>(name, nova_string)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]},{"label":["str_c"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"a_1_1_a","3":"Applea_1_1_a"},{"1":"Apricot","2":"b_2_2_b","3":"Apricotb_2_2_b"},{"1":"Avocado","2":"c_3_3_c","3":"Avocadoc_3_3_c"},{"1":"Banana","2":"d_4_4_d","3":"Bananad_4_4_d"},{"1":"Blackberry","2":"e_5_5_e","3":"Blackberrye_5_5_e"},{"1":"Blueberry","2":"f_6_6_f","3":"Blueberryf_6_6_f"},{"1":"Cherry","2":"g_7_7_g","3":"Cherryg_7_7_g"},{"1":"Coconut","2":"h_8_8_h","3":"Coconuth_8_8_h"},{"1":"Custard-Apple","2":"i_9_9_i","3":"Custard-Applei_9_9_i"},{"1":"Dragonfruit","2":"j_10_10_j","3":"Dragonfruitj_10_10_j"},{"1":"Fig","2":"k_11_11_k","3":"Figk_11_11_k"},{"1":"Gooseberry","2":"l_12_12_l","3":"Gooseberryl_12_12_l"},{"1":"Grapes","2":"m_13_13_m","3":"Grapesm_13_13_m"},{"1":"Guava","2":"n_14_14_n","3":"Guavan_14_14_n"},{"1":"Jackfruit","2":"o_15_15_o","3":"Jackfruito_15_15_o"},{"1":"Java Plum","2":"p_16_16_p","3":"Java Plump_16_16_p"},{"1":"Kiwifruit","2":"q_17_17_q","3":"Kiwifruitq_17_17_q"},{"1":"Lime","2":"r_18_18_r","3":"Limer_18_18_r"},{"1":"Mango","2":"s_19_19_s","3":"Mangos_19_19_s"},{"1":"MuskMelon","2":"t_20_20_t","3":"MuskMelont_20_20_t"},{"1":"Olives","2":"u_21_21_u","3":"Olivesu_21_21_u"},{"1":"Orange","2":"v_22_22_v","3":"Orangev_22_22_v"},{"1":"Papaya","2":"w_23_23_w","3":"Papayaw_23_23_w"},{"1":"Peach","2":"x_24_24_x","3":"Peachx_24_24_x"},{"1":"Pear","2":"y_25_25_y","3":"Peary_25_25_y"},{"1":"Pineapple","2":"z_26_26_z","3":"Pineapplez_26_26_z"},{"1":"Pomegranate","2":"A_27_27_A","3":"PomegranateA_27_27_A"},{"1":"Strawberry","2":"B_28_28_B","3":"StrawberryB_28_28_B"},{"1":"Tamarind","2":"C_29_29_C","3":"TamarindC_29_29_C"},{"1":"Watermelon","2":"D_30_30_D","3":"WatermelonD_30_30_D"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use o parametro <strong>sep =</strong> para definir um caractere de separação quando juntar as strings se desejar.</p>
</div>
</div>
</section>
<section id="str_flatten" class="level4" data-number="5.6.0.2">
<h4 data-number="5.6.0.2" class="anchored" data-anchor-id="str_flatten"><span class="header-section-number">5.6.0.2</span> str_flatten</h4>
<p>Use para “achatar” o vetor de string. O parametro collapse = “” pode ser alterado para incluir um caractere específico enquanto ocorre o processo.</p>
<p>Por exemplo, temos uma string “Bom dia”. Neste caso, temos um vetor de caracteres de tamanho 7 (“B” “o” “m” ” ” “d” “i” “a”). A função flatten irá achatar este vetor e retornar apenas uma string com um único vetor (“Bom dia”).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>minha_string <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"B"</span>,<span class="st">"o"</span>,<span class="st">"m"</span>,<span class="st">" "</span>,<span class="st">"d"</span>,<span class="st">"i"</span>,<span class="st">"a"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span> (minha_string); minha_string</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "B" "o" "m" " " "d" "i" "a"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>minha_string <span class="ot">&lt;-</span> <span class="fu">str_flatten</span>(minha_string)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span> (minha_string); minha_string</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Bom dia"</code></pre>
</div>
</div>
</section>
<section id="str_dup" class="level4" data-number="5.6.0.3">
<h4 data-number="5.6.0.3" class="anchored" data-anchor-id="str_dup"><span class="header-section-number">5.6.0.3</span> str_dup</h4>
<p>Use para duplicar uma string determinado número de vezes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">str_dup =</span> <span class="fu">str_dup</span>(name, <span class="dv">3</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["str_dup"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"AppleAppleApple"},{"1":"Apricot","2":"ApricotApricotApricot"},{"1":"Avocado","2":"AvocadoAvocadoAvocado"},{"1":"Banana","2":"BananaBananaBanana"},{"1":"Blackberry","2":"BlackberryBlackberryBlackberry"},{"1":"Blueberry","2":"BlueberryBlueberryBlueberry"},{"1":"Cherry","2":"CherryCherryCherry"},{"1":"Coconut","2":"CoconutCoconutCoconut"},{"1":"Custard-Apple","2":"Custard-AppleCustard-AppleCustard-Apple"},{"1":"Dragonfruit","2":"DragonfruitDragonfruitDragonfruit"},{"1":"Fig","2":"FigFigFig"},{"1":"Gooseberry","2":"GooseberryGooseberryGooseberry"},{"1":"Grapes","2":"GrapesGrapesGrapes"},{"1":"Guava","2":"GuavaGuavaGuava"},{"1":"Jackfruit","2":"JackfruitJackfruitJackfruit"},{"1":"Java Plum","2":"Java PlumJava PlumJava Plum"},{"1":"Kiwifruit","2":"KiwifruitKiwifruitKiwifruit"},{"1":"Lime","2":"LimeLimeLime"},{"1":"Mango","2":"MangoMangoMango"},{"1":"MuskMelon","2":"MuskMelonMuskMelonMuskMelon"},{"1":"Olives","2":"OlivesOlivesOlives"},{"1":"Orange","2":"OrangeOrangeOrange"},{"1":"Papaya","2":"PapayaPapayaPapaya"},{"1":"Peach","2":"PeachPeachPeach"},{"1":"Pear","2":"PearPearPear"},{"1":"Pineapple","2":"PineapplePineapplePineapple"},{"1":"Pomegranate","2":"PomegranatePomegranatePomegranate"},{"1":"Strawberry","2":"StrawberryStrawberryStrawberry"},{"1":"Tamarind","2":"TamarindTamarindTamarind"},{"1":"Watermelon","2":"WatermelonWatermelonWatermelon"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="str_split_fixed" class="level4" data-number="5.6.0.4">
<h4 data-number="5.6.0.4" class="anchored" data-anchor-id="str_split_fixed"><span class="header-section-number">5.6.0.4</span> str_split_fixed</h4>
<p>Use para “quebrar” um string em partes. A funçao <strong>str_split</strong>() retorna uma string dividida enquanto a funçao <strong>str_split_fixed</strong>() retorna uma matriz de caracteres com número fixo de colunas.</p>
<p>Por exemplo, vamos usar a mesma tabela usada no exemplo da funçao <a href="#str_c">str_c</a> chamada frutas (na fruit). Iremos “quebrar as strings da coluna”nova_string” usando oseparator “_”. Como temos exatamente o mesmo número de sperador em todas as strings, a funções irá nos retornar um vetor de caracteres de tamanho 4.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">str_split =</span> <span class="fu">str_split</span>(nova_string, <span class="st">"_"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(str_split)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a" "1" "1" "a"

[[2]]
[1] "b" "2" "2" "b"

[[3]]
[1] "c" "3" "3" "c"

[[4]]
[1] "d" "4" "4" "d"

[[5]]
[1] "e" "5" "5" "e"

[[6]]
[1] "f" "6" "6" "f"

[[7]]
[1] "g" "7" "7" "g"

[[8]]
[1] "h" "8" "8" "h"

[[9]]
[1] "i" "9" "9" "i"

[[10]]
[1] "j"  "10" "10" "j" 

[[11]]
[1] "k"  "11" "11" "k" 

[[12]]
[1] "l"  "12" "12" "l" 

[[13]]
[1] "m"  "13" "13" "m" 

[[14]]
[1] "n"  "14" "14" "n" 

[[15]]
[1] "o"  "15" "15" "o" 

[[16]]
[1] "p"  "16" "16" "p" 

[[17]]
[1] "q"  "17" "17" "q" 

[[18]]
[1] "r"  "18" "18" "r" 

[[19]]
[1] "s"  "19" "19" "s" 

[[20]]
[1] "t"  "20" "20" "t" 

[[21]]
[1] "u"  "21" "21" "u" 

[[22]]
[1] "v"  "22" "22" "v" 

[[23]]
[1] "w"  "23" "23" "w" 

[[24]]
[1] "x"  "24" "24" "x" 

[[25]]
[1] "y"  "25" "25" "y" 

[[26]]
[1] "z"  "26" "26" "z" 

[[27]]
[1] "A"  "27" "27" "A" 

[[28]]
[1] "B"  "28" "28" "B" 

[[29]]
[1] "C"  "29" "29" "C" 

[[30]]
[1] "D"  "30" "30" "D" </code></pre>
</div>
</div>
<p>Se quisermos “quebrar” uma string usando um separador e já gerarmos as respectivas colunas em uma tabela, podemos usar a função str_split_fixed(), extrairmos as respectivas matrizes e adicionarmos como colunas na tabela, podemos fazer: .</p>
</section>
<section id="str_glue" class="level4" data-number="5.6.0.5">
<h4 data-number="5.6.0.5" class="anchored" data-anchor-id="str_glue"><span class="header-section-number">5.6.0.5</span> str_glue</h4>
<p>Use para interpolar/formatar uma string.</p>
<p>Por exemplo, se tivermos duas strings: s1 = “Fulano” e s2 = “da Silva”. Podemos “colar” estas strings usando a função <strong>str_glue</strong>().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="st">"Fulano"</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="st">"da Silva"</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_glue</span>(<span class="st">"{s1}"</span>,<span class="st">" "</span>, <span class="st">"{s2}"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fulano da Silva</code></pre>
</div>
</div>
<p>Podemos também juntar strings fixas e variáveis como no exemplo abaixo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="st">"Fulano"</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="st">"da Silva"</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_glue</span>(<span class="st">"Meu nome é {s1}"</span>,<span class="st">" "</span>, <span class="st">"{s2}"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meu nome é Fulano da Silva</code></pre>
</div>
</div>
</section>
<section id="str_glue_data" class="level4" data-number="5.6.0.6">
<h4 data-number="5.6.0.6" class="anchored" data-anchor-id="str_glue_data"><span class="header-section-number">5.6.0.6</span> str_glue_data</h4>
<p>É similar a função <a href="">str_glue</a>, mas adequada a objetos de dados.</p>
<p>Por exemplo, vamos juntar o nome das frutas, o nome da linha da tabela que ela está e mais uma string fixa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="sc">|&gt;</span> <span class="fu">str_glue_data</span>(<span class="st">"A {name} é uma fruta."</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A Apple é uma fruta.
A Apricot é uma fruta.
A Avocado é uma fruta.
A Banana é uma fruta.
A Blackberry é uma fruta.
A Blueberry é uma fruta.
A Cherry é uma fruta.
A Coconut é uma fruta.
A Custard-Apple é uma fruta.
A Dragonfruit é uma fruta.
A Fig é uma fruta.
A Gooseberry é uma fruta.
A Grapes é uma fruta.
A Guava é uma fruta.
A Jackfruit é uma fruta.
A Java Plum é uma fruta.
A Kiwifruit é uma fruta.
A Lime é uma fruta.
A Mango é uma fruta.
A MuskMelon é uma fruta.
A Olives é uma fruta.
A Orange é uma fruta.
A Papaya é uma fruta.
A Peach é uma fruta.
A Pear é uma fruta.
A Pineapple é uma fruta.
A Pomegranate é uma fruta.
A Strawberry é uma fruta.
A Tamarind é uma fruta.
A Watermelon é uma fruta.</code></pre>
</div>
</div>
</section>
</section>
<section id="ordenando-string" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="ordenando-string"><span class="header-section-number">5.7</span> Ordenando String</h2>
<section id="str_order" class="level4" data-number="5.7.0.1">
<h4 data-number="5.7.0.1" class="anchored" data-anchor-id="str_order"><span class="header-section-number">5.7.0.1</span> str_order</h4>
<p>Use para sequenciar um vetor de caracteres.</p>
<p>Por exemplo, para colocar em sequência de forma decrescente os nomes da frutas, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_order</span>(fruit<span class="sc">$</span>name, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9  8  7  6
[26]  5  4  3  2  1</code></pre>
</div>
</div>
<p>O resultado será uma sequência (descrescente) em que cada item do vetor está.</p>
</section>
<section id="str_sort" class="level4" data-number="5.7.0.2">
<h4 data-number="5.7.0.2" class="anchored" data-anchor-id="str_sort"><span class="header-section-number">5.7.0.2</span> str_sort</h4>
<p>Use para ordenar um vetor de caracteres.</p>
<p>Por exemplo, para ordenar de forma decrescente os nomes da frutas, podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(fruit<span class="sc">$</span>name, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">.name_repair =</span> <span class="st">"unique"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["value"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"Watermelon"},{"1":"Tamarind"},{"1":"Strawberry"},{"1":"Pomegranate"},{"1":"Pineapple"},{"1":"Pear"},{"1":"Peach"},{"1":"Papaya"},{"1":"Orange"},{"1":"Olives"},{"1":"MuskMelon"},{"1":"Mango"},{"1":"Lime"},{"1":"Kiwifruit"},{"1":"Java Plum"},{"1":"Jackfruit"},{"1":"Guava"},{"1":"Grapes"},{"1":"Gooseberry"},{"1":"Fig"},{"1":"Dragonfruit"},{"1":"Custard-Apple"},{"1":"Coconut"},{"1":"Cherry"},{"1":"Blueberry"},{"1":"Blackberry"},{"1":"Banana"},{"1":"Avocado"},{"1":"Apricot"},{"1":"Apple"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="auxiliares" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="auxiliares"><span class="header-section-number">5.8</span> Auxiliares</h2>
<section id="str_conv" class="level4" data-number="5.8.0.1">
<h4 data-number="5.8.0.1" class="anchored" data-anchor-id="str_conv"><span class="header-section-number">5.8.0.1</span> str_conv</h4>
<p>Use para converter o “encode” de uma string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rawToChar</span>(<span class="fu">as.raw</span>(<span class="dv">177</span>))</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\xb1"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_conv</span>(x, <span class="st">"ISO-8859-2"</span>) <span class="co"># Polones a com cedilha"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ą"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_conv</span>(x, <span class="st">"ISO-8859-1"</span>) <span class="co"># Mais-Menos</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "±"</code></pre>
</div>
</div>
</section>
<section id="str_view_all" class="level4" data-number="5.8.0.2">
<h4 data-number="5.8.0.2" class="anchored" data-anchor-id="str_view_all"><span class="header-section-number">5.8.0.2</span> str_view_all</h4>
<p>Use para ver os valores encontrados na string de acordo com um padrão de busca.</p>
<p>Por exemplo, se tivermos o padrão de busca como “er”, podemos ver onde na strings ele é encontrado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="fu">c</span>(<span class="st">"Banana"</span>, <span class="st">"Blueberry"</span>, <span class="st">"Blackberry"</span>), <span class="st">"er"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-5fcff32f334619da7efc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5fcff32f334619da7efc">{"x":{"html":"<ul>\n  <li>Banana<\/li>\n  <li>Blueb<span class='match'>er<\/span>ry<\/li>\n  <li>Blackb<span class='match'>er<\/span>ry<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>A função <strong>str_view_all</strong>(), mostrará <strong>todos</strong> os encontros na string, se quiser para a busca do padrão no <strong>primeiro</strong> encontro, usa <strong>str_view</strong>().</p>
</div>
</div>
</section>
<section id="str_wrap" class="level4" data-number="5.8.0.3">
<h4 data-number="5.8.0.3" class="anchored" data-anchor-id="str_wrap"><span class="header-section-number">5.8.0.3</span> str_wrap</h4>
<p>Use para formatar uma string em parágrafos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>thanks_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">R.home</span>(<span class="st">"doc"</span>), <span class="st">"THANKS"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>thanks <span class="ot">&lt;-</span> <span class="fu">str_c</span>(<span class="fu">readLines</span>(thanks_path), <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>thanks <span class="ot">&lt;-</span> <span class="fu">word</span>(thanks, <span class="dv">1</span>, <span class="dv">3</span>, <span class="fu">fixed</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>))</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">str_wrap</span>(thanks, <span class="at">width =</span> <span class="dv">60</span>, <span class="at">indent =</span> <span class="dv">2</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  R would not be what it is today without the invaluable
help of these people outside of the (former and current)
R Core team, who contributed by donating code, bug fixes
and documentation: Valerio Aimale, Suharto Anggono, Thomas
Baier, Gabe Becker, Henrik Bengtsson, Roger Bivand, Ben
Bolker, David Brahm, G"oran Brostr"om, Patrick Burns,
Vince Carey, Saikat DebRoy, Matt Dowle, Brian D'Urso,
Lyndon Drake, Dirk Eddelbuettel, Claus Ekstrom, Sebastian
Fischmeister, John Fox, Paul Gilbert, Yu Gong, Gabor
Grothendieck, Frank E Harrell Jr, Peter M. Haverty,
Torsten Hothorn, Robert King, Kjetil Kjernsmo, Roger
Koenker, Philippe Lambert, Jan de Leeuw, Jim Lindsey,
Patrick Lindsey, Catherine Loader, Gordon Maclean, Arni
Magnusson, John Maindonald, David Meyer, Ei-ji Nakama,
Jens Oehlschl"agel, Steve Oncley, Richard O'Keefe, Hubert
Palme, Roger D. Peng, Jose' C. Pinheiro, Tony Plate, Anthony
Rossini, Jonathan Rougier, Petr Savicky, Guenther Sawitzki,
Marc Schwartz, Arun Srinivasan, Detlef Steuer, Bill Simpson,
Gordon Smyth, Adrian Trapletti, Terry Therneau, Rolf Turner,
Bill Venables, Gregory R. Warnes, Andreas Weingessel, Morten
Welinder, James Wettenhall, Simon Wood, and Achim Zeileis.
Others have written code that has been adopted by R and is
acknowledged in the code files, including </code></pre>
</div>
</div>
</section>
</section>
<section id="expressões-regulares" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="expressões-regulares"><span class="header-section-number">5.9</span> Expressões Regulares</h2>
<p>Padrões de buscas são interpretados na funções do pacote stringr como Expressões Regulares (regex). Ou seja, quando uma função possui o parametro pattern =, significa que o interpretador irá entendem como uma expressão regular. Você pode alterar o interpretadores para outros tipos se necessário. Para saber mais sobre isso, acesse <a href="#outras-interpretações">Outras Interpretações</a>.</p>
<p><strong>Expressão Regular</strong> é uma sequencia de caracteres que especificam um padrão de busca em uma string.</p>
<p>No R, você escreve uma expressão regular como um string, ou seja, uma sequencia de caracteres entre asps simples ’ ou duplas “.</p>
<p>Alguns caracteres de uma expressão regular não podem ser representados diretamente como uma string no R. Estes são conhecidos como caracteres especiais e são uma sequencia de caracteres que tem um significado específico.</p>
<p>Por exemplo:</p>
<table class="table">
<thead>
<tr class="header">
<th>Caracteres Especiais</th>
<th>Representa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>\\</td>
<td>\</td>
</tr>
<tr class="even">
<td>\”</td>
<td>”</td>
</tr>
<tr class="odd">
<td>\?</td>
<td>?</td>
</tr>
</tbody>
</table>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para obter a lista completa, digite ? “’”.</p>
</div>
</div>
<p>Devido a isto, sempre que aparecer uma barra invertida ( \ ) em uma expressão regular, você deve digitar duas barras ( \\ ) na strings da expressão.</p>
<p>Isto é uma particularidade do R e outras linguagens isto pode não ser necessário.</p>
<p>Use a função <strong>writeLines</strong>() para ver como o R vê sua string depois dos caracteres especiais forem lido.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>\.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>\</code></pre>
</div>
</div>
<p>Como exemplo inicial, vamos utilizar a função <strong>str_extract</strong>() que recebe um string como parametro e também aceita o padrão de busca como outro parametro.</p>
<p>Iremos definir nosso <strong>padrão</strong> de busca como a letra “a”. Desta forma, se passarmos para a função str_detect a string “Banana” e o padrão “a”, ele deve retornar a letra “a”, pois a string Banana possui a letra “a”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span> (<span class="st">"Banana"</span>, <span class="st">"a"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a"</code></pre>
</div>
</div>
<p>Por outro lado, se passarmos a string “Fig” com o mesmo padrão de busca, teremos NA como retorno, pois a string “Fig” não possui a letra “a”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span> (<span class="st">"Fig"</span>, <span class="st">"a"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<section id="combinando-caracteres" class="level3" data-number="5.9.1">
<h3 data-number="5.9.1" class="anchored" data-anchor-id="combinando-caracteres"><span class="header-section-number">5.9.1</span> Combinando Caracteres</h3>
<p>No exemplo anterior utilizamos apenas um caractere como padrão de busca, no caso a letra “a”.</p>
<p>Quando desejamos combinar diversos caracteres (letras, numeros, simbolos, espaços, etc) utilizamos a expressões na tabela abaixo:</p>
<p>Para facilitar o entendimento, utilizaremos uma string com letras maiúsculas, minúsculas, símbolos e números:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>Str_Teste <span class="ot">&lt;-</span> <span class="st">"abc ABC 123</span><span class="sc">\t</span><span class="st">.!?</span><span class="sc">\\</span><span class="st">(){}</span><span class="sc">\n</span><span class="st">"</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>Str_Teste</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abc ABC 123\t.!?\\(){}\n"</code></pre>
</div>
</div>
<table class="table">
<colgroup>
<col style="width: 31%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>String Regex no R</th>
<th>Busca por</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>a</td>
<td>a (etc.)</td>
</tr>
<tr class="even">
<td>\\.</td>
<td>.</td>
</tr>
<tr class="odd">
<td>\\!</td>
<td>\!</td>
</tr>
<tr class="even">
<td>\\?</td>
<td>\?</td>
</tr>
<tr class="odd">
<td>\\\\</td>
<td>\\</td>
</tr>
<tr class="even">
<td>\\(</td>
<td>\(</td>
</tr>
<tr class="odd">
<td>\\)</td>
<td>\)</td>
</tr>
<tr class="even">
<td>\\{</td>
<td>\{</td>
</tr>
<tr class="odd">
<td>\\}</td>
<td>\}</td>
</tr>
<tr class="even">
<td>\\n</td>
<td>nova linha (ENTER)</td>
</tr>
<tr class="odd">
<td>\\t</td>
<td>TAB</td>
</tr>
<tr class="even">
<td>\\s</td>
<td>qualquer caractere em branco</td>
</tr>
<tr class="odd">
<td>\\d</td>
<td>qualquer digito</td>
</tr>
<tr class="even">
<td>\\w</td>
<td>qualquer letra</td>
</tr>
<tr class="odd">
<td>\\b</td>
<td>barra de espaço</td>
</tr>
<tr class="even">
<td>[:digit:]</td>
<td>digitos</td>
</tr>
<tr class="odd">
<td>[:alpha:]</td>
<td>letras</td>
</tr>
<tr class="even">
<td>[:lower:]</td>
<td>letras minúsculas</td>
</tr>
<tr class="odd">
<td>[:upper:]</td>
<td>letras maiúsculas</td>
</tr>
<tr class="even">
<td>[:alnum:]</td>
<td>letras e números</td>
</tr>
<tr class="odd">
<td>[:punct:]</td>
<td>pontuação</td>
</tr>
<tr class="even">
<td>[:graph:]</td>
<td>letras, números e pontuação</td>
</tr>
<tr class="odd">
<td>[:space:]</td>
<td>qualquer espaço em branco</td>
</tr>
<tr class="even">
<td>[:blank:]</td>
<td>espaço em branco e barra de espaço (mas não nova linha)</td>
</tr>
<tr class="odd">
<td>.</td>
<td>qualquer caractere exceto nova linha (ENTER)</td>
</tr>
</tbody>
</table>
<p>Vamos mostrar como usar a tabela acima com alguns exemplos. Para isso, iremos usar a string criada anteriormente chamada “Str_Teste”.</p>
<p><strong>Exemplo 1:</strong></p>
<p>Vamos buscar em nossa string de teste (Str_Teste) a letra minúscula “a”.</p>
<p>Na coluna da tabela acima chamada <strong>String</strong>, encontramos oque devemos digitar para construir o padrão de busca. Neste caso, seria “a”.</p>
<p>Se usarmos a função <strong>str_view_all</strong>() pssando nossa “Str_Teste” e o padrão de busca “a”, observamos que teremos marcado apenas a letra “a” na string. Isto significa que o padrão de busca foi encontrado na string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span> (Str_Teste, <span class="st">"a"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-0112a1a97d8edc8ab092" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0112a1a97d8edc8ab092">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span>bc ABC 123\t.!?\\(){}\n<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 2:</strong></p>
<p>Vamos buscar agora pelo padrão do símbolo de ponto de interrogação “?”. Similar ao exemplo anterior, vemos que apenas o ponto de interrogação foi encontrado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span> (Str_Teste, <span class="st">"</span><span class="sc">\\</span><span class="st">?"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-ee58e9f8a6106b8a85e0" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ee58e9f8a6106b8a85e0">{"x":{"html":"<ul>\n  <li>abc ABC 123\t.!<span class='match'>?<\/span>\\(){}\n<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 3:</strong></p>
<p>Vamos criar agora um padrão que busque por todos os digitos em nossa string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span> (Str_Teste, <span class="st">"</span><span class="sc">\\</span><span class="st">d"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-63ad4395897b9c159ca2" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-63ad4395897b9c159ca2">{"x":{"html":"<ul>\n  <li>abc ABC <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>\t.!?\\(){}\n<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para buscarmos pelo inverso do caso anterior, ou seja, todos os caracteres que NÃO são digitos, usamos a letra “D” maiúscula. Isto é válido também para os casos de “\\S” e “\\W” que seriam o inverso de “\\s” e “\\w” respectivamente.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span> (Str_Teste, <span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-cc0ecb82411f100c9599" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc0ecb82411f100c9599">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'> <\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'> <\/span>123<span class='match'>\t<\/span><span class='match'>.<\/span><span class='match'>!<\/span><span class='match'>?<\/span><span class='match'>\\<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>\n<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 4:</strong></p>
<p>Vamos criar agora um padrão que busque por todos os digitos e letras em nossa string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span> (Str_Teste, <span class="st">"[:alnum:]"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-432355f69e13f3ec9b8e" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-432355f69e13f3ec9b8e">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span> <span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span> <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>\t.!?\\(){}\n<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="quantificadores" class="level3" data-number="5.9.2">
<h3 data-number="5.9.2" class="anchored" data-anchor-id="quantificadores"><span class="header-section-number">5.9.2</span> Quantificadores</h3>
<p>Agora que já saber como criar padrões de busca para identificar diversos tipos de caracteres, veremos como difinir a quantidade desses caracteres em nosso padrão. Veja a tabela abaixo:</p>
<table class="table">
<thead>
<tr class="header">
<th>Regex</th>
<th>Busca</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>?</strong></td>
<td>Zero ou um</td>
</tr>
<tr class="even">
<td><strong>*</strong></td>
<td>Zero ou mais</td>
</tr>
<tr class="odd">
<td><strong>+</strong></td>
<td>Um ou mais</td>
</tr>
<tr class="even">
<td><strong>{<em>n</em>}</strong></td>
<td>Exatamente <strong>n</strong></td>
</tr>
<tr class="odd">
<td><strong>{<em>n,}</em></strong></td>
<td><strong>n</strong> ou mais</td>
</tr>
<tr class="even">
<td><strong>{<em>n,m}</em></strong></td>
<td>Entre <strong>n</strong> e <strong>m</strong></td>
</tr>
</tbody>
</table>
<p>Vamos ver como utilizamos estes quantificadores juntamente com os caracteres especiais vistos anteriormente (ver <a href="#combinando-caracteres">Combinando Caracteres</a>).</p>
<p>Para os exemplos a seguir utilizaremos a seguinte string de teste: Str_Teste_2 = “.a.aa.aaa”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>Str_Teste_2 <span class="ot">&lt;-</span> <span class="st">".a.aa.aaa"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Exemplo 1:</strong></p>
<p>Digamos que queremos buscar em nossa string de teste “Str_Teste” a letra “a” zero ou uma vez, para isso faremos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_2, <span class="st">"a?"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-819936faaae2489dbac8" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-819936faaae2489dbac8">{"x":{"html":"<ul>\n  <li><span class='match'><\/span>.<span class='match'>a<\/span><span class='match'><\/span>.<span class='match'>a<\/span><span class='match'>a<\/span><span class='match'><\/span>.<span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'><\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Neste caso, todas as vezes que a funções encontrar a letra “a” zero ou uma vez, elá irá marcar.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Aviso
</div>
</div>
<div class="callout-body-container callout-body">
<p>Se usarmos a função <strong>str_view</strong>() ela irá utilizar o padrão apenas até o primeiro encontro e depois irá para a busca, veja:</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(Str_Teste_2, <span class="st">"a?"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-fec06098148f4451335e" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-fec06098148f4451335e">{"x":{"html":"<ul>\n  <li><span class='match'><\/span>.a.aa.aaa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Observe que a busca para logo no primeiro caractere, pois estamos buscando pela letra “a” <strong>ZERO</strong> ou mais vezes.</p>
<p><strong>Exemplo 2:</strong></p>
<p>Agora vamos iremos buscar pela letra “a” <strong>UMA</strong> ou mais vezes, porém iremos utilizar a função str_view() ou invés da str_view_all(), parando a busca assim que o primeiro encontro ocorra:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(Str_Teste_2, <span class="st">"a+"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-87acb2c2cf6ade13b5b7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-87acb2c2cf6ade13b5b7">{"x":{"html":"<ul>\n  <li>.<span class='match'>a<\/span>.aa.aaa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 3:</strong></p>
<p>Neste exemplo, queremos criar um padrão de busca pela letra “a”, mas que ela ocorra <strong>DUAS</strong> a <strong>TRÊS</strong> vezes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(Str_Teste_2, <span class="st">"a{2,3}"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-b2e2eab3b8ab2e3216eb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b2e2eab3b8ab2e3216eb">{"x":{"html":"<ul>\n  <li>.a.<span class='match'>aa<\/span>.aaa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Veja que ele localizou apenas as duas letras “aa” e não marcou as letras “aaa”. Isto é porque utilizamos a função str_view(), que parou a busca assim que a primeiro encontro ocorreu. Se quisermos continuar a busca, devemos utilizar a função str_view_all().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_2, <span class="st">"a{2,3}"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-6134c3bac179417908bb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6134c3bac179417908bb">{"x":{"html":"<ul>\n  <li>.a.<span class='match'>aa<\/span>.<span class='match'>aaa<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 4:</strong></p>
<p>Neste exemplo, usaremos a tabela frutas, criada quando descrevemos a função <a href="">str_c</a>. Veja com ela era para se recordar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"a_1_1_a"},{"1":"Apricot","2":"b_2_2_b"},{"1":"Avocado","2":"c_3_3_c"},{"1":"Banana","2":"d_4_4_d"},{"1":"Blackberry","2":"e_5_5_e"},{"1":"Blueberry","2":"f_6_6_f"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Digamos que precisamos extrair apenas os numeros da coluna “nova_string”. E colocá-los em uma nova coluna chamda “numeros”.</p>
<p>Neste caso, podemos usar a função str_extract() com um padrão que encontre um número de <strong>0 até 9</strong>, seguido por <strong>um ou mais</strong> “qualquer caractere” e depois outro número de 0 até 9.</p>
<p>Este padrão irá encontrar padrões como “1_1” ou “2_2”.</p>
<p>Em seguida, usamos um outro padrão <strong>[:punct:]</strong> na função str_remove para remover a pontuação.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">numeros =</span> <span class="fu">str_extract</span>(nova_string, <span class="st">"[0-9].+[0-9]"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">numeros =</span> <span class="fu">str_remove</span>(numeros, <span class="st">"[:punct:]"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]},{"label":["numeros"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"a_1_1_a","3":"11"},{"1":"Apricot","2":"b_2_2_b","3":"22"},{"1":"Avocado","2":"c_3_3_c","3":"33"},{"1":"Banana","2":"d_4_4_d","3":"44"},{"1":"Blackberry","2":"e_5_5_e","3":"55"},{"1":"Blueberry","2":"f_6_6_f","3":"66"},{"1":"Cherry","2":"g_7_7_g","3":"77"},{"1":"Coconut","2":"h_8_8_h","3":"88"},{"1":"Custard-Apple","2":"i_9_9_i","3":"99"},{"1":"Dragonfruit","2":"j_10_10_j","3":"1010"},{"1":"Fig","2":"k_11_11_k","3":"1111"},{"1":"Gooseberry","2":"l_12_12_l","3":"1212"},{"1":"Grapes","2":"m_13_13_m","3":"1313"},{"1":"Guava","2":"n_14_14_n","3":"1414"},{"1":"Jackfruit","2":"o_15_15_o","3":"1515"},{"1":"Java Plum","2":"p_16_16_p","3":"1616"},{"1":"Kiwifruit","2":"q_17_17_q","3":"1717"},{"1":"Lime","2":"r_18_18_r","3":"1818"},{"1":"Mango","2":"s_19_19_s","3":"1919"},{"1":"MuskMelon","2":"t_20_20_t","3":"2020"},{"1":"Olives","2":"u_21_21_u","3":"2121"},{"1":"Orange","2":"v_22_22_v","3":"2222"},{"1":"Papaya","2":"w_23_23_w","3":"2323"},{"1":"Peach","2":"x_24_24_x","3":"2424"},{"1":"Pear","2":"y_25_25_y","3":"2525"},{"1":"Pineapple","2":"z_26_26_z","3":"2626"},{"1":"Pomegranate","2":"A_27_27_A","3":"2727"},{"1":"Strawberry","2":"B_28_28_B","3":"2828"},{"1":"Tamarind","2":"C_29_29_C","3":"2929"},{"1":"Watermelon","2":"D_30_30_D","3":"3030"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="alternadores" class="level3" data-number="5.9.3">
<h3 data-number="5.9.3" class="anchored" data-anchor-id="alternadores"><span class="header-section-number">5.9.3</span> Alternadores</h3>
<p>Até aqui, utilizamos os caracteres especiais (<a href="#combinando-caracteres">Combinando Caracteres</a>) e sabemos como localizá-los em diversas quantidades (<a href="#quantificadores">Quantificadores</a>). Mas em muitos casos precisamos organizá-los de forma lógica, possibilitando utilizá-los em combinações mais flexíveis. Para isto, utilizamos os símbolos de alternadores, veja:</p>
<table class="table">
<caption>Para os exemplos a seguir utilizaremos a seguinte string de teste: Str_Teste_3 = “abcde”</caption>
<thead>
<tr class="header">
<th>Regex</th>
<th>Busca</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>|</strong></td>
<td>OU</td>
</tr>
<tr class="even">
<td><strong>[</strong> <strong>]</strong></td>
<td>Um dos</td>
</tr>
<tr class="odd">
<td><strong>[^</strong> <strong>]</strong></td>
<td>Tudo exceto</td>
</tr>
<tr class="even">
<td><strong>[ - ]</strong></td>
<td>Range</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>Str_Teste_3 <span class="ot">&lt;-</span> <span class="st">"abcde"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Exemplo 1:</strong></p>
<p>Digamos que desejamos criar um padrão que busque pela letras “ab” <strong>OU</strong> a letra “d”, para isto podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_3, <span class="st">"ab|d"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-de72af4cc3d0ddbebbfa" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-de72af4cc3d0ddbebbfa">{"x":{"html":"<ul>\n  <li><span class='match'>ab<\/span>c<span class='match'>d<\/span>e<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 2:</strong></p>
<p>Digamos que desejamos criar um padrão que busque qualquer <strong>um dos</strong> caracteres “abe”, para isto podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_3, <span class="st">"[abe]"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-94c6cb2f0ec3a27e93cb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-94c6cb2f0ec3a27e93cb">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span>cd<span class='match'>e<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 3:</strong></p>
<p>Digamos que desejamos criar um padrão que busque qualquer um <strong>range</strong> de letras entre as letras “a” até a “c”, para isto podemos usar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_3, <span class="st">"[a-c]"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-b009c940517c56026717" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b009c940517c56026717">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span>de<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 4:</strong></p>
<p>Neste exemplo, usaremos novamente a tabela <strong>frutas</strong>, criada quando descrevemos a função <a href="">str_c</a>.</p>
<p>Digamos que precisamos filtrar nesta tabela, apenas as frutas que possuem nomes compostos, ou seja, separados por espaço ou uma pontuação (ex “-”).</p>
<p>Podemos usar a função filter() passando o resultado da função str_detect() junto com um padrão. Há diversas maneiras de construir este padrão. Aqui optar por buscar por caracteres alfa-numéricos (letras e números) e usamos o alternador [^ ] para negar tais caracteres, portanto, iremos identificar se a string NÃO possui letras ou números.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="fu">str_detect</span>(name, <span class="st">"[^[:alnum:]]"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Custard-Apple","2":"i_9_9_i"},{"1":"Java Plum","2":"p_16_16_p"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="ancoragem" class="level3" data-number="5.9.4">
<h3 data-number="5.9.4" class="anchored" data-anchor-id="ancoragem"><span class="header-section-number">5.9.4</span> Ancoragem</h3>
<p>Para definir se a sequência do padrão de busca está no início ou fim da string, utilizamos as expressões de ancoragem:</p>
<table class="table">
<thead>
<tr class="header">
<th>Regex</th>
<th>Busca</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>^</strong></td>
<td>Início da string</td>
</tr>
<tr class="even">
<td><strong>$</strong></td>
<td>Fim da string</td>
</tr>
</tbody>
</table>
<p>Para os exemplos a seguir utilizaremos a seguinte string de teste: Str_Teste_4 = “aaa”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>Str_Teste_4 <span class="ot">&lt;-</span> <span class="st">"aaa"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Exemplo 1:</strong></p>
<p>Para criar um padrão que busque a letra “a” apenas no <strong>fim</strong> da string, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_4, <span class="st">"a$"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-3e73acfc42bbafe1ac01" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-3e73acfc42bbafe1ac01">{"x":{"html":"<ul>\n  <li>aa<span class='match'>a<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 2:</strong></p>
<p>Para criar um padrão que busque a letra “a” apenas no <strong>início</strong> da string, usamos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_4, <span class="st">"^a"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-5a5fe936cfff8b7bc4af" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a5fe936cfff8b7bc4af">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span>aa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 3:</strong></p>
<p>Neste exemplo, usaremos novamente a tabela <strong>frutas</strong>, criada quando descrevemos a função <a href="">str_c</a>.</p>
<p>Digamos que queremos filtrar apenas as frutas que <strong>terminem</strong> com a letra “<strong>a</strong>” <strong>E</strong> também que terminem com a letra “<strong>o</strong>”. Podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="fu">str_detect</span>(name, <span class="st">"[ao]$"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Avocado","2":"c_3_3_c"},{"1":"Banana","2":"d_4_4_d"},{"1":"Guava","2":"n_14_14_n"},{"1":"Mango","2":"s_19_19_s"},{"1":"Papaya","2":"w_23_23_w"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="grupos" class="level3" data-number="5.9.5">
<h3 data-number="5.9.5" class="anchored" data-anchor-id="grupos"><span class="header-section-number">5.9.5</span> Grupos</h3>
<p>Você pode utilizar <strong>parênteses</strong> <strong>(</strong> <strong>)</strong> para definir expressões de <strong>precedência</strong> ou para serem <strong>referenciados</strong> posteriormente através da <strong>ordem de criação</strong>.</p>
<p>Para os exemplos a seguir utilizaremos a seguinte string de teste: Str_Teste_5 = “abbaab”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>Str_Teste_5 <span class="ot">&lt;-</span> <span class="st">"abbaab"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Exemplo 1:</strong></p>
<p>Digamos que tenhamos a string “Blueberry” e você queira criar um padrão que busque pela letra “e” precedida das letras “lu” OU “b”.</p>
<p>Neste caso, devemos criar um grupo de precedência para “lu” OU “b”. Para isto iremos colocar esta parte da expressão entre parênteses (lu|b). agora podemos utilzar este grupo e concluir o padrão de busca conforme a seguir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">"Blueberry"</span>, <span class="st">"(lu|b)e"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-647b7a99aae868f12372" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-647b7a99aae868f12372">{"x":{"html":"<ul>\n  <li>B<span class='match'>lue<\/span><span class='match'>be<\/span>rry<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Veja que se nossa string fosse “Blueberry is special”, a letra “e” de “special” não seria encontrada:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">"Blueberry is special"</span>, <span class="st">"(lu|b)e"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-ad4953b5aa8e8bf9571f" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ad4953b5aa8e8bf9571f">{"x":{"html":"<ul>\n  <li>B<span class='match'>lue<\/span><span class='match'>be<\/span>rry is special<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Se quisermos criar um padrão que encontre a letra “e” precedida de qualquer letra, podemos fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">"Blueberry is special"</span>, <span class="st">"([:alpha:])e"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-da51e7b7c13657d1700f" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-da51e7b7c13657d1700f">{"x":{"html":"<ul>\n  <li>Bl<span class='match'>ue<\/span><span class='match'>be<\/span>rry is s<span class='match'>pe<\/span>cial<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 2:</strong></p>
<p>Ao criar um grupo, como vimos no exemplo anterior, podemos fazer referência à este grupo usando <strong>\\<em>n</em>,</strong> on <strong><em>n</em></strong> é a ordem de criação do grupo.</p>
<p>Por exemplo, digamos que criamos um grupo utilizando os parênteses ( ) que contenha apenas letra “a”. Seu código ficaria <strong>(a)</strong>, e ele poderia ser referenciado com \<strong>\1</strong>, pois foi o primeiro grupo a ser criado.</p>
<p>Digamos que agora, você crie um segundo grupo com a letra “b”, seu código ficaria <strong>(b)</strong> e poderia ser referenciado com <strong>\\2</strong>.</p>
<p>Sabendo como criar os grupos e como referênciá-los, podemos montar um padrão de busca utilizando tanto os grupos quanto suas referência. Veja este exemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_5, <span class="st">"(a)(b)</span><span class="sc">\\</span><span class="st">2</span><span class="sc">\\</span><span class="st">1"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-e47e750757fe853738cb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e47e750757fe853738cb">{"x":{"html":"<ul>\n  <li><span class='match'>abba<\/span>ab<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Neste exemplo, nosso padrão busca por “ba”, atraveś de \\2\\1, desde que tenham precedência de “ab”, através dos grupos (a)(b).</p>
<p><strong>Exemplo 3:</strong></p>
<p>Digamos que tenhamos a string “Tem uma banana na mesa”. Queremos criar uma padrão que busque as letras “nana”. Apesar de termos soluções mais simples, poderíamos criar um grupo contendo “na” e usar a ordem de referência para concluir a expressão:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">"Tem uma banana na mesa"</span>, <span class="st">"(na)</span><span class="sc">\\</span><span class="st">1"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-4b2d09b6c74bf9b8c69a" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4b2d09b6c74bf9b8c69a">{"x":{"html":"<ul>\n  <li>Tem uma ba<span class='match'>nana<\/span> na mesa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 4:</strong></p>
<p>Neste exemplo, usaremos novamente a tabela <strong>frutas</strong>, criada quando descrevemos a função <a href="">str_c</a>.</p>
<p>Aqui iremos obter o mesmo resultado para o Problema 4 descrito na seção <a href="#quantificadores">Quantificadores</a>.</p>
<p>Porém agora vamos usar a função <strong>str_replace</strong>() e o suporte à <strong>grupos</strong> que acabamos de ver para atingir o mesmo resultado, ou seja, extrair apenas os números da coluna nova_string.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">numeros =</span> <span class="fu">str_replace</span>(nova_string, <span class="st">".+([0-9]).?([0-9]).+"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">2"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]},{"label":["numeros"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"Apple","2":"a_1_1_a","3":"11"},{"1":"Apricot","2":"b_2_2_b","3":"22"},{"1":"Avocado","2":"c_3_3_c","3":"33"},{"1":"Banana","2":"d_4_4_d","3":"44"},{"1":"Blackberry","2":"e_5_5_e","3":"55"},{"1":"Blueberry","2":"f_6_6_f","3":"66"},{"1":"Cherry","2":"g_7_7_g","3":"77"},{"1":"Coconut","2":"h_8_8_h","3":"88"},{"1":"Custard-Apple","2":"i_9_9_i","3":"99"},{"1":"Dragonfruit","2":"j_10_10_j","3":"10"},{"1":"Fig","2":"k_11_11_k","3":"11"},{"1":"Gooseberry","2":"l_12_12_l","3":"12"},{"1":"Grapes","2":"m_13_13_m","3":"13"},{"1":"Guava","2":"n_14_14_n","3":"14"},{"1":"Jackfruit","2":"o_15_15_o","3":"15"},{"1":"Java Plum","2":"p_16_16_p","3":"16"},{"1":"Kiwifruit","2":"q_17_17_q","3":"17"},{"1":"Lime","2":"r_18_18_r","3":"18"},{"1":"Mango","2":"s_19_19_s","3":"19"},{"1":"MuskMelon","2":"t_20_20_t","3":"20"},{"1":"Olives","2":"u_21_21_u","3":"21"},{"1":"Orange","2":"v_22_22_v","3":"22"},{"1":"Papaya","2":"w_23_23_w","3":"23"},{"1":"Peach","2":"x_24_24_x","3":"24"},{"1":"Pear","2":"y_25_25_y","3":"25"},{"1":"Pineapple","2":"z_26_26_z","3":"26"},{"1":"Pomegranate","2":"A_27_27_A","3":"27"},{"1":"Strawberry","2":"B_28_28_B","3":"28"},{"1":"Tamarind","2":"C_29_29_C","3":"29"},{"1":"Watermelon","2":"D_30_30_D","3":"30"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><strong>Detalhes do exemplo acima:</strong></p>
<p>Observe que a função <strong>str_replace</strong>(), recebe dois padrões, sendo o primeiro de busca e o segundo daquilo que iremos substituir o primeiro.</p>
<p>Neste caso, nosso padrão de busca, encontra “qualquer caractere” “uma ou mais vezes”, depois cria um “grupo com números de 0 a 9”, seguido por “qualquer caractere zero ou uma vez” e depois cria o segundo “grupo com números de 0 à 9” e conclui com “qualquer caractere uma ou mais vezes”.</p>
<p>Com nosso padrão de busca criado, iremos criar nosso padrão de substituição, ou seja, aquilo que for encontrado pelo padrão de busca, será substituído pelo padrão de substituição.</p>
<p>Nosso padrão de substituição ficou simples (“\\1\\2”). Veja que ele apenas pega o conteúdo do grupo 1 e grupo 2 criados no padrão de busca usando parênteses para substituir.</p>
</section>
<section id="pesquisa-ao-redor" class="level3" data-number="5.9.6">
<h3 data-number="5.9.6" class="anchored" data-anchor-id="pesquisa-ao-redor"><span class="header-section-number">5.9.6</span> Pesquisa ao Redor</h3>
<p>Em alguns casos, precisamos criar um padrão que <strong>olhe ao redor</strong> para encontrar o que buscamos.</p>
<p>Há símbolos para definirmos grupos que estão <strong>precedendo</strong> o que buscamos e há símbolos para definirmos grupos que estão <strong>posteriores</strong> ao que buscamos. Há também símbolos para negar os casos anteriores e posteriores.</p>
<p>Veja a tabela:</p>
<table class="table">
<caption>Para os exemplos a seguir utilizaremos a seguinte string de teste: Str_Teste_6 = “bacad”</caption>
<thead>
<tr class="header">
<th>Regex</th>
<th>Busca</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(<strong>?=</strong> )</td>
<td>Seguido por</td>
</tr>
<tr class="even">
<td>(<strong>?!</strong> )</td>
<td>Não seguido por</td>
</tr>
<tr class="odd">
<td>(<strong>?&lt;=</strong> )</td>
<td>Precedido por</td>
</tr>
<tr class="even">
<td>(<strong>?&lt;!</strong> )</td>
<td>Não precedido por</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>Str_Teste_6 <span class="ot">&lt;-</span> <span class="st">"bacad"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Exemplo 1:</strong></p>
<p>Vamos criar um padrão de busca que localize a letra “a”, mas queremos a(s) letra(s) “a” que são seguidas apenas pela letra “c”.</p>
<p>Para isso iremos criar um grupo (“c”), mas como é um grupo que irá seguir aquilo que buscamos, ao invés dos parêntese apenas, iremos utilizar o símbolo da tabela anterior “?=”a fazer (?=c). Depois adicionamos a busca pela letra “a”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_6, <span class="st">"a(?=c)"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-93a96c9d2c4eb153976d" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-93a96c9d2c4eb153976d">{"x":{"html":"<ul>\n  <li>b<span class='match'>a<\/span>cad<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 2:</strong></p>
<p>Vamos criar um padrão de busca que localize a letra “a”, mas queremos a(s) letra(s) “a” que são precedidas pela letra “b”. Usando a mesma tabela e raciocínio do exemplo anterior, podemos criar o grupo com a letra b, mas como é um grupo de precedência, temos que adicionar os símbolos “?&lt;=” e fazer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(Str_Teste_6, <span class="st">"(?&lt;=b)a"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-a1d8bda358a837d00b46" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-a1d8bda358a837d00b46">{"x":{"html":"<ul>\n  <li>b<span class='match'>a<\/span>cad<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Exemplo 4:</strong></p>
<p>Neste exemplo, usaremos novamente a tabela <strong>frutas</strong>, criada quando descrevemos a função <a href="">str_c</a>.</p>
<p>Digamos que iremos filter as frutas que comecem com as letras “B” e “P” se forem seguidas das letras “e” e “l”. Desta forma, não teremos na saída frutas como “Banana” ou “Pineapple”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>frutas <span class="sc">|&gt;</span> </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"^[BP](?=[el])"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nova_string"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Blackberry","2":"e_5_5_e"},{"1":"Blueberry","2":"f_6_6_f"},{"1":"Peach","2":"x_24_24_x"},{"1":"Pear","2":"y_25_25_y"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="outras-interpretações" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="outras-interpretações"><span class="header-section-number">5.10</span> Outras Interpretações</h2>
<section id="regex" class="level4" data-number="5.10.0.1">
<h4 data-number="5.10.0.1" class="anchored" data-anchor-id="regex"><span class="header-section-number">5.10.0.1</span> regex</h4>
<p>Conforme visto na seção <a href="#expressões-regulares">Expressões Regulares</a>, o interpretador padrão das funções do pacote stringr, é o regex, ou seja, sempre que tivermos o parâmetro pattern =, se não especificarmos nada, ele irá interpretar a string deste parêmetro como se fosse uma expressão regular (regex).</p>
<p>A seguir, veremos como mudar este padrão e introduzir outros interpretadores disponíveis.</p>
</section>
<section id="fixed" class="level4" data-number="5.10.0.2">
<h4 data-number="5.10.0.2" class="anchored" data-anchor-id="fixed"><span class="header-section-number">5.10.0.2</span> fixed</h4>
<p>Para buscar bytes nativos (raw), podemos usar o interpretador fixed(). Esta opção é bastante rápida, mas pode perder alguns caracteres que podem estar representados de maneiras diferentes (ex não ASCII).</p>
<p>Exemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(<span class="st">"\u0130"</span>, <span class="fu">fixed</span>(<span class="st">"i"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="coll" class="level4" data-number="5.10.0.3">
<h4 data-number="5.10.0.3" class="anchored" data-anchor-id="coll"><span class="header-section-number">5.10.0.3</span> coll</h4>
<p>Para comparar strings respeitando seu agrupamento. Interessante para strings com localização e não sensíveis a maiúsculas ou minúsculas.</p>
<p>Exemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(<span class="st">"\u0130"</span>, <span class="fu">coll</span>(<span class="st">"i"</span>, <span class="cn">TRUE</span>, <span class="at">locale =</span> <span class="st">"tr"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="boundary" class="level4" data-number="5.10.0.4">
<h4 data-number="5.10.0.4" class="anchored" data-anchor-id="boundary"><span class="header-section-number">5.10.0.4</span> boundary</h4>
<p>Para localizar fronterias entre caracteres. quebra de linhas, sentenças ou palavras.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para maiores informações veja os exemplo digitando ?stringr::modifiers</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../Transformacao/Transformacao_de_dados_com_dplyr.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transformação de Dados com DPLYR</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../DataHora/Datas_e_horas_com_lubridate.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Datas e horas com LUBRIDATE</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>